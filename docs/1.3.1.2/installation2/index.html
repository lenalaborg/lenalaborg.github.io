<!doctype html><html lang=en class=color-toggle-hidden>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=color-scheme content="light dark">
<meta name=description content="Installation  /* Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */ /* Uncomment @import statement to use as custom stylesheet */ /*@import &#34;https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700&#34;;*/ @import url(http://fonts.googleapis.com/earlyaccess/notosanskr.css); article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section{display:block} audio,video{display:inline-block} audio:not([controls]){display:none;height:0} html{font-family:&#34;Noto Sans KR&#34;;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%} * {font-family:&#34;Noto Sans KR&#34;,&#34;Open Sans&#34;,&#34;DejaVu Sans&#34;,sans-serif !important;} a{background:none} a:focus{outline:thin dotted} a:active,a:hover{outline:0} h1{font-size:2em;margin:.67em 0; color: #111 !important; font-weight: bold !important;} h2,h3,h4,h5,h6 {font-weight: bold !important; color: #111 !important;} abbr[title]{border-bottom:1px dotted} b,strong{font-weight:bold} dfn{font-style:italic} hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0} mark{background:#ff0;color:#000} code,kbd,pre,samp{font-family:monospace;font-size:1em} pre{white-space:pre-wrap} q{quotes:&#34;\201C&#34; &#34;">
<title>installation2 | LENA</title>
<link rel=icon href=/favicon/lena_logo.png type=image/x-icon>
<script src=/js/darkmode-ce906ea916.min.js></script>
<link rel=preload as=font href=/fonts/Metropolis.woff2 type=font/woff2 crossorigin=anonymous>
<link rel=preload as=font href=/fonts/LiberationSans.woff2 type=font/woff2 crossorigin=anonymous>
<link rel=preload href=/main-0c0de99286.min.css as=style>
<link rel=stylesheet href=/main-0c0de99286.min.css media=all>
<link rel=preload href=/mobile-c344439d04.min.css as=style>
<link rel=stylesheet href=/mobile-c344439d04.min.css media="screen and (max-width: 45rem)">
<link rel=preload href=/print-f79fc3e5d7.min.css as=style>
<link rel=stylesheet href=/print-f79fc3e5d7.min.css media=print>
<link rel=preload href=/custom.css as=style>
<link rel=stylesheet href=/custom.css media=all>
</head>
<body itemscope itemtype=https://schema.org/WebPage><svg class="svg-sprite" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><symbol viewBox="-2.29 -2.29 28.57 28.57" id="gdoc_arrow_back" xmlns="http://www.w3.org/2000/svg"><path d="M24 10.526v2.947H5.755l8.351 8.421-2.105 2.105-12-12 12-12 2.105 2.105-8.351 8.421H24z"/></symbol><symbol viewBox="-2.29 -2.29 28.57 28.57" id="gdoc_arrow_left_alt" xmlns="http://www.w3.org/2000/svg"><path d="M5.965 10.526V6.035L0 12l5.965 5.965v-4.491H24v-2.947H5.965z"/></symbol><symbol viewBox="-2.29 -2.29 28.57 28.57" id="gdoc_arrow_right_alt" xmlns="http://www.w3.org/2000/svg"><path d="M18.035 10.526V6.035L24 12l-5.965 5.965v-4.491H0v-2.947h18.035z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_bitbucket" xmlns="http://www.w3.org/2000/svg"><path d="M15.905 13.355c.189 1.444-1.564 2.578-2.784 1.839-1.375-.602-1.375-2.784-.034-3.403 1.151-.705 2.818.223 2.818 1.564zm1.907-.361c-.309-2.44-3.076-4.056-5.328-3.042-1.426.636-2.389 2.148-2.32 3.747.086 2.097 2.08 3.815 4.176 3.626s3.729-2.234 3.472-4.331zm4.108-9.315c-.756-.997-2.045-1.169-3.179-1.358-3.214-.516-6.513-.533-9.727.034-1.066.172-2.269.361-2.939 1.323 1.1 1.031 2.664 1.186 4.073 1.358 2.544.327 5.156.344 7.699.017 1.426-.172 3.008-.309 4.073-1.375zm.979 17.788c-.481 1.684-.206 3.953-1.994 4.932-3.076 1.701-6.806 1.89-10.191 1.289-1.787-.327-3.884-.894-4.864-2.578-.43-1.65-.705-3.334-.98-5.018l.103-.275.309-.155c5.121 3.386 12.288 3.386 17.427.0.808.241.206 1.22.189 1.805zM26.01 4.951c-.584 3.764-1.255 7.51-1.908 11.257-.189 1.1-1.255 1.719-2.148 2.183-3.214 1.615-6.96 1.89-10.483 1.512-2.389-.258-4.829-.894-6.771-2.389-.911-.705-.911-1.908-1.083-2.922-.602-3.523-1.289-7.046-1.719-10.604.206-1.547 1.942-2.217 3.231-2.698C6.848.654 8.686.362 10.508.19c3.884-.378 7.854-.241 11.618.859 1.341.395 2.784.945 3.695 2.097.412.533.275 1.203.189 1.805z"/></symbol><symbol viewBox="-2.29 -2.29 28.57 28.57" id="gdoc_bookmark" xmlns="http://www.w3.org/2000/svg"><path d="M15.268 4.392q.868.0 1.532.638t.664 1.506v17.463l-7.659-3.268-7.608 3.268V6.536q0-.868.664-1.506t1.532-.638h10.876zm4.34 14.144V4.392q0-.868-.638-1.532t-1.506-.664H6.537q0-.868.664-1.532T8.733.0h10.876q.868.0 1.532.664t.664 1.532v17.412z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_brightness_auto" xmlns="http://www.w3.org/2000/svg"><path d="M16.846 18.938h2.382L15.22 7.785h-2.44L8.772 18.938h2.382l.871-2.44h3.95zm7.087-9.062L27.999 14l-4.066 4.124v5.809h-5.809L14 27.999l-4.124-4.066H4.067v-5.809L.001 14l4.066-4.124V4.067h5.809L14 .001l4.124 4.066h5.809v5.809zm-11.385 4.937L14 10.282l1.452 4.531h-2.904z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_brightness_dark" xmlns="http://www.w3.org/2000/svg"><path d="M14 21.435q3.079.0 5.257-2.178T21.435 14t-2.178-5.257T14 6.565q-1.51.0-3.079.697 1.917.871 3.108 2.701T15.22 14t-1.191 4.037-3.108 2.701q1.568.697 3.079.697zm9.933-11.559L27.999 14l-4.066 4.124v5.809h-5.809L14 27.999l-4.124-4.066H4.067v-5.809L.001 14l4.066-4.124V4.067h5.809L14 .001l4.124 4.066h5.809v5.809z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_brightness_light" xmlns="http://www.w3.org/2000/svg"><path d="M14 21.435q3.079.0 5.257-2.178T21.435 14t-2.178-5.257T14 6.565 8.743 8.743 6.565 14t2.178 5.257T14 21.435zm9.933-3.311v5.809h-5.809L14 27.999l-4.124-4.066H4.067v-5.809L.001 14l4.066-4.124V4.067h5.809L14 .001l4.124 4.066h5.809v5.809L27.999 14z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_cloud_off" xmlns="http://www.w3.org/2000/svg"><path d="M9.023 10.5H7q-1.914.0-3.281 1.395t-1.367 3.309 1.367 3.281T7 19.852h11.375zM3.5 4.976l1.477-1.477L24.5 23.022l-1.477 1.477-2.352-2.297H6.999q-2.898.0-4.949-2.051t-2.051-4.949q0-2.844 1.969-4.867t4.758-2.133zm19.086 5.578q2.242.164 3.828 1.832T28 16.351q0 3.008-2.461 4.758l-1.695-1.695q1.805-.984 1.805-3.063.0-1.422-1.039-2.461t-2.461-1.039h-1.75v-.602q0-2.68-1.859-4.539t-4.539-1.859q-1.531.0-2.953.711l-1.75-1.695Q11.431 3.5 14.001 3.5q2.953.0 5.496 2.078t3.09 4.977z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_code" xmlns="http://www.w3.org/2000/svg"><path d="M9.917 24.5a1.75 1.75.0 10-3.501.001 1.75 1.75.0 003.501-.001zm0-21a1.75 1.75.0 10-3.501.001A1.75 1.75.0 009.917 3.5zm11.666 2.333a1.75 1.75.0 10-3.501.001 1.75 1.75.0 003.501-.001zm1.75.0a3.502 3.502.0 01-1.75 3.026c-.055 6.581-4.721 8.039-7.82 9.023-2.898.911-3.846 1.349-3.846 3.117v.474a3.502 3.502.0 011.75 3.026c0 1.932-1.568 3.5-3.5 3.5s-3.5-1.568-3.5-3.5c0-1.294.711-2.424 1.75-3.026V6.526A3.502 3.502.0 014.667 3.5c0-1.932 1.568-3.5 3.5-3.5s3.5 1.568 3.5 3.5a3.502 3.502.0 01-1.75 3.026v9.06c.93-.456 1.914-.766 2.807-1.039 3.391-1.075 5.323-1.878 5.359-5.687a3.502 3.502.0 01-1.75-3.026c0-1.932 1.568-3.5 3.5-3.5s3.5 1.568 3.5 3.5z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_date" xmlns="http://www.w3.org/2000/svg"><path d="M27.192 28.844V11.192H4.808v17.652h22.384zm0-25.689q1.277.0 2.253.976t.976 2.253v22.459q0 1.277-.976 2.216t-2.253.939H4.808q-1.352.0-2.291-.901t-.939-2.253V6.385q0-1.277.939-2.253t2.291-.976h1.577V.001h3.23v3.155h12.769V.001h3.23v3.155h1.577zm-3.155 11.267v3.155h-3.23v-3.155h3.23zm-6.46.0v3.155h-3.155v-3.155h3.155zm-6.384.0v3.155h-3.23v-3.155h3.23z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_download" xmlns="http://www.w3.org/2000/svg"><path d="M2.866 28.209h26.269v3.79H2.866v-3.79zm26.268-16.925L16 24.418 2.866 11.284h7.493V.001h11.283v11.283h7.493z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_email" xmlns="http://www.w3.org/2000/svg"><path d="M28.845 9.615v-3.23L16 14.422 3.155 6.385v3.23L16 17.577zm0-6.46q1.277.0 2.216.977T32 6.385v19.23q0 1.277-.939 2.253t-2.216.977H3.155q-1.277.0-2.216-.977T0 25.615V6.385q0-1.277.939-2.253t2.216-.977h25.69z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_git" xmlns="http://www.w3.org/2000/svg"><path d="M27.472 12.753 15.247.529a1.803 1.803.0 00-2.55.0l-2.84 2.84 2.137 2.137a2.625 2.625.0 013.501 3.501l3.499 3.499a2.625 2.625.0 11-1.237 1.237l-3.499-3.499c-.083.04-.169.075-.257.106v7.3a2.626 2.626.0 11-1.75.0v-7.3a2.626 2.626.0 01-1.494-3.607L8.62 4.606l-8.09 8.09a1.805 1.805.0 000 2.551l12.225 12.224a1.803 1.803.0 002.55.0l12.168-12.168a1.805 1.805.0 000-2.551z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_github" xmlns="http://www.w3.org/2000/svg"><path d="M16 .394c8.833.0 15.999 7.166 15.999 15.999.0 7.062-4.583 13.062-10.937 15.187-.813.146-1.104-.354-1.104-.771.0-.521.021-2.25.021-4.396.0-1.5-.5-2.458-1.083-2.958 3.562-.396 7.312-1.75 7.312-7.896.0-1.75-.625-3.167-1.646-4.291.167-.417.708-2.042-.167-4.25-1.333-.417-4.396 1.646-4.396 1.646a15.032 15.032.0 00-8 0S8.937 6.602 7.603 7.018c-.875 2.208-.333 3.833-.167 4.25-1.021 1.125-1.646 2.542-1.646 4.291.0 6.125 3.729 7.5 7.291 7.896-.458.417-.875 1.125-1.021 2.146-.917.417-3.25 1.125-4.646-1.333-.875-1.521-2.458-1.646-2.458-1.646-1.562-.021-.104.979-.104.979 1.042.479 1.771 2.333 1.771 2.333.938 2.854 5.396 1.896 5.396 1.896.0 1.333.021 2.583.021 2.979.0.417-.292.917-1.104.771C4.582 29.455-.001 23.455-.001 16.393-.001 7.56 7.165.394 15.998.394zM6.063 23.372c.042-.083-.021-.187-.146-.25-.125-.042-.229-.021-.271.042-.042.083.021.187.146.25.104.062.229.042.271-.042zm.646.709c.083-.062.062-.208-.042-.333-.104-.104-.25-.146-.333-.062-.083.062-.062.208.042.333.104.104.25.146.333.062zm.625.937c.104-.083.104-.25.0-.396-.083-.146-.25-.208-.354-.125-.104.062-.104.229.0.375s.271.208.354.146zm.875.875c.083-.083.042-.271-.083-.396-.146-.146-.333-.167-.417-.062-.104.083-.062.271.083.396.146.146.333.167.417.062zm1.187.521c.042-.125-.083-.271-.271-.333-.167-.042-.354.021-.396.146s.083.271.271.312c.167.062.354.0.396-.125zm1.313.104c0-.146-.167-.25-.354-.229-.187.0-.333.104-.333.229.0.146.146.25.354.229.187.0.333-.104.333-.229zm1.208-.208c-.021-.125-.187-.208-.375-.187-.187.042-.312.167-.292.312.021.125.187.208.375.167s.312-.167.292-.292z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_gitlab" xmlns="http://www.w3.org/2000/svg"><path d="M1.629 11.034 14 26.888.442 17.048a1.09 1.09.0 01-.39-1.203l1.578-4.811zm7.217.0h10.309l-5.154 15.854zM5.753 1.475l3.093 9.559H1.63l3.093-9.559a.548.548.0 011.031.0zm20.618 9.559 1.578 4.811c.141.437-.016.922-.39 1.203l-13.558 9.84 12.371-15.854zm0 0h-7.216l3.093-9.559a.548.548.0 011.031.0z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_heart" xmlns="http://www.w3.org/2000/svg"><path d="M16 29.714a1.11 1.11.0 01-.786-.321L4.072 18.643c-.143-.125-4.071-3.714-4.071-8 0-5.232 3.196-8.357 8.535-8.357 3.125.0 6.053 2.464 7.464 3.857 1.411-1.393 4.339-3.857 7.464-3.857 5.339.0 8.535 3.125 8.535 8.357.0 4.286-3.928 7.875-4.089 8.035L16.785 29.392c-.214.214-.5.321-.786.321z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_keyborad_arrow_down" xmlns="http://www.w3.org/2000/svg"><path d="M3.281 5.36 14 16.079 24.719 5.36 28 8.641l-14 14-14-14z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_keyborad_arrow_left" xmlns="http://www.w3.org/2000/svg"><path d="M25.875 28.25 22.125 32 6.126 16.001 22.125.002l3.75 3.75-12.25 12.25z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_keyborad_arrow_right" xmlns="http://www.w3.org/2000/svg"><path d="M6.125 28.25 18.375 16 6.125 3.75 9.875.0l15.999 15.999L9.875 31.998z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_keyborad_arrow_up" xmlns="http://www.w3.org/2000/svg"><path d="M24.719 22.64 14 11.921 3.281 22.64.0 19.359l14-14 14 14z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_link" xmlns="http://www.w3.org/2000/svg"><path d="M24.037 7.963q3.305.0 5.634 2.366T32 16t-2.329 5.671-5.634 2.366h-6.46v-3.08h6.46q2.028.0 3.493-1.465t1.465-3.493-1.465-3.493-3.493-1.465h-6.46v-3.08h6.46zM9.615 17.578v-3.155h12.77v3.155H9.615zM3.005 16q0 2.028 1.465 3.493t3.493 1.465h6.46v3.08h-6.46q-3.305.0-5.634-2.366T0 16.001t2.329-5.671 5.634-2.366h6.46v3.08h-6.46q-2.028.0-3.493 1.465t-1.465 3.493z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_menu" xmlns="http://www.w3.org/2000/svg"><path d="M.001 5.334h31.998v3.583H.001V5.334zm0 12.416v-3.5h31.998v3.5H.001zm0 8.916v-3.583h31.998v3.583H.001z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_notification" xmlns="http://www.w3.org/2000/svg"><path d="M22.615 19.384l2.894 2.894v1.413H2.49v-1.413l2.894-2.894V12.25q0-3.365 1.716-5.856t4.745-3.231v-1.01q0-.875.606-1.514T13.999.0t1.548.639.606 1.514v1.01q3.029.74 4.745 3.231t1.716 5.856v7.134zM14 27.999q-1.211.0-2.053-.808t-.841-2.019h5.788q0 1.144-.875 1.986T14 27.999z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_path" xmlns="http://www.w3.org/2000/svg"><path d="M28 12.62h-9.793V8.414h-2.826v11.173h2.826v-4.206H28V26.62h-9.793v-4.206H12.62v-14H9.794v4.206H.001V1.381h9.793v4.206h8.413V1.381H28V12.62z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_person" xmlns="http://www.w3.org/2000/svg"><path d="M16 20.023q5.052.0 10.526 2.199t5.473 5.754v4.023H0v-4.023q0-3.555 5.473-5.754t10.526-2.199zM16 16q-3.275.0-5.614-2.339T8.047 8.047t2.339-5.661T16 0t5.614 2.386 2.339 5.661-2.339 5.614T16 16z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_search" xmlns="http://www.w3.org/2000/svg"><path d="M11.925 20.161q3.432.0 5.834-2.402t2.402-5.834-2.402-5.834-5.834-2.402-5.834 2.402-2.402 5.834 2.402 5.834 5.834 2.402zm10.981.0L32 29.255 29.255 32l-9.094-9.094v-1.458l-.515-.515q-3.26 2.831-7.721 2.831-4.976.0-8.45-3.432T.001 11.925t3.474-8.45 8.45-3.474 8.407 3.474 3.432 8.45q0 1.802-.858 4.075t-1.973 3.646l.515.515h1.458z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_shield" xmlns="http://www.w3.org/2000/svg"><path d="M22.167 15.166V3.5h-8.166v20.726c.93-.492 2.424-1.349 3.883-2.497 1.95-1.531 4.284-3.919 4.284-6.562zm3.499-13.999v14c0 7.674-10.737 12.523-11.192 12.724-.146.073-.31.109-.474.109s-.328-.036-.474-.109c-.456-.201-11.192-5.049-11.192-12.724v-14C2.334.529 2.863.0 3.501.0H24.5c.638.0 1.167.529 1.167 1.167z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_tags" xmlns="http://www.w3.org/2000/svg"><path d="M6.606 7.549c0-1.047-.84-1.887-1.887-1.887s-1.887.84-1.887 1.887.84 1.887 1.887 1.887 1.887-.84 1.887-1.887zm15.732 8.493c0 .501-.206.988-.546 1.327l-7.239 7.254c-.354.339-.84.546-1.342.546s-.988-.206-1.327-.546L1.342 14.066C.59 13.329.0 11.899.0 10.852V4.718a1.9 1.9.0 011.887-1.887h6.134c1.047.0 2.477.59 3.229 1.342L21.792 14.7c.339.354.546.84.546 1.342zm5.661.0c0 .501-.206.988-.546 1.327l-7.239 7.254c-.354.339-.84.546-1.342.546-.767.0-1.15-.354-1.651-.87l6.93-6.93c.339-.339.546-.826.546-1.327s-.206-.988-.546-1.342L13.609 4.173c-.752-.752-2.182-1.342-3.229-1.342h3.303c1.047.0 2.477.59 3.229 1.342L27.454 14.7c.339.354.546.84.546 1.342z"/></symbol></svg>
<div class=wrapper>
<input type=checkbox class=hidden id=menu-control>
<input type=checkbox class=hidden id=menu-header-control>
<header class=gdoc-header>
<div class="container flex align-center justify-between">
<a class=gdoc-header__link href=https://lenalaborg.github.io/>
<span class="gdoc-brand flex align-center">
<img class=gdoc-brand__img src=/logo_lena_w.png alt>
<span class=gdoc-brand__title>LENA</span>
</span>
</a>
<div class=gdoc-menu-header>
<span id=gdoc-dark-mode><svg class="icon gdoc_brightness_dark"><title>Toggle Dark/Light/Auto mode</title><use xlink:href="#gdoc_brightness_dark"/></svg><svg class="icon gdoc_brightness_light"><title>Toggle Dark/Light/Auto mode</title><use xlink:href="#gdoc_brightness_light"/></svg><svg class="icon gdoc_brightness_auto"><title>Toggle Dark/Light/Auto mode</title><use xlink:href="#gdoc_brightness_auto"/></svg>
</span>
</div>
</div>
</header>
<main class="container flex flex-even">
<div class=gdoc-page>
<div class="gdoc-page__header flex flex-wrap
justify-between
hidden-mobile" itemprop=breadcrumb>
<div><svg class="icon gdoc_path hidden-mobile"><use xlink:href="#gdoc_path"/></svg>
<ol class=breadcrumb itemscope itemtype=https://schema.org/BreadcrumbList>
<li itemprop=itemListElement itemscope itemtype=https://schema.org/ListItem><a itemscope itemtype=https://schema.org/WebPage itemprop=item itemid=/ href=/><span itemprop=name>LENA</span></a><meta itemprop=position content="1"></li><li> / </li><li itemprop=itemListElement itemscope itemtype=https://schema.org/ListItem><a itemscope itemtype=https://schema.org/WebPage itemprop=item itemid=/docs/ href=/docs/><span itemprop=name>Docs</span></a><meta itemprop=position content="2"></li><li> / </li><li itemprop=itemListElement itemscope itemtype=https://schema.org/ListItem><a itemscope itemtype=https://schema.org/WebPage itemprop=item itemid=/docs/1.3.1.2/ href=/docs/1.3.1.2/><span itemprop=name>1.3.1.2</span></a><meta itemprop=position content="3"></li><li> / </li><li itemprop=itemListElement itemscope itemtype=https://schema.org/ListItem><span itemprop=name>installation2</span><meta itemprop=position content="4"></li>
</ol>
</div>
</div>
<article class="gdoc-markdown gdoc-markdown__align--left">
<div class=gdoc-include><!doctype html>
<html lang=ko>
<head>
<meta charset=utf-8><!--[if IE]><meta http-equiv=x-ua-compatible content="IE=edge"><![endif]-->
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=generator content="Asciidoctor 1.5.8">
<meta name=author content="LENA Support">
<title>Installation</title>
<style>@import "http://fonts.googleapis.com/earlyaccess/notosanskr.css";article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}audio,video{display:inline-block}audio:not([controls]){display:none;height:0}html{font-family:noto sans kr;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}*{font-family:noto sans kr,open sans,dejavu sans,sans-serif!important}a{background:0 0}a:focus{outline:thin dotted}a:active,a:hover{outline:0}h1{font-size:2em;margin:.67em 0;color:#111!important;font-weight:700!important}h2,h3,h4,h5,h6{font-weight:700!important;color:#111!important}abbr[title]{border-bottom:1px dotted}b,strong{font-weight:700}dfn{font-style:italic}hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}mark{background:#ff0;color:#000}code,kbd,pre,samp{font-family:monospace;font-size:1em}pre{white-space:pre-wrap}q{quotes:"\201C" "\201D" "\2018" "\2019"}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sup{top:-.5em}sub{bottom:-.25em}img{border:0}svg:not(:root){overflow:hidden}figure{margin:0}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{border:0;padding:0}.button{background:#f5f5f5;padding:2px 5px}button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}button,input{line-height:normal}button,select{text-transform:none}button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}button[disabled],html input[disabled]{cursor:default}input[type=checkbox],input[type=radio]{box-sizing:border-box;padding:0}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}textarea{overflow:auto;vertical-align:top}table{border-collapse:collapse;border-spacing:0}*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}html,body{font-size:100%}body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:noto sans kr,noto serif,dejavu serif,serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}a:hover{cursor:pointer}img,object,embed{max-width:100%;height:auto}object,embed{height:100%}img{-ms-interpolation-mode:bicubic}.left{float:left!important}.right{float:right!important}.text-left{text-align:left!important}.text-right{text-align:right!important}.text-center{text-align:center!important}.text-justify{text-align:justify!important}.hide{display:none}img,object,svg{display:inline-block;vertical-align:middle}textarea{height:auto;min-height:50px}select{width:100%}.center{margin-left:auto;margin-right:auto}.stretch{width:100%}.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}.admonitionblock table{border-radius:0}.admonitionblock>table td.icon{width:0!important}.admonitionblock>table td.content{width:0!important;padding-left:.125em!important}.admonitionblock>table td.content::after{border-left:none!important}.admonitionblock.important>table{border:1px solid #df331259!important;background-color:rgba(253,243,241,.8);border-left:3px solid #e04e4e!important}.admonitionblock.important>table td.icon>i{display:block;position:absolute;top:10px;left:20px;width:200px;text-align:left;text-shadow:1px 1px 2px transparent;font-size:20px!important;background:0 0}.admonitionblock.important>table td.icon>i::after{content:"Important";font-size:15px;font-weight:600;padding-left:8px;margin-top:0;display:inline-block;vertical-align:middle}.admonitionblock.important>table td.icon>i::before{display:inline-block;vertical-align:middle;color:#e04e4e}.admonitionblock.important>table td.content{padding-top:2.5em;padding-left:1.8em!important}.admonitionblock.note>table{border:1px solid rgba(0,115,187,.35)!important;background-color:rgba(241,250,255,.8);border-left:3px solid #4273bf!important}.admonitionblock.note>table td.icon>i{display:block;position:absolute;top:10px;left:20px;width:200px;text-align:left;text-shadow:1px 1px 2px transparent;font-size:20px!important;background:0 0}.admonitionblock.note>table td.icon>i::after{content:"Note";font-size:15px;font-weight:600;padding-left:8px;margin-top:0;display:inline-block;vertical-align:middle}.admonitionblock.note>table td.icon>i::before{color:#4273bf}.admonitionblock.note>table td.icon>i::before{display:inline-block;vertical-align:middle;color:#0073bb}.admonitionblock.note>table td.content{padding-top:2.5em;padding-left:1.8em!important}.admonitionblock table{border:1px solid #e6e6e6!important}.admonitionblock th,.admonitionblock td{position:relative;vertical-align:middle;border-bottom:1px solid #e6e6e6}.admonitionblock tr:last-child th,.admonitionblock tr:last-child td{border:none!important}.admonitionblock td li:last-child p{margin-bottom:0}div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}a{color:#2156a5;text-decoration:underline;line-height:inherit}a:hover,a:focus{color:#1d4b8f}a img{border:0}p{font-family:inherit;font-weight:400;font-size:15px;line-height:1.3;margin-bottom:1.25em;text-rendering:optimizeLegibility}p aside{font-size:.875em;line-height:1.35;font-style:italic}h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:noto sans kr,open sans,dejavu sans,sans-serif;font-weight:300;font-style:normal;color:#111;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}h1{font-size:3em!important}h2{font-size:2.35em!important}h3,#toctitle,.sidebarblock>.content>.title{font-size:1.875em!important}h4{font-size:1.6em!important}h5{font-size:1.4em!important}h6{font-size:1.125em!important}hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}em,i{font-style:italic;line-height:inherit}strong,b{font-weight:700;line-height:inherit}small{font-size:60%;line-height:inherit}code[data-lang=bash]{font-family:Consolas,courier new,monospace!important;font-weight:400;color:rgba(0,0,0,.9)}ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}ul,ol{margin-left:1.5em}ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}ul.square{list-style-type:square}ul.circle{list-style-type:circle}ul.disc{list-style-type:disc}ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}dl dt{margin-bottom:.3125em;font-weight:700}dl dd{margin-bottom:1.25em}abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}abbr{text-transform:none}blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}blockquote cite::before{content:"\2014 \0020"}blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}.paragraph a{display:inline-block;margin-bottom:1.25rem}@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}h1{font-size:2.75em}h2{font-size:2em;margin-bottom:1em}h3{font-size:1.6em;margin-top:1.2em;margin-bottom:.85em}h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}h4{font-size:1.3em;margin-top:1.5em;margin-bottom:.85em}h4>a{color:#333}h5{font-size:1.15em;margin-top:1.5em;margin-bottom:.85em}h6{font-size:1em;margin-top:1.5em;margin-bottom:.85em}table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}table thead,table tfoot{background:#f7f8f7}table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.25rem;font-size:.85em;height:40px;vertical-align:middle!important;color:rgba(0,0,0,.8);text-align:left}table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}table tr.even,table tr.alt{background:#f8f8f7}table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6;font-size:.85em;height:40px;vertical-align:middle!important}table tbody tr td{height:45px}h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}.clearfix::after,.float-group::after{clear:both}:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}:not(pre)>code.nobreak{word-wrap:normal}:not(pre)>code.nowrap{white-space:nowrap}pre{color:rgba(0,0,0,.9);font-family:noto sans kr,droid sans mono,dejavu sans mono,monospace;line-height:1.45;text-rendering:optimizeSpeed}pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}pre>code{display:block}pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}em em{font-style:normal}strong strong{font-weight:400}.keyseq{color:rgba(51,51,51,.8)}kbd{font-family:noto sans kr,droid sans mono,dejavu sans mono,monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}.keyseq kbd:first-child{margin-left:0}.keyseq kbd:last-child{margin-right:0}.menuseq,.menuref{color:#000}.menuseq b:not(.caret),.menuref{font-weight:inherit}.menuseq{word-spacing:-.02em}.menuseq b.caret{font-size:1.25em;line-height:.8}.menuseq i.caret{font-weight:700;text-align:center;width:.45em}.button{font-weight:700;color:#c40352}b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}b.button::before{content:"[";padding:0 3px 0 2px}b.button::after{content:"]";padding:0 2px 0 3px}p a>code:hover{color:rgba(0,0,0,.9)}#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}#header::after,#content::after,#footnotes::after,#footer::after{clear:both}#content{margin-top:1.25em}#content::before{content:none}#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:2.25em;padding-bottom:5.25em;padding-left:.25em;font-size:.85em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}#header .details span:first-child{margin-left:-.125em}#header .details span.email a{color:rgba(0,0,0,.85)}#header .details br{display:none}#header .details br+span::before{content:"\00a0\2013\00a0"}#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}#header .details br+span#revremark::before{content:"\00a0|\00a0"}#header #revnumber{text-transform:capitalize}#header #revnumber::after{content:"\00a0"}#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}#toc>ul{margin-left:.125em}#toc ul.sectlevel0>li>a{font-style:italic}#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}#toc ul{font-family:noto sans kr,open sans,dejavu sans,sans-serif;list-style-type:none}#toc ul.sectlevel1>li>a{font-size:1.2em;font-weight:500}#toc ul li a{color:#222;line-height:1.5}#toc ul li ul.sectlevel2 li a{font-size:.95em;color:#666}#toc li{line-height:1.3334;margin-top:.3334em}#toc a{text-decoration:none}#toc a:active{text-decoration:underline}#toctitle{color:#7a2518;font-size:1em;font-weight:400}@media screen and (min-width:768px){#toctitle{font-size:1.375em!important}body.toc2{padding-left:15em;padding-right:0}#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}#toc.toc2>ul{font-size:.9em;margin-bottom:0}#toc.toc2 ul ul{margin-left:0;padding-left:1em}#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}body.toc2.toc-right{padding-left:0;padding-right:15em}body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}@media screen and (min-width:1280px){body.toc2{padding-left:23em;padding-right:3em}#toc.toc2{width:20em}#toc.toc2 #toctitle{font-size:1.2em}#toc.toc2>ul{font-size:.95em}#toc.toc2 ul ul{padding-left:1.25em}body.toc2.toc-right{padding-left:0;padding-right:20em}}#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}#content #toc>:first-child{margin-top:0}#content #toc>:last-child{margin-bottom:0}#footer{max-width:100%;background:rgba(0,0,0,.8);padding:1.25em}#footer-text{color:rgba(255,255,255,.8);line-height:1.44}#content{margin-bottom:.625em}.sect1{padding-bottom:.625em}@media screen and (min-width:768px){#content{margin-bottom:1.25em}.sect1{padding-bottom:1.25em}}.sect1:last-child{padding-bottom:0}.sect1+.sect1{border-top:1px solid #e7e7e9}#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#111;text-decoration:none}#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}details>summary:first-of-type{cursor:pointer;display:list-item;outline:none;margin-bottom:.75em}.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:noto sans kr,noto serif,dejavu serif,serif;font-size:.8rem;color:#70767b}table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}.paragraph>.title{font-size:1em}.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}table.tableblock #preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:inherit}.admonitionblock>table{border-collapse:separate;border:0;background:0 0;width:100%}.admonitionblock>table td.icon{text-align:center;width:80px}.admonitionblock>table td.icon img{max-width:none}.admonitionblock>table td.icon .title{font-weight:700;font-family:noto sans kr,open sans,dejavu sans,sans-serif;text-transform:uppercase}.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;color:rgba(0,0,0,.6);position:relative}.admonitionblock>table td.content:after{content:'';display:block;width:1px;height:80%;position:absolute;left:0;top:10%;border-left:1px solid #e6e6e6}.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}.exampleblock>.content>:first-child{margin-top:0}.exampleblock>.content>:last-child{margin-bottom:0}.sidebarblock{border-style:solid;border-width:1px;border-color:#dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;-webkit-border-radius:4px;border-radius:4px}.sidebarblock>:first-child{margin-top:0}.sidebarblock>:last-child{margin-bottom:0}.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}.literalblock pre,.listingblock>.content>pre{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;overflow-x:auto;padding:1em;font-size:.8125em}@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}.listingblock>.content{position:relative}.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}.listingblock:hover code[data-lang]::before{display:block}.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}.listingblock pre.highlightjs{padding:0}.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}.listingblock pre.prettyprint{border-width:0}.prettyprint{background:#f7f7f8}pre.prettyprint .linenums{line-height:1.45;margin-left:2em}pre.prettyprint li{background:0 0;list-style-type:inherit;padding-left:0}pre.prettyprint li code[data-lang]::before{opacity:1}pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:0 0}table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}table.linenotable td.code{padding-left:.75em}table.linenotable td.linenos{border-right:1px solid;opacity:.35;padding-right:.5em}pre.pygments .lineno{border-right:1px solid;opacity:.35;display:inline-block;margin-right:.75em}pre.pygments .lineno::before{content:"";margin-right:-.125em}.quoteblock{margin:0 1em 1.25em 1.5em;display:table}.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}.quoteblock blockquote{margin:0;padding:0;border:0}.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:700;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}.verseblock{margin:0 1em 1.25em}.verseblock pre{font-family:noto sans kr,open sans,dejavu sans,sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}.verseblock pre strong{font-weight:400}.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}.quoteblock .attribution br,.verseblock .attribution br{display:none}.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}.quoteblock.abstract{margin:0 1em 1.25em;display:block}.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}.quoteblock.excerpt,.quoteblock .quoteblock{margin:0 0 1.25em;padding:0 0 .25em 1em;border-left:.25em solid #dddddf}.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:15px}.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;text-align:left;margin-right:0}table.tableblock{max-width:100%;border-collapse:separate}p.tableblock:last-child{margin-bottom:0}td.tableblock>.content>:last-child{margin-bottom:-1.25em}td.tableblock>.content>:last-child.sidebarblock{margin-bottom:0}table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0;text-align:center;background:0 0!important;color:#111;font-weight:700}table.grid-all>thead>tr>td.tableblock,table.grid-all>tbody>tr>td.tableblock{text-align:left}table.grid-all>tbody>tr>td.tableblock p{font-size:1em}table.grid-all>thead>tr:nth-child(even)>td{background:#f8f9fa!important}table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}table.frame-all{border-width:1px}table.frame-sides{border-width:0 1px}table.frame-topbot,table.frame-ends{border-width:1px 0}table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd),table.stripes-even tr:nth-of-type(even),table.stripes-hover tr:hover{background:#f8f8f7}th.halign-left,td.halign-left{text-align:left}th.halign-right,td.halign-right{text-align:right}th.halign-center,td.halign-center{text-align:center}th.valign-top,td.valign-top{vertical-align:top}th.valign-bottom,td.valign-bottom{vertical-align:bottom}th.valign-middle,td.valign-middle{vertical-align:middle}table thead th,table tfoot th{font-weight:700}tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:700}p.tableblock>code:only-child{background:0 0;padding:0}p.tableblock{font-size:1em}ol{margin-left:1.75em}ul li ol{margin-left:1.5em}dl dd{margin-left:1.125em}dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}ul.unstyled,ol.unstyled{margin-left:0}ul.checklist{margin-left:.625em}ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}ul.checklist li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}ul.inline>li{margin-left:1.25em}.unstyled dl dt{font-weight:400;font-style:normal}ol.arabic{list-style-type:decimal}ol.decimal{list-style-type:decimal-leading-zero}ol.loweralpha{list-style-type:lower-alpha}ol.upperalpha{list-style-type:upper-alpha}ol.lowerroman{list-style-type:lower-roman}ol.upperroman{list-style-type:upper-roman}ol.lowergreek{list-style-type:lower-greek}.hdlist>table,.colist>table{border:0;background:0 0}.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:0 0}td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}td.hdlist1{font-weight:700;padding-bottom:1.25em}.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}.colist td:not([class]):first-child img{max-width:none}.colist td:not([class]):last-child{padding:.25em 0}.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}.imageblock{}.imageblock .content{box-shadow:0 3px 10px rgba(0,0,0,.16);padding:10px 3%;text-align:center;margin-bottom:10px;border:1px solid #e6e6e6;border-radius:6px}.imageblock .content img{width:94%}.imageblock.left{margin:.25em .625em 1.25em 0}.imageblock.right{margin:.25em 0 1.25em .625em}.imageblock>.title{margin-bottom:0}.imageblock.thumb,.imageblock.th{border-width:6px}.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}.image.left{margin-right:.625em}.image.right{margin-left:.625em}a.image{text-decoration:none;display:inline-block}a.image object{pointer-events:none}sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}sup.footnote a,sup.footnoteref a{text-decoration:none}sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}#footnotes .footnote a:first-of-type{font-weight:700;text-decoration:none;margin-left:-1.05em}#footnotes .footnote:last-of-type{margin-bottom:0}#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}.gist .file-data>table td.line-data{width:99%}div.unbreakable{page-break-inside:avoid}.big{font-size:larger}.small{font-size:smaller}.underline{text-decoration:underline}.overline{text-decoration:overline}.line-through{text-decoration:line-through}.aqua{color:#00bfbf}.aqua-background{background:#00fafa}.black{color:#000}.black-background{background:#000}.blue{color:#0000bf}.blue-background{background:#0000fa}.fuchsia{color:#bf00bf}.fuchsia-background{background:#fa00fa}.gray{color:#606060}.gray-background{background:#7d7d7d}.green{color:#006000}.green-background{background:#007d00}.lime{color:#00bf00}.lime-background{background:#00fa00}.maroon{color:#600000}.maroon-background{background:#7d0000}.navy{color:#000060}.navy-background{background:#00007d}.olive{color:#606000}.olive-background{background:#7d7d00}.purple{color:#600060}.purple-background{background:#7d007d}.red{color:#bf0000}.red-background{background:#fa0000}.silver{color:#909090}.silver-background{background:#bcbcbc}.teal{color:#006060}.teal-background{background:#007d7d}.white{color:#bfbfbf}.white-background{background:#fafafa}.yellow{color:#bfbf00}.yellow-background{background:#fafa00}span.icon>.fa{cursor:default}a span.icon>.fa{cursor:inherit}.fa{font:30px/1 FontAwesome!important}.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default;font-family:FontAwesome}.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:noto sans kr,open sans,dejavu sans,sans-serif;font-style:normal;font-weight:700}.conum[data-value] *{color:#fff!important}.conum[data-value]+b{display:none}.conum[data-value]::after{content:attr(data-value)}pre .conum[data-value]{position:relative;top:-.125em}b.conum *{color:inherit!important}.conum:not([data-value]):empty{display:none}dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}h1,h2,p,td.content,span.alt{letter-spacing:-.01em}p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}p,blockquote,dt,td.content,span.alt{font-size:15px;line-height:1.6}p{margin-bottom:1.25rem}.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}.print-only{display:none!important}@page{margin:1.25cm .75cm}@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}html{font-size:80%}a{color:inherit!important;text-decoration:underline!important}a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href)")";display:inline-block;font-size:.875em;padding-left:.25em}abbr[title]::after{content:" (" attr(title)")"}pre,blockquote,tr,img,object,svg{page-break-inside:avoid}thead{display:table-header-group}svg{max-width:100%}p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}#toc,.sidebarblock,.exampleblock>.content{background:0 0!important}#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}body.book #header{text-align:center}body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}body.book #header .details{border:0!important;display:block;padding:0!important}body.book #header .details span:first-child{margin-left:0!important}body.book #header .details br{display:block}body.book #header .details br+span::before{content:none!important}body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}.listingblock code[data-lang]::before{display:block}#footer{padding:0 .9375em}.hide-on-print{display:none!important}.print-only{display:block!important}.hide-for-print{display:none!important}.show-for-print{display:inherit!important}}@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}.sect1{padding:0!important}.sect1+.sect1{border:0}#footer{background:0 0}#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}pre.CodeRay{background-color:#f7f7f8;border:1px solid #e6e6e6;border-radius:10px}}</style>
<link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css>
<style>.CodeRay .line-numbers{border-right:1px solid #d8d8d8;padding:0 .5em 0 .25em}.CodeRay span.line-numbers{display:inline-block;margin-right:.5em;color:rgba(0,0,0,.3)}.CodeRay .line-numbers strong{color:rgba(0,0,0,.4)}table.CodeRay{border-collapse:separate;border-spacing:0;margin-bottom:0;border:0;background:0 0}table.CodeRay td{vertical-align:top;line-height:1.45}table.CodeRay td.line-numbers{text-align:right}table.CodeRay td.line-numbers>pre{padding:0;color:rgba(0,0,0,.3)}table.CodeRay td.code{padding:0 0 0 .5em}table.CodeRay td.code>pre{padding:0}.CodeRay .debug{color:#fff!important;background:navy!important}.CodeRay .annotation{color:#007}.CodeRay .attribute-name{color:navy}.CodeRay .attribute-value{color:#700}.CodeRay .binary{color:#509}.CodeRay .comment{color:#998;font-style:italic}.CodeRay .char{color:#04d}.CodeRay .char .content{color:#04d}.CodeRay .char .delimiter{color:#039}.CodeRay .class{color:#458;font-weight:700}.CodeRay .complex{color:#a08}.CodeRay .constant,.CodeRay .predefined-constant{color:teal}.CodeRay .color{color:#099}.CodeRay .class-variable{color:#369}.CodeRay .decorator{color:#b0b}.CodeRay .definition{color:#099}.CodeRay .delimiter{color:#000}.CodeRay .doc{color:#970}.CodeRay .doctype{color:#34b}.CodeRay .doc-string{color:#d42}.CodeRay .escape{color:#666}.CodeRay .entity{color:#800}.CodeRay .error{color:#808}.CodeRay .exception{color:inherit}.CodeRay .filename{color:#099}.CodeRay .function{color:#900;font-weight:700}.CodeRay .global-variable{color:teal}.CodeRay .hex{color:#058}.CodeRay .integer,.CodeRay .float{color:#099}.CodeRay .include{color:#555}.CodeRay .inline{color:#000}.CodeRay .inline .inline{background:#ccc}.CodeRay .inline .inline .inline{background:#bbb}.CodeRay .inline .inline-delimiter{color:#d14}.CodeRay .inline-delimiter{color:#d14}.CodeRay .important{color:#555;font-weight:700}.CodeRay .interpreted{color:#b2b}.CodeRay .instance-variable{color:teal}.CodeRay .label{color:#970}.CodeRay .local-variable{color:#963}.CodeRay .octal{color:#40e}.CodeRay .predefined{color:#369}.CodeRay .preprocessor{color:#579}.CodeRay .pseudo-class{color:#555}.CodeRay .directive{font-weight:700}.CodeRay .type{font-weight:700}.CodeRay .predefined-type{color:inherit}.CodeRay .reserved,.CodeRay .keyword{color:#000;font-weight:700}.CodeRay .key{color:#808}.CodeRay .key .delimiter{color:#606}.CodeRay .key .char{color:#80f}.CodeRay .value{color:#088}.CodeRay .regexp .delimiter{color:#808}.CodeRay .regexp .content{color:#808}.CodeRay .regexp .modifier{color:#808}.CodeRay .regexp .char{color:#d14}.CodeRay .regexp .function{color:#404;font-weight:700}.CodeRay .string{color:#d20}.CodeRay .string .string .string{background:#ffd0d0}.CodeRay .string .content{color:#d14}.CodeRay .string .char{color:#d14}.CodeRay .string .delimiter{color:#d14}.CodeRay .shell{color:#d14}.CodeRay .shell .delimiter{color:#d14}.CodeRay .symbol{color:#990073}.CodeRay .symbol .content{color:#a60}.CodeRay .symbol .delimiter{color:#630}.CodeRay .tag{color:teal}.CodeRay .tag-special{color:#d70}.CodeRay .variable{color:#036}.CodeRay .insert{background:#afa}.CodeRay .delete{background:#faa}.CodeRay .change{color:#aaf;background:#007}.CodeRay .head{color:#f8f;background:#505}.CodeRay .insert .insert{color:#080}.CodeRay .delete .delete{color:#800}.CodeRay .change .change{color:#66f}.CodeRay .head .head{color:#f4f}</style>
</head>
<body class="book toc2 toc-left">
<div id=header>
<h1>Installation</h1>
<div class=details>
<span id=author class=author>LENA Support</span><br>
<span id=email class=email><a href=mailto:lena-support@lgcns.com>lena-support@lgcns.com</a></span><br>
<span id=revnumber>version 1.5.0.1</span>
</div>
<div id=toc class=toc2>
<div id=toctitle>Table of Contents</div>
<ul class=sectlevel1>
<li><a href=#_overview>1. OVERVIEW</a>
<ul class=sectlevel2>
<li><a href=#_>1.1. </a>
<ul class=sectlevel3>
<li><a href=#_server>1.1.1. Server</a></li>
<li><a href=#_agent_advertiser>1.1.2. Agent, Advertiser</a></li>
<li><a href=#_manager>1.1.3. Manager</a></li>
</ul>
</li>
<li><a href=#_mechanism>1.2. Mechanism</a></li>
<li><a href=#__asset>1.3.  Asset</a></li>
<li><a href=#__>1.4.  </a></li>
</ul>
</li>
<li><a href=#_architecture_>2. Architecture </a>
<ul class=sectlevel2>
<li><a href=#_>2.1. </a></li>
<li><a href=#_container____>2.2. Container    </a>
<ul class=sectlevel3>
<li><a href=#_container____>2.2.1. Container    </a>
<ul class=sectlevel4>
<li><a href=#_kubernetes>Kubernetes</a></li>
<li><a href=#_docker_swarm>Docker Swarm</a></li>
<li><a href=#_ecs>ECS</a></li>
<li><a href=#_container____>Container    </a></li>
</ul>
</li>
<li><a href=#_lena_server__>2.2.2. LENA Server  </a></li>
</ul>
</li>
<li><a href=#__>2.3.  </a>
<ul class=sectlevel3>
<li><a href=#_os>2.3.1. OS</a></li>
<li><a href=#_jdk>2.3.2. JDK</a></li>
<li><a href=#__user>2.3.3.  User</a></li>
<li><a href=#_library>2.3.4. Library</a></li>
</ul>
</li>
<li><a href=#_server___manager>2.4. Server    Manager</a>
<ul class=sectlevel3>
<li><a href=#architecture_decision-manager-deployment>2.4.1. </a></li>
<li><a href=#_>2.4.2. </a>
<ul class=sectlevel4>
<li><a href=#_memory>Memory</a></li>
<li><a href=#_disk>Disk</a></li>
</ul>
</li>
<li><a href=#_>2.4.3. </a>
<ul class=sectlevel4>
<li><a href=#_></a></li>
<li><a href=#architecture_decision_manager_env></a></li>
<li><a href=#_directory_>Directory </a></li>
<li><a href=#_log_dump_>Log & Dump </a></li>
<li><a href=#architecture_decision-manager-healthcheck>Health Check</a></li>
</ul>
</li>
</ul>
</li>
<li><a href=#_server___session_server>2.5. Server    Session Server</a>
<ul class=sectlevel3>
<li><a href=#architecture_decision-session-deployment>2.5.1. </a></li>
<li><a href=#__2>2.5.2. </a>
<ul class=sectlevel4>
<li><a href=#_memory_2>Memory</a></li>
<li><a href=#_disk_2>Disk</a></li>
<li><a href=#__2></a></li>
<li><a href=#__2></a></li>
<li><a href=#architecture_decision_session_env></a></li>
<li><a href=#_directory__2>Directory </a></li>
<li><a href=#_log>Log</a></li>
<li><a href=#_health_check>Health Check</a></li>
</ul>
</li>
</ul>
</li>
<li><a href=#_server___was>2.6. Server    WAS</a>
<ul class=sectlevel3>
<li><a href=#architecture_decision-was-deployment>2.6.1. </a></li>
<li><a href=#__3>2.6.2. </a>
<ul class=sectlevel4>
<li><a href=#_memory_3>Memory</a></li>
<li><a href=#_disk_3>Disk</a></li>
</ul>
</li>
<li><a href=#__3>2.6.3. </a>
<ul class=sectlevel4>
<li><a href=#architecture_decision-app-network></a></li>
<li><a href=#architecture_decision_application_env></a></li>
<li><a href=#_directory__3>Directory </a></li>
<li><a href=#architecture_decision_app-logoutput>Log & Dump </a></li>
<li><a href=#_health_check_2>Health Check</a></li>
<li><a href=#architecture_decision-app-config>Server Configuration </a></li>
<li><a href=#architecture_decision-app-imageBuild>Container Image Build</a></li>
<li><a href=#_application_>Application </a></li>
</ul>
</li>
</ul>
</li>
<li><a href=#_server___embedded_was>2.7. Server    Embedded WAS</a>
<ul class=sectlevel3>
<li><a href=#architecture_decision-was-deployment>2.7.1. </a></li>
<li><a href=#__4>2.7.2. </a>
<ul class=sectlevel4>
<li><a href=#_memory_4>Memory</a></li>
<li><a href=#_disk_4>Disk</a></li>
</ul>
</li>
<li><a href=#__4>2.7.3. </a>
<ul class=sectlevel4>
<li><a href=#architecture_decision-app-network></a></li>
<li><a href=#architecture_decision_embedded_application_env></a></li>
<li><a href=#_directory__4>Directory </a></li>
<li><a href=#architecture_decision_embedded_app-logoutput>Log & Dump </a></li>
<li><a href=#_health_check_3>Health Check</a></li>
<li><a href=#architecture_decision-app-imageBuild>Container Image Build</a></li>
<li><a href=#_application__2>Application </a></li>
</ul>
</li>
</ul>
</li>
<li><a href=#_server___web_server>2.8. Server    Web Server</a>
<ul class=sectlevel3>
<li><a href=#_>2.8.1. </a></li>
<li><a href=#__5>2.8.2. </a>
<ul class=sectlevel4>
<li><a href=#_memory_5>Memory</a></li>
<li><a href=#_disk_5>Disk</a></li>
</ul>
</li>
<li><a href=#__5>2.8.3. </a>
<ul class=sectlevel4>
<li><a href=#__3></a></li>
<li><a href=#architecture_decision_web_env></a></li>
<li><a href=#_directory__5>Directory </a></li>
<li><a href=#_log_2>Log</a></li>
<li><a href=#_health_check_4>Health Check</a></li>
<li><a href=#_server_configuration_>Server Configuration </a></li>
<li><a href=#_container_image_build>Container Image Build</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href=#___>3.   </a>
<ul class=sectlevel2>
<li><a href=#__>3.1.  </a></li>
<li><a href=#installation_prerequistes-baseImage>3.2. Base Image </a>
<ul class=sectlevel3>
<li><a href=#_base_image__>3.2.1. Base Image  </a>
<ul class=sectlevel4>
<li><a href=#_dockerfile_>Dockerfile </a></li>
<li><a href=#_docker_image_>Docker Image </a></li>
<li><a href=#_docker_image_>Docker Image </a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href=#_kubernetes__>4. Kubernetes  </a>
<ul class=sectlevel2>
<li><a href=#__>4.1.  </a>
<ul class=sectlevel3>
<li><a href=#__>4.1.1.  </a></li>
<li><a href=#__>4.1.2.  </a>
<ul class=sectlevel4>
<li><a href=#__namespace_> namespace </a></li>
<li><a href=#_kubernetes_resource__>Kubernetes Resource  </a></li>
<li><a href=#_kubernetes_resource_>Kubernetes Resource </a></li>
<li><a href=#_workload___>Workload   </a></li>
<li><a href=#__resource_> Resource </a></li>
</ul>
</li>
</ul>
</li>
<li><a href=#_manager_>4.2. Manager </a>
<ul class=sectlevel3>
<li><a href=#__>4.2.1.  </a>
<ul class=sectlevel4>
<li><a href=#___>  </a></li>
<li><a href=#____workload_>    Workload </a></li>
<li><a href=#____service>    Service</a></li>
</ul>
</li>
<li><a href=#_manifest__>4.2.2. Manifest  </a>
<ul class=sectlevel4>
<li><a href=#_workload>Workload</a></li>
<li><a href=#_service>Service</a></li>
</ul>
</li>
<li><a href=#_manager_>4.2.3. Manager </a></li>
</ul>
</li>
<li><a href=#_session_server_>4.3. Session Server </a>
<ul class=sectlevel3>
<li><a href=#kubernetes_based_deployment-session-prepare>4.3.1.  </a></li>
<li><a href=#___2>4.3.2.  </a>
<ul class=sectlevel4>
<li><a href=#____2>  </a></li>
<li><a href=#____workload__2>    Workload </a></li>
<li><a href=#____service_2>    Service</a></li>
</ul>
</li>
<li><a href=#_manifest___2>4.3.3. Manifest  </a>
<ul class=sectlevel4>
<li><a href=#_workload_2>Workload</a></li>
<li><a href=#_service_2>Service</a></li>
</ul>
</li>
<li><a href=#_server__>4.3.4. Server  </a></li>
</ul>
</li>
<li><a href=#_was_>4.4. WAS </a>
<ul class=sectlevel3>
<li><a href=#kubernetes_based_deployment-application-prepare>4.4.1.  </a></li>
<li><a href=#___3>4.4.2.  </a>
<ul class=sectlevel4>
<li><a href=#____3>  </a></li>
<li><a href=#____workload__3>    Workload </a></li>
<li><a href=#____service_3>    Service</a></li>
</ul>
</li>
<li><a href=#_manifest___3>4.4.3. Manifest  </a>
<ul class=sectlevel4>
<li><a href=#_workload_3>Workload</a></li>
<li><a href=#_service_3>Service</a></li>
</ul>
</li>
<li><a href=#_server___2>4.4.4. Server  </a></li>
</ul>
</li>
<li><a href=#_embedded_was_>4.5. Embedded WAS </a>
<ul class=sectlevel3>
<li><a href=#kubernetes_based_deployment-embedded-application-prepare>4.5.1.  </a></li>
<li><a href=#___4>4.5.2.  </a>
<ul class=sectlevel4>
<li><a href=#____4>  </a></li>
<li><a href=#____workload__4>    Workload </a></li>
<li><a href=#____service_4>    Service</a></li>
</ul>
</li>
<li><a href=#_manifest___4>4.5.3. Manifest  </a>
<ul class=sectlevel4>
<li><a href=#_workload_4>Workload</a></li>
<li><a href=#_service_4>Service</a></li>
</ul>
</li>
<li><a href=#_server___3>4.5.4. Server  </a></li>
</ul>
</li>
<li><a href=#_web_server_>4.6. Web Server </a>
<ul class=sectlevel3>
<li><a href=#kubernetes_based_deployment-web-prepare>4.6.1.  </a></li>
<li><a href=#___5>4.6.2.  </a>
<ul class=sectlevel4>
<li><a href=#____5>  </a></li>
<li><a href=#____workload__5>    Workload </a></li>
<li><a href=#____service_5>    Service</a></li>
</ul>
</li>
<li><a href=#_manifest___5>4.6.3. Manifest  </a>
<ul class=sectlevel4>
<li><a href=#_workload_5>Workload</a></li>
<li><a href=#_service_5>Service</a></li>
</ul>
</li>
<li><a href=#_server___4>4.6.4. Server  </a></li>
</ul>
</li>
</ul>
</li>
<li><a href=#_docker_swarm__>5. Docker Swarm  </a>
<ul class=sectlevel2>
<li><a href=#___2>5.1.  </a>
<ul class=sectlevel3>
<li><a href=#___2>5.1.1.  </a>
<ul class=sectlevel4>
<li><a href=#_swarm_cluster_>Swarm Cluster </a></li>
<li><a href=#_overlay_network_>Overlay Network </a></li>
</ul>
</li>
<li><a href=#___2>5.1.2.  </a>
<ul class=sectlevel4>
<li><a href=#_docker_service_>Docker Service </a></li>
<li><a href=#_docker_service_>Docker Service </a></li>
<li><a href=#_docker_service_rollback>Docker Service Rollback</a></li>
<li><a href=#_docker_service_>Docker Service </a></li>
<li><a href=#_docker_service_>Docker Service </a></li>
<li><a href=#_compose__service___>Compose  (Service )  </a></li>
<li><a href=#_stack_>Stack </a></li>
</ul>
</li>
</ul>
</li>
<li><a href=#_manager__2>5.2. Manager </a>
<ul class=sectlevel3>
<li><a href=#___6>5.2.1.  </a>
<ul class=sectlevel4>
<li><a href=#____6>  </a></li>
<li><a href=#____service_6>    Service</a></li>
</ul>
</li>
<li><a href=#__compose___>5.2.2.  (Compose )  </a></li>
<li><a href=#_manager__2>5.2.3. Manager </a></li>
</ul>
</li>
<li><a href=#_session_server__2>5.3. Session Server </a>
<ul class=sectlevel3>
<li><a href=#___3>5.3.1.  </a></li>
<li><a href=#___7>5.3.2.  </a>
<ul class=sectlevel4>
<li><a href=#____7>  </a></li>
<li><a href=#____service_>    Service </a></li>
</ul>
</li>
<li><a href=#_docker_compose__>5.3.3. Docker Compose  </a></li>
<li><a href=#_server___5>5.3.4. Server  </a></li>
</ul>
</li>
<li><a href=#_was__2>5.4. WAS </a>
<ul class=sectlevel3>
<li><a href=#___4>5.4.1.  </a></li>
<li><a href=#___8>5.4.2.  </a>
<ul class=sectlevel4>
<li><a href=#____8>  </a></li>
<li><a href=#____service__2>    Service </a></li>
</ul>
</li>
<li><a href=#__compose____2>5.4.3.  (Compose )  </a></li>
<li><a href=#_server___6>5.4.4. Server  </a></li>
</ul>
</li>
<li><a href=#_embedded_was__2>5.5. Embedded WAS </a>
<ul class=sectlevel3>
<li><a href=#___5>5.5.1.  </a></li>
<li><a href=#___9>5.5.2.  </a>
<ul class=sectlevel4>
<li><a href=#____9>  </a></li>
<li><a href=#____service__3>    Service </a></li>
</ul>
</li>
<li><a href=#__compose____3>5.5.3.  (Compose )  </a></li>
<li><a href=#_server___7>5.5.4. Server  </a></li>
</ul>
</li>
<li><a href=#_web_server__2>5.6. Web Server </a>
<ul class=sectlevel3>
<li><a href=#___6>5.6.1.  </a></li>
<li><a href=#___10>5.6.2.  </a>
<ul class=sectlevel4>
<li><a href=#____10>  </a></li>
<li><a href=#____service__4>    Service </a></li>
</ul>
</li>
<li><a href=#__compose____4>5.6.3.  (Compose )  </a></li>
<li><a href=#_server___8>5.6.4. Server  </a></li>
</ul>
</li>
</ul>
</li>
<li><a href=#_ecs__>6. ECS  </a>
<ul class=sectlevel2>
<li><a href=#_ecs_>6.1. ECS </a></li>
<li><a href=#___2>6.2.  </a></li>
<li><a href=#_manager__3>6.3. Manager </a>
<ul class=sectlevel3>
<li><a href=#ecs_based_deployment-mgr_config>6.3.1.  </a>
<ul class=sectlevel4>
<li><a href=#____11>  </a></li>
<li><a href=#___>  </a></li>
</ul>
</li>
<li><a href=#_task_>6.3.2. Task </a>
<ul class=sectlevel4>
<li><a href=#_task_>Task </a></li>
<li><a href=#_volume_>Volume </a></li>
<li><a href=#_container_>Container </a></li>
<li><a href=#__> </a></li>
<li><a href=#_health_check_>Health Check </a></li>
<li><a href=#_volume_>Volume </a></li>
</ul>
</li>
<li><a href=#_service_>6.3.3. Service </a>
<ul class=sectlevel4>
<li><a href=#__> </a></li>
<li><a href=#___service_discovery_>  (Service Discovery) </a></li>
</ul>
</li>
<li><a href=#_service___>6.3.4. Service   </a>
<ul class=sectlevel4>
<li><a href=#_service__>Service  </a></li>
<li><a href=#_task__>Task  </a></li>
</ul>
</li>
</ul>
</li>
<li><a href=#_session_server__3>6.4. Session Server </a>
<ul class=sectlevel3>
<li><a href=#___7>6.4.1.  </a></li>
<li><a href=#ecs_based_deployment-ses_config>6.4.2.  </a>
<ul class=sectlevel4>
<li><a href=#____12>  </a></li>
<li><a href=#____2>  </a></li>
</ul>
</li>
<li><a href=#_task__2>6.4.3. Task </a>
<ul class=sectlevel4>
<li><a href=#_task__2>Task </a></li>
<li><a href=#_container__2>Container </a></li>
<li><a href=#___2> </a></li>
</ul>
</li>
<li><a href=#_service__2>6.4.4. Service </a>
<ul class=sectlevel4>
<li><a href=#___2> </a></li>
<li><a href=#___service_discovery__2>  (Service Discovery) </a></li>
</ul>
</li>
<li><a href=#_service____2>6.4.5. Service   </a>
<ul class=sectlevel4>
<li><a href=#_service___2>Service  </a></li>
<li><a href=#_task___2>Task  </a></li>
</ul>
</li>
</ul>
</li>
<li><a href=#_was__3>6.5. WAS </a>
<ul class=sectlevel3>
<li><a href=#___8>6.5.1.  </a></li>
<li><a href=#ecs_based_deployment_app_config>6.5.2.  </a>
<ul class=sectlevel4>
<li><a href=#____13>  </a></li>
<li><a href=#____3>  </a></li>
</ul>
</li>
<li><a href=#_task__3>6.5.3. Task </a>
<ul class=sectlevel4>
<li><a href=#_task>Task</a></li>
<li><a href=#_container__3>Container </a></li>
<li><a href=#___3> </a></li>
</ul>
</li>
<li><a href=#_service__3>6.5.4. Service </a>
<ul class=sectlevel4>
<li><a href=#___3> </a></li>
<li><a href=#___service_discovery__3>  (Service Discovery) </a></li>
</ul>
</li>
<li><a href=#_service____3>6.5.5. Service   </a>
<ul class=sectlevel4>
<li><a href=#_service___3>Service  </a></li>
<li><a href=#_task___3>Task  </a></li>
</ul>
</li>
</ul>
</li>
<li><a href=#_embedded_was__3>6.6. Embedded WAS </a>
<ul class=sectlevel3>
<li><a href=#___9>6.6.1.  </a></li>
<li><a href=#ecs_based_deployment_embedded_app_config>6.6.2.  </a>
<ul class=sectlevel4>
<li><a href=#____14>  </a></li>
<li><a href=#____4>  </a></li>
</ul>
</li>
<li><a href=#_task__4>6.6.3. Task </a>
<ul class=sectlevel4>
<li><a href=#_task_2>Task</a></li>
<li><a href=#_container__4>Container </a></li>
<li><a href=#___4> </a></li>
</ul>
</li>
<li><a href=#_service__4>6.6.4. Service </a>
<ul class=sectlevel4>
<li><a href=#___4> </a></li>
<li><a href=#___service_discovery__4>  (Service Discovery) </a></li>
</ul>
</li>
<li><a href=#_service____4>6.6.5. Service   </a>
<ul class=sectlevel4>
<li><a href=#_service___4>Service  </a></li>
<li><a href=#_task___4>Task  </a></li>
</ul>
</li>
</ul>
</li>
<li><a href=#_web_server__3>6.7. Web Server </a>
<ul class=sectlevel3>
<li><a href=#_>6.7.1. </a></li>
<li><a href=#ecs_based_deployment_web_config>6.7.2.  </a>
<ul class=sectlevel4>
<li><a href=#____15>  </a></li>
<li><a href=#____5>  </a></li>
</ul>
</li>
<li><a href=#_task__5>6.7.3. Task </a>
<ul class=sectlevel4>
<li><a href=#_task_3>Task</a></li>
<li><a href=#_container__5>Container </a></li>
<li><a href=#___5> </a></li>
</ul>
</li>
<li><a href=#_service__5>6.7.4. Service </a>
<ul class=sectlevel4>
<li><a href=#___5> </a></li>
<li><a href=#___service_discovery__5>  (Service Discovery) </a></li>
</ul>
</li>
<li><a href=#_service____5>6.7.5. Service   </a>
<ul class=sectlevel4>
<li><a href=#_service___5>Service  </a></li>
<li><a href=#_task___5>Task  </a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href=#_vmhost__>7. VM/Host  </a>
<ul class=sectlevel2>
<li><a href=#_>7.1. </a></li>
<li><a href=#_lena_>7.2. LENA </a></li>
<li><a href=#__>7.3.  </a></li>
<li><a href=#_manager_>7.4. Manager </a>
<ul class=sectlevel3>
<li><a href=#_manager__2>7.4.1. Manager </a></li>
<li><a href=#_manager_>7.4.2. Manager </a></li>
</ul>
</li>
<li><a href=#_node_agent_>7.5. Node Agent </a>
<ul class=sectlevel3>
<li><a href=#_node_agent__2>7.5.1. Node Agent </a></li>
<li><a href=#_node_agent___>7.5.2. Node Agent   </a></li>
<li><a href=#_node_agent_>7.5.3. Node Agent </a></li>
</ul>
</li>
<li><a href=#_session_server__web_ui_>7.6. Session Server  (WEB UI )</a>
<ul class=sectlevel3>
<li><a href=#_session_server_>7.6.1. Session Server </a></li>
<li><a href=#_server_>7.6.2. Server </a></li>
<li><a href=#_server_>7.6.3. Server </a></li>
<li><a href=#_server_>7.6.4. Server </a></li>
</ul>
</li>
<li><a href=#_session_server__cli_>7.7. Session Server  (CLI )</a>
<ul class=sectlevel3>
<li><a href=#_session_server__2>7.7.1. Session Server </a></li>
<li><a href=#_session_server_>7.7.2. Session Server </a></li>
<li><a href=#_session_server_>7.7.3. Session Server </a></li>
</ul>
</li>
</ul>
</li>
<li><a href=#_>8. </a>
<ul class=sectlevel2>
<li><a href=#_lena__spec_>8.1. LENA  Spec </a></li>
<li><a href=#_manager_db_>8.2. Manager DB </a></li>
<li><a href=#_manager___>8.3. Manager   </a></li>
<li><a href=#_manager__admin__>8.4. Manager  admin  </a></li>
<li><a href=#_lena___oscentos>8.5. LENA   OS(CentOS)</a></li>
<li><a href=#_lena___>8.6. LENA   </a></li>
<li><a href=#_was_image_os_>8.7. WAS Image OS </a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id=content>
<div class=sect1>
<h2 id=_overview><a class=link href=#_overview>1. OVERVIEW</a></h2>
<div class=sectionbody>
<div class=paragraph>
<p> Container  LENA Server   
Architecture   . LENA     
      .</p>
</div>
<div class=paragraph>
<p>  LENA 1.3.1c   ,   
.</p>
</div>
<div class=ulist>
<ul>
<li>
<p>LENA for Container  </p>
<div class=ulist>
<ul>
<li>
<p>  </p>
</li>
<li>
<p>Server  </p>
</li>
</ul>
</div>
</li>
<li>
<p>LENA for Container </p>
<div class=ulist>
<ul>
<li>
<p>Base Image Build</p>
</li>
<li>
<p>Kubernetes  </p>
</li>
<li>
<p>Docker  </p>
</li>
<li>
<p>ECS  </p>
</li>
<li>
<p>VM / Host   (Manager, Session Server)</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class=sect2>
<h3 id=_><a class=link href=#_>1.1. </a></h3>
<div class=paragraph>
<p>LENA Web Server, Application Server, Session Server Web Server
Status  Node Agent, Application Server  Status
 Advertiser     Manager
.</p>
</div>
<div class=sect3>
<h4 id=_server><a class=link href=#_server>1.1.1. Server</a></h4>
<div class=paragraph>
<p>LENA    Web Server, Application Server, Session
Server 3 .     .</p>
</div>
<div class="olist arabic">
<ol class=arabic>
<li>
<p>Web Server:    Web Resource . Application
Server   Front ,  Load
Balancing   (SSL)   .</p>
</li>
<li>
<p>Application Server: Java    / .</p>
</li>
<li>
<p>Session Server: Application Server   .</p>
</li>
</ol>
</div>
</div>
<div class=sect3>
<h4 id=_agent_advertiser><a class=link href=#_agent_advertiser>1.1.2. Agent, Advertiser</a></h4>
<div class=paragraph>
<p>Node, Server       Agent .</p>
</div>
<div class=ulist>
<ul>
<li>
<p>Node Agent</p>
<div class=ulist>
<ul>
<li>
<p>Web Server     Manager .</p>
</li>
</ul>
</div>
</li>
<li>
<p>Advertiser</p>
<div class=ulist>
<ul>
<li>
<p>Application Server     Manager
.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class=sect3>
<h4 id=_manager><a class=link href=#_manager>1.1.3. Manager</a></h4>
<div class=paragraph>
<p>Manager Node Agent Advertiser  Node Server  
   Web Application.   
 .</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<col style=width:25%>
<col style=width:75%>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top"></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Dashboard</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Server, Service Cluster </p>
</li>
<li>
<p>Notification </p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Server</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>System ( Server ) //</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Service Cluster</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Service Cluster //</p>
</li>
<li>
<p> Server ,  </p>
</li>
<li>
<p>Service Cluster , Revision </p>
</li>
<li>
<p> Template   CICD  </p>
</li>
<li>
<p> Terminal  Standard Out/Error Log  (Kubernetes )</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Resource</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Resource (Database, DataSource, Application,k8s config)
///</p>
</li>
<li>
<p>Resource  Server    /</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Diagnostics</p>
<p class=tableblock>()</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Server     </p>
</li>
<li>
<p>Server  Event  </p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Topology</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>System Server  </p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Admin</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>   , // </p>
</li>
<li>
<p>   </p>
</li>
<li>
<p> ,    </p>
</li>
<li>
<p>Cloud Profile </p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class=sect2>
<h3 id=_mechanism><a class=link href=#_mechanism>1.2. Mechanism</a></h3>
<div class=paragraph>
<p>LENA Manager  Web/Application     
 . ,  Host/VM  
Container  Server Orchestration  
, State   .</p>
</div>
<div class=paragraph>
<p>,  Host/VM  Agent   /  
  Server Container  Manager   
     ,  Server
 Manager     .</p>
</div>
<div class=paragraph>
<p>Server        
  Server Container Command 
docker-entrypoint.sh ,  Server    Web
 Node Agent  Application  Session Server 
 .</p>
</div>
<div class=paragraph>
<p>WEB-WAS    VM/Host   .
Container /  IP    Back-End
Application Container    
Load-balancer ,  Kubernetes/Docker Swarm Service ECS Service Discovery, EKS/ECS ELB   .  VM/Host 
WEB-WAS   WEB   Load-balancing  
Container     Service (Service Endpoint) Reverse Proxy  .</p>
</div>
<div class=imageblock>
<div class=content>
<img src=/resources/static/images/installation/container/overview_2_fully_container.png alt=FullyContainer width=623 height=471>
</div>
<div class=title>Figure 1. Container  LENA Server   (Kubernetes )</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<col style=width:25%>
<col style=width:50%>
<col style=width:25%>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top"></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Application Server</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=paragraph>
<p>Application Server Instance</p>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Web Server</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=paragraph>
<p>Web Server Instance</p>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Session Server</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=paragraph>
<p>Session Server Instance</p>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Manager</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=paragraph>
<p>     Server   </p>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Manager Repository</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=paragraph>
<p>Manager    Repository,  
  DB  </p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock> </p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>docker-entrypoint.sh</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=paragraph>
<p>Container   Shell Script</p>
</div>
<div class="olist arabic">
<ol class=arabic>
<li>
<p>  </p>
</li>
<li>
<p>Manager  / </p>
</li>
<li>
<p>   </p>
</li>
</ol>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Node Agent</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=paragraph>
<p>Web      Manager ,
Manager  /  </p>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Advertiser</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=paragraph>
<p>    Manager </p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Application
Server </p></td>
</tr>
</tbody>
</table>
<div class=paragraph>
<p>Container     Session Server  Manager
VM/Host    , LENA Manager Container LENA
Server , VM/Host  LENA Server   
,      .</p>
</div>
<div class=imageblock>
<div class=content>
<img src=/resources/static/images/installation/container/overview_2_vmhost_container.png alt=vmhost width=623 height=471>
</div>
<div class=title>Figure 2. Container -VM/Host   LENA Server  </div>
</div>
</div>
<div class=sect2>
<h3 id=__asset><a class=link href=#__asset>1.3.  Asset</a></h3>
<div class=paragraph>
<p>LENA for Container    Asset .</p>
</div>
<div class=ulist>
<ul>
<li>
<p>Docker Image : Linux OS + JDK + LENA Server +  Library 
Image Docker Hub  </p>
<div class=ulist>
<ul>
<li>
<p>Web Server : <a href=https://hub.docker.com/r/lenacloud/lena-web class=bare>https://hub.docker.com/r/lenacloud/lena-web</a></p>
</li>
<li>
<p>Application Server : <a href=https://hub.docker.com/r/lenacloud/lena-cluster class=bare>https://hub.docker.com/r/lenacloud/lena-cluster</a></p>
</li>
<li>
<p>Session Server : <a href=https://hub.docker.com/r/lenacloud/lena-session class=bare>https://hub.docker.com/r/lenacloud/lena-session</a></p>
</li>
<li>
<p>Manager Server : <a href=https://hub.docker.com/r/lenacloud/lena-manager class=bare>https://hub.docker.com/r/lenacloud/lena-manager</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Kubernetes Manifest  : Kubernetes    Workload /
Service / Config Map   LENA Server </p>
</li>
</ul>
</div>
<div class=paragraph>
<p>Docker Hub  Image Spec  .</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<col style=width:20%>
<col style=width:20%>
<col style=width:40%>
<col style=width:20%>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top">JVM</th>
<th class="tableblock halign-left valign-top">OS (Base Image)</th>
<th class="tableblock halign-left valign-top"> Heap Memory</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Application Server</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Open JDK 1.8</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Cent OS 7 (centos:7)</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>1.0 GB</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Web Server</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Open JDK 1.8</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Cent OS 7 (centos:7)</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>64MB~256MB(Agent)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Session Server</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Open JDK 1.8</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Cent OS 7 (centos:7)</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>1.0 GB</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Manager</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Open JDK 1.8</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Cent OS 7 (centos:7)</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>1.0 GB</p></td>
</tr>
</tbody>
</table>
</div>
<div class=sect2>
<h3 id=__><a class=link href=#__>1.4.  </a></h3>
<div class=paragraph>
<p>LENA for Container        
.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<col style=width:16.6666%>
<col style=width:16.6666%>
<col style=width:16.6666%>
<col style=width:33.3333%>
<col style=width:16.6669%>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top">JVM</th>
<th class="tableblock halign-left valign-top"> Memory</th>
<th class="tableblock halign-left valign-top">Image Size(Base Img )</th>
<th class="tableblock halign-left valign-top"> Memory</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Application Server</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>JDK 1.8<br></p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>512M</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock> 900 MB ( 300MB)</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>1.25 GB</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Web Server</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>JDK 1.8<br></p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>512M</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>820 MB
( 300MB)</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Session Server</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>JDK 1.8<br></p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>512M</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock> 900 MB
( 300MB)</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>1.25 GB</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Manager</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>JDK 1.8<br></p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>512M</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock> 1,000 MB
( 500MB)</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>1.25 GB</p></td>
</tr>
</tbody>
</table>
<div class=paragraph>
<p>      Memory   ,     
  . Image Size OS + JDK + LENA Server + Library
  Image .</p>
</div>
</div>
</div>
</div>
<div class=sect1>
<h2 id=_architecture_><a class=link href=#_architecture_>2. Architecture </a></h2>
<div class=sectionbody>
<div class=sect2>
<h3 id=_><a class=link href=#_>2.1. </a></h3>
<div class=paragraph>
<p> Architecture     .</p>
</div>
<div class=imageblock>
<div class=content>
<img src=/resources/static/images/installation/container/achitecture_decision_1_architecture_step.png alt=step width=623 height=649>
</div>
<div class=title>Figure 3.  Architecture  </div>
</div>
<div class=ulist>
<ul>
<li>
<p>Architecture   Container    Container OS JDK  .   LENA Image ,    .</p>
</li>
<li>
<p> WEB/WAS  Manager/Session    .  Manager/Session LENA Image    , WEB/WAS LENA     Application / Library   Base Image Build   .</p>
</li>
<li>
<p>WEB/WAS/Session     Container   LENA Manager   Service Service Cluster   . Service Cluster , Container  Manager  Service Cluster   Container  Template / License   ,   Manager  Container Server        .</p>
</li>
</ul>
</div>
</div>
<div class=sect2>
<h3 id=_container____><a class=link href=#_container____>2.2. Container    </a></h3>
<div class=paragraph>
<p>Provider  Container     
EKS/GKE/AKS  Kubernetes Amazon ECS  Docker
 2     .</p>
</div>
<div class=paragraph>
<p>Container     LENA     
 .</p>
</div>
<div class="olist arabic">
<ol class=arabic>
<li>
<p> Server N/W </p>
<div class=paragraph>
<p>   Server Container  
N/W  N/W   ,     
.   N/W    
outbound , LENA  Server &#8594; Manager, WAS
&#8594; Session Server   . , VM + Container 
  ECS vpc   Container VM  
 N/W  .</p>
</div>
</li>
<li>
<p>Load Balancing </p>
<div class=paragraph>
<p>VM/Host   Container  /  ,  
IP . , Back-End  Container/ 
 Service   Back-End   
Load-balancer   . Kubernetes Docker Swarm Load-Balancing  Service , ECS  ELB   Service Discovery   Load-balancing   .</p>
</div>
</li>
<li>
<p>Instance   (  : Session Server, Manager)</p>
<div class=paragraph>
<p>  Container     
, DBMS     Container  
 , LENA   Manager Session Server 
. Kubernetes  StatefulSet     
, Docker Swarm  ECS  Replica 1 Service     .</p>
</div>
</li>
<li>
<p> Volume  (  : Manager)</p>
<div class=paragraph>
<p>Container State     / 
 Data      (Volume)
  .  DBMS DB  
Container  Application    . LENA Manager
Container        
   Volume   .</p>
</div>
</li>
</ol>
</div>
<div class=sect3>
<h4 id=_container____><a class=link href=#_container____>2.2.1. Container    </a></h4>
<div class=paragraph>
<p>       Container   .</p>
</div>
<div class=sect4>
<h5 id=_kubernetes><a class=link href=#_kubernetes>Kubernetes</a></h5>
<div class=paragraph>
<p>Kubernetes Container Workload Service    ,  Container Orchestration  .
Kubernetes  Container  Control Plane Worker Node  Cluster   .
Worker Node   Namespace .
Kubernetes  Container     Pod Pod    Workload,
Workload Network   Service  , Workload  Service Namespace .</p>
</div>
<div class=paragraph>
<p>Kubernetes Network  Service   Cluster Network  ,   Host Port Open, Load Balancing .</p>
</div>
<div class=imageblock>
<div class=content>
<img src=/resources/static/images/installation/container/achitecture_decision_k8s_nw.png alt=image>
</div>
<div class=title>Figure 4. Kubernetes Cluster N/W</div>
</div>
<div class=paragraph>
<p>Kubernetes Service Pod    N/W     Pod  IP  Pod    DNS   Load-Balancing . Kubernetes Service    4 .</p>
</div>
<div class=sect5>
<h6 id=_cluster_ip><a class=link href=#_cluster_ip>Cluster IP</a></h6>
<div class=paragraph>
<p>Kubernetes N/W   IP / Domain Name ,   Cluster Load Balancing .</p>
</div>
<div class=imageblock>
<div class=content>
<img src=/resources/static/images/installation/container/achitecture_decision_k8s_clusterIp.png alt=image>
</div>
<div class=title>Figure 5. Kubernetes Deployment  - Cluster Ip</div>
</div>
</div>
<div class=sect5>
<h6 id=_node_port><a class=link href=#_node_port>Node Port</a></h6>
<div class=paragraph>
<p>Cluster   Node Port Container Port . Node  30000-32767  Port Open,   Port     .</p>
</div>
<div class=imageblock>
<div class=content>
<img src=/resources/static/images/installation/container/achitecture_decision_k8s_nodePort.png alt=image>
</div>
<div class=title>Figure 6. Kubernetes Deployment  - Node Port</div>
</div>
</div>
<div class=sect5>
<h6 id=_load_balancer><a class=link href=#_load_balancer>Load Balancer</a></h6>
<div class=paragraph>
<p>Node Port   Container N/W   LoadBalnacer  Service . EKS  Cloud Service Cloud Service Provider  Load Balancer  .</p>
</div>
<div class=imageblock>
<div class=content>
<img src=/resources/static/images/installation/container/achitecture_decision_k8s_lb.png alt=image>
</div>
<div class=title>Figure 7. Kubernetes Deployment  - Load Balancer</div>
</div>
</div>
<div class=sect5>
<h6 id=_headless><a class=link href=#_headless>Headless</a></h6>
<div class=paragraph>
<p> Service Cluster IP  Domain Name  Load Balancing . Pod   Domain , Stateful Set    .</p>
</div>
<div class=imageblock>
<div class=content>
<img src=/resources/static/images/installation/container/achitecture_decision_k8s_headless.png alt=image>
</div>
<div class=title>Figure 8. Kubernetes Deployment  - Headless</div>
</div>
<div class=paragraph>
<p>Kubernetes   Container(Pod)   .  Deployment(Replica Set)   Instance   LENA Manager, Session Server Stateful Set  .</p>
</div>
</div>
<div class=sect5>
<h6 id=_replica_set><a class=link href=#_replica_set>Replica Set</a></h6>
<div class=paragraph>
<p>Node     Replica .  Pod  Persistent Volume     .</p>
</div>
<div class=imageblock>
<div class=content>
<img src=/resources/static/images/installation/container/achitecture_decision_k8s_replicaSet.png alt=image>
</div>
<div class=title>Figure 9. Kubernetes Workload  - Replica Set</div>
</div>
</div>
<div class=sect5>
<h6 id=_deployment><a class=link href=#_deployment>Deployment</a></h6>
<div class=paragraph>
<p>Replica Set    , Versioning   .  WEB , Application   .</p>
</div>
<div class=imageblock>
<div class=content>
<img src=/resources/static/images/installation/container/achitecture_decision_k8s_deployment.png alt=image>
</div>
<div class=title>Figure 10. Kubernetes Workload  - Deployment</div>
</div>
</div>
<div class=sect5>
<h6 id=_stateful_set><a class=link href=#_stateful_set>Stateful Set</a></h6>
<div class=paragraph>
<p>  Pod   , Pod  Master / Slave      , Pod   Persistent Volume  .  DBMS, Session Server      .</p>
</div>
<div class=imageblock>
<div class=content>
<img src=/resources/static/images/installation/container/achitecture_decision_k8s_statefulSet.png alt=image>
</div>
<div class=title>Figure 11. Kubernetes Workload  - Stateful Set</div>
</div>
</div>
<div class=sect5>
<h6 id=_daemon_set><a class=link href=#_daemon_set>Daemon Set</a></h6>
<div class=paragraph>
<p>Kubernetes Cluster Worker Node   Pod Node   .  Standard Out  Log , Node   , Ingress  Web      .</p>
</div>
<div class=imageblock>
<div class=content>
<img src=/resources/static/images/installation/container/achitecture_decision_k8s_deamonSet.png alt=image>
</div>
<div class=title>Figure 12. Kubernetes Workload  - Daemon Set</div>
</div>
</div>
</div>
<div class=sect4>
<h5 id=_docker_swarm><a class=link href=#_docker_swarm>Docker Swarm</a></h5>
<div class=paragraph>
<p>Docker   Instance  N/W  LENA     , Docker  Orchestration  'Swarm&#8217;  .</p>
</div>
<div class=paragraph>
<p>Docker Swarm   Node Master Node Worker Node , Kubernetes Namespace   Stack Container, Container Network    Service .</p>
</div>
<div class=paragraph>
<p>Docker Container Network    Host Container   Bridge, Host   Host  Container   Overlay-Host, Overlay-Ingress  .</p>
</div>
<div class=imageblock>
<div class=content>
<img src=/resources/static/images/installation/container/achitecture_decision_docker_nw.png alt=image>
</div>
<div class=title>Figure 13. Docker Swarm Container Network </div>
</div>
<div class=paragraph>
<p>Docker Container Network  Bridge / Overlay Network  Container  Domain   . Local Scope  Host  Container  , Swarm Scope  Host  Container  . Overlay Ingress mode VIP  Container    Load Balancing  .</p>
</div>
<div class=paragraph>
<p>Docker Swarm Overlay Network  , VIP         Ingress  . LENA     Ingress , Host   .</p>
</div>
<div class=imageblock>
<div class=content>
<img src=/resources/static/images/installation/container/achitecture_decision_docker_overlayNw.png alt=image>
</div>
<div class=title>Figure 14. Docker Swarm Overlay Network</div>
</div>
</div>
<div class=sect4>
<h5 id=_ecs><a class=link href=#_ecs>ECS</a></h5>
<div class=paragraph>
<p>AWS ECS Task (Kubernetes Pod ) N/W, Replica Set    Service . ECS Service  Task Instance  Load Balancing 1) ELB   2) Service Discovery    . ELB  Service  ELB    . Service Discovery  ECS  Task Instance  Service  DNS  Amazon Route 53     Load Balancing  .            Route 53      VPC     DNS  . Route 53 Namespace, Task IP A    IP +  SRV   Service .</p>
</div>
<div class=ulist>
<div class=title>ECS   </div>
<ul>
<li>
<p><strong>Namespace</strong>       (:
internal, local, corp) .    
     .</p>
</li>
<li>
<p><strong>Service</strong>       Set.
  (Task)  .</p>
</li>
<li>
<p><strong>Task</strong>  Kubernetes Pod  Object    Container  Instance   Container Instance Image /  / Entry Point    .</p>
</li>
</ul>
</div>
<div class=imageblock>
<div class=content>
<img src=/resources/static/images/installation/container/achitecture_decision_ecs_serviceDiscovery.png alt=image width=600>
</div>
<div class=title>Figure 15. ECS Service Discovery </div>
</div>
</div>
<div class=sect4>
<h5 id=_container____><a class=link href=#_container____>Container    </a></h5>
<div class=paragraph>
<p>LENA        .</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<col style=width:14.2857%>
<col style=width:14.2857%>
<col style=width:14.2857%>
<col style=width:14.2857%>
<col style=width:14.2857%>
<col style=width:14.2857%>
<col style=width:14.2858%>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan=2>Container </th>
<th class="tableblock halign-left valign-top"> N/W</th>
<th class="tableblock halign-left valign-top">L/B</th>
<th class="tableblock halign-left valign-top">Instance </th>
<th class="tableblock halign-left valign-top"> </th>
<th class="tableblock halign-left valign-top"> Volume </th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" rowspan=2><p class=tableblock>Kubernetes </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Service L/B</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>EKS</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>VPC </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Service, ELB</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan=2><p class=tableblock>Docker </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Swarm</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Service L/B (Overlay N/W-Overlay)</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>(Service Replica=1)</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock> (Overlay N/W-Host)</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>ECS</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>VPC   (VPC N/W )</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>ELB, Service Discovery </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>(Service Replica=1)</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>(Service Discovery)</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>
(EFS)</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class=sect3>
<h4 id=_lena_server__><a class=link href=#_lena_server__>2.2.2. LENA Server  </a></h4>
<div class=paragraph>
<p>   Container  LENA Server   
 .</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<col style=width:16.6666%>
<col style=width:16.6666%>
<col style=width:16.6666%>
<col style=width:16.6666%>
<col style=width:16.6666%>
<col style=width:16.667%>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan=2>Container </th>
<th class="tableblock halign-left valign-top">WEB Server</th>
<th class="tableblock halign-left valign-top">WAS</th>
<th class="tableblock halign-left valign-top">Session Server</th>
<th class="tableblock halign-left valign-top">Manager</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Kubernetes </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Container</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Container</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Container (statefulset),
VM/Host</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Container<br>
(statefulset),
VM/Host</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan=2><p class=tableblock>Docker </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Swarm</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Container(Overlay N/W-Ingress)</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Container (Overlay N/W-Ingress)</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Container (Overlay N/W-Host), VM/Host</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Container (Overlay N/W-Host),VM/Host</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>ECS</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Container</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Container</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=paragraph>
<p>VM, Container</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>VM, Container</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class=sect2>
<h3 id=__><a class=link href=#__>2.3.  </a></h3>
<div class=paragraph>
<p> Server      .</p>
</div>
<div class=sect3>
<h4 id=_os><a class=link href=#_os>2.3.1. OS</a></h4>
<div class=paragraph>
<p>LENA Image    OS .  LENA Image
 Base Image.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<col style=width:33.3333%>
<col style=width:66.6667%>
<thead>
<tr>
<th class="tableblock halign-left valign-top">LENA Image  OS</th>
<th class="tableblock halign-left valign-top">LENA Image Base Image</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Cent OS 7</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>centos:7</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<div class=table-wrap> <table>
<tr>
<td class=icon>
<i class="fa icon-note" title=Note></i>
</td>
<td class=content>
<div class=paragraph>
<p>Cent OS 8, Ubuntu, Debian   OS   LENA   Base Image  .</p>
</div>
</td>
</tr>
</table> </div>
</div>
</div>
<div class=sect3>
<h4 id=_jdk><a class=link href=#_jdk>2.3.2. JDK</a></h4>
<div class=paragraph>
<p>LENA Image  OS JDK 1.8 (yum / apt-get )  Adopt
Open JDK 1.8  .      .</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<col style=width:33.3333%>
<col style=width:66.6667%>
<thead>
<tr>
<th class="tableblock halign-left valign-top">OS</th>
<th class="tableblock halign-left valign-top">JDK </th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Cent OS 7</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>  : java-1.8.0-openjdk-devel.x86_64</p>
</li>
<li>
<p>JAVA_HOME : /usr/lib/jvm/java</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
<div class=paragraph>
<p> JDK  , Project Base Image  
JAVA_HOME Path      .</p>
</div>
<div class="admonitionblock note">
<div class=table-wrap> <table>
<tr>
<td class=icon>
<i class="fa icon-note" title=Note></i>
</td>
<td class=content>
<div class=paragraph>
<p>$JAVA_HOME    Server env.sh (manager  env-manager.sh), LENA   (${LENA_HOME}/etc/info/java-home.info)   , JDK  $JAVA_HOME      .</p>
</div>
</td>
</tr>
</table> </div>
</div>
</div>
<div class=sect3>
<h4 id=__user><a class=link href=#__user>2.3.3.  User</a></h4>
<div class=paragraph>
<p>LENA Image   User root .     LENA
Image   LENA    .</p>
</div>
</div>
<div class=sect3>
<h4 id=_library><a class=link href=#_library>2.3.4. Library</a></h4>
<div class=paragraph>
<p>LENA Image   Library  .</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<col style=width:25%>
<col style=width:25%>
<col style=width:25%>
<col style=width:25%>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Library</th>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top">OS </th>
<th class="tableblock halign-left valign-top">Server</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>net-tools</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>wget N/W </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>()</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>()</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>hostname</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Hostname  </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>CentOS</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>()</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>initscript</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Service (Daemon)  </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>CentOS</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>()</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>procps</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Process  </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>CentOS</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>()</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>unzip</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Server   </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>()</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>()</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>file</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>File  </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>()</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>()</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>curl</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>  </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Ubuntu / Debian</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>()</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>cronie-noanacron</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Crontab  </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>CentOS</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>()</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>logrotate</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>WEB/WAS File Log Rotate  </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>()</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>()</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>libxml2-utils</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>XML Validation  (License  Validation)</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Debian</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>()</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>locales</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Locale  </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Ubuntu / Debian</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>()</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>libapr1</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Web Server  Library</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Ubuntu / Debian</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>()</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>libaprutil1</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Web Server  Library</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Ubuntu / Debian</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>()</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>tzdata</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Time Zone </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Ubuntu / Debian</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>()</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>openssl</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Web / WAS  Library</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>(  )</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>()</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class=content><div class=paragraph>
<p>awscli</p>
</div>
<div class=paragraph>
<p>pip</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Manager EKS API  </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>()</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Manager</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class=sect2>
<h3 id=_server___manager><a class=link href=#_server___manager>2.4. Server    Manager</a></h3>
<div class=sect3>
<h4 id=architecture_decision-manager-deployment><a class=link href=#architecture_decision-manager-deployment>2.4.1. </a></h4>
<div class=paragraph>
<p>Manager  Container  VM/Host   ,  
    .</p>
</div>
<div class="olist arabic">
<ol class=arabic>
<li>
<p> Domain  IP  <br>
Container  Server  /   
 ,    /  
   .</p>
</li>
<li>
<p>Server &#8594; Manager  N/W<br>
Manager          
.    TCP Port 7700, UDP / TCP Port 16100  
</p>
</li>
<li>
<p>Persistent Volume<br>
Container  Manager      
 DB, ,       Volume
. NFS, EBS Disk, Local Node Disk  Persistent Volume
, Manager Container  </p>
</li>
<li>
<p>Instance  <br>
Manager Instance     Instance 
 .  VM /Host   ,
Container Kubernetes StatefulSet  
  </p>
</li>
</ol>
</div>
<table class="tableblock frame-all grid-all stretch">
<col style=width:25%>
<col style=width:75%>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top">() </th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Container </p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Persistent Volume</p>
</li>
<li>
<p>Server &#8594; Manager  N/W (TCP Port 7700, UDP/TCP Port 16100)</p>
</li>
<li>
<p>    IP </p>
</li>
<li>
<p>Container  </p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>VM/Host </p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Server &#8594; Manager  N/W (TCP Port 7700, UDP/TCP Port 16100)</p>
</li>
<li>
<p>    IP </p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class=sect3>
<h4 id=_><a class=link href=#_>2.4.2. </a></h4>
<div class=paragraph>
<p>Manager Server      .</p>
</div>
<div class=sect4>
<h5 id=_memory><a class=link href=#_memory>Memory</a></h5>
<div class=paragraph>
<p>Manager Server Heap Memory Size  512Mbyte  
Image      .</p>
</div>
<div class=ulist>
<ul>
<li>
<p>Heap Memory : 1024 Mbyte</p>
</li>
<li>
<p>Metaspace Memory : 256 Mbyte</p>
</li>
</ul>
</div>
<div class=paragraph>
<p>       .</p>
</div>
<div class=ulist>
<ul>
<li>
<p>LENA_JVM_HEAP_SIZE</p>
</li>
<li>
<p>LENA_JVM_METASPACE_SIZE</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<div class=table-wrap> <table>
<tr>
<td class=icon>
<i class="fa icon-note" title=Note></i>
</td>
<td class=content>
<div class=paragraph>
<p>    MByte  +m   ( : 1024m)   .     .</p>
</div>
</td>
</tr>
</table> </div>
</div>
</div>
<div class=sect4>
<h5 id=_disk><a class=link href=#_disk>Disk</a></h5>
<div class=paragraph>
<p>LENA Image   Image   1,000 Mbyte  OS + JDK
+ LENA + Library  Image  Layer   .</p>
</div>
<div class=paragraph>
<p>    Disk 1) Manager Log   2)
Repository (DB  ) . Manager  Repository 
 ${LENA_HOME}/repository, 5GB    .
, Container    Repository Persistent Volume
 Container  .</p>
</div>
<div class="admonitionblock note">
<div class=table-wrap> <table>
<tr>
<td class=icon>
<i class="fa icon-note" title=Note></i>
</td>
<td class=content>
<div class=paragraph>
<p>Manager  Repository   ${LENA_HOME}/repository, Container      Container   Persistent Volume  Container  .</p>
</div>
</td>
</tr>
</table> </div>
</div>
</div>
</div>
<div class=sect3>
<h4 id=_><a class=link href=#_>2.4.3. </a></h4>
<div class=sect4>
<h5 id=_><a class=link href=#_></a></h5>
<div class="olist arabic">
<ol class=arabic>
<li>
<p> <br>
Manager   Domain  IP   . (  <a href=#architecture_decision-manager-deployment></a> )</p>
</li>
<li>
<p> <br>
Manager      .<br></p>
<div class=ulist>
<ul>
<li>
<p>Http (TCP) Port 7700:    Rest API  </p>
</li>
<li>
<p>UDP Port 16100:   </p>
</li>
<li>
<p>TCP Port 16100: Thread / Service Dump   / </p>
<div class=literalblock>
<div class=content>
<pre>  LENA Manager Image  ,    
LENA Image  Container     Port Mapping
  .</pre>
</div>
</div>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="admonitionblock note">
<div class=table-wrap> <table>
<tr>
<td class=icon>
<i class="fa icon-note" title=Note></i>
</td>
<td class=content>
<div class=paragraph>
<p>LENA Manager Service    Server  Port  ,     Server  /   .</p>
</div>
</td>
</tr>
</table> </div>
</div>
</div>
<div class=sect4>
<h5 id=architecture_decision_manager_env><a class=link href=#architecture_decision_manager_env></a></h5>
<div class=paragraph>
<p>Manager Container      .</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<col style=width:25%>
<col style=width:50%>
<col style=width:12.5%>
<col style=width:12.5%>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top"> </th>
<th class="tableblock halign-left valign-top"><br>
</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_JVM_HEAP_SIZE</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Heap Memory  </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>1024m</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_JVM_METASPACE_SIZE</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Metaspace Memory</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>256m</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_MANAGER_DOMAIN_ENABLED</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Domain Name  </p>
</li>
<li>
<p>Y  N</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Y</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_MANAGER_ADDRESS</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>  (Server ) Manager </p>
</li>
<li>
<p> : IP / Domain :  <br>
) Kubernetes  : Service Domain</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>JAVA_DOMAIN_CACHE_TTL</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Domain  Cache  ()</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>3</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_SERVER_TYPE</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Server </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>manager</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_HOME</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>LENA </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>/usr/local/lena</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_JVM_OPTIONS</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>  JVM OPTION</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_USER</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Manager   OS </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>root</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_USER_GROUP</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Manager   OS </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>root</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<div class=table-wrap> <table>
<tr>
<td class=icon>
<i class="fa icon-note" title=Note></i>
</td>
<td class=content>
<div class=paragraph>
<p>JAVA_DOMAIN_CACHE_TTL    ${JAVA_HOME}/jre/lib/security/java.security
 networkaddress.cache.ttl  .</p>
</div>
</td>
</tr>
</table> </div>
</div>
</div>
<div class=sect4>
<h5 id=_directory_><a class=link href=#_directory_>Directory </a></h5>
<div class=paragraph>
<p>LENA Image     '/usr/local/lena' ,
    .</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<col style=width:33.3333%>
<col style=width:50%>
<col style=width:16.6667%>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><br>
(${LENA_HOME} )</th>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top"></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>bin</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Manager Start/Stop scripts</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>depot</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>  Local Repository</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>etc</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>     </p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>license</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>License   </p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>logs<br>
lena-manager</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>   Home<br>
Manager Log </p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>modules<br>
 lena-manager</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA    Home<br>
lena-manager     </p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>repository<br>
backup<br>
config<br>
container<br>
database<br>
license<br>
monitoringDB<br>
resource<br>
template</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Manager  Home<br>
 <br>
Manager  <br>
Container  <br>
Manager  <br>
  <br>
  <br>
Resource   <br>
Server  Template </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Container    </p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>tmp</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class=sect4>
<h5 id=_log_dump_><a class=link href=#_log_dump_>Log & Dump </a></h5>
<div class=paragraph>
<p>Log  Dump Standard Out / Error  'console'  File
 'file'  ,  'LOG_OUTPUT_TYPE&#8217; 
'console'  'file&#8217;      .</p>
</div>
<div class="olist arabic">
<ol class=arabic>
<li>
<p>Console <br>
 Container    . Manager
Application Log, Access Log, GC Log  Standard Out .
Docker  Log Driver  Node(Host)  ( :
/var/lib/docker/containers/[container-id]/[container-id]-json.log)
 FluentD  Log Aggregator   / 
   .</p>
</li>
<li>
<p> <br>
    Log  Dump 
${LENA_HOME}/logs/lena-manager Daily Rolling  .
      30   Log
 .<br>
  Manager VM/Host   Manager Log 
     .</p>
</li>
</ol>
</div>
</div>
<div class=sect4>
<h5 id=architecture_decision-manager-healthcheck><a class=link href=#architecture_decision-manager-healthcheck>Health Check</a></h5>
<div class=paragraph>
<p>Health Check Kubernetes  .<br>
Health Check  Container    1)
Readiness Probe      2) Liveness
Probe,  Application  3) Startup Probe .</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<col style=width:50%>
<col style=width:50%>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top"></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Readiness (Probe)</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>,     
</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Liveness (Probe)</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>,     </p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Startup (Probe)</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>    </p></td>
</tr>
</tbody>
</table>
<div class=paragraph>
<p>Check (Action)  3  .</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<col style=width:50%>
<col style=width:50%>
<thead>
<tr>
<th class="tableblock halign-left valign-top"> (Action)</th>
<th class="tableblock halign-left valign-top"></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>TCP Socket (TCPSocketAction)</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Port   Health Check</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Http URL Query (HTTPGetAction)</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>URL    Health Check</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Exec  (ExecAction)</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Container    Health Check</p></td>
</tr>
</tbody>
</table>
<div class=paragraph>
<p>Manager Health Check   URL   , Readiness
Liveness Probe .   .</p>
</div>
<div class="olist arabic">
<ol class=arabic>
<li>
<p>Readiness Check</p>
<div class=ulist>
<ul>
<li>
<p>httpGet : path /lena, port 7700</p>
</li>
<li>
<p>initialDelaySeconds : 5</p>
</li>
<li>
<p>periodSeconds : 5</p>
</li>
</ul>
</div>
</li>
<li>
<p>Liveness Check</p>
<div class=ulist>
<ul>
<li>
<p>httpGet : path /lena, port 7700</p>
</li>
<li>
<p>initialDelaySeconds : 20</p>
</li>
<li>
<p>periodSeconds : 5</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class=sect2>
<h3 id=_server___session_server><a class=link href=#_server___session_server>2.5. Server    Session Server</a></h3>
<div class=sect3>
<h4 id=architecture_decision-session-deployment><a class=link href=#architecture_decision-session-deployment>2.5.1. </a></h4>
<div class=paragraph>
<p>Session Server  Container  VM/Host   ,  
    .</p>
</div>
<div class="olist arabic">
<ol class=arabic>
<li>
<p> Domain  IP  <br>
Session Server  2 Container  Cluster  .  Session Server  Session Server  Domain / IP
Mirror Server   Session   ,
   /      .</p>
</li>
<li>
<p>Instance  <br>
Session Instance     Instance 
 .  VM /Host   ,
Container Kubernetes StatefulSet  
  </p>
</li>
</ol>
</div>
<table class="tableblock frame-all grid-all stretch">
<col style=width:25%>
<col style=width:75%>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top">() </th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Container </p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>    IP </p>
</li>
<li>
<p>Container  </p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>VM/Host </p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>    IP </p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class=sect3>
<h4 id=__2><a class=link href=#__2>2.5.2. </a></h4>
<div class=paragraph>
<p>Session Server      .</p>
</div>
<div class=sect4>
<h5 id=_memory_2><a class=link href=#_memory_2>Memory</a></h5>
<div class=paragraph>
<p>Session Server Heap Memory Size  1024Mbyte  
Image      .</p>
</div>
<div class=ulist>
<ul>
<li>
<p>Heap Memory : 1024 Mbyte</p>
</li>
</ul>
</div>
<div class=paragraph>
<p>       .</p>
</div>
<div class=ulist>
<ul>
<li>
<p>LENA_JVM_HEAP_SIZE</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<div class=table-wrap> <table>
<tr>
<td class=icon>
<i class="fa icon-note" title=Note></i>
</td>
<td class=content>
<div class=paragraph>
<p>    MByte  +m   ( : 1024m)   .     .</p>
</div>
</td>
</tr>
</table> </div>
</div>
</div>
<div class=sect4>
<h5 id=_disk_2><a class=link href=#_disk_2>Disk</a></h5>
<div class=paragraph>
<p>LENA Image   Image   800 Mbyte  OS + JDK<br>
LENA + Library  Image  Layer   .</p>
</div>
<div class=paragraph>
<p>    Disk Session Server Log  .</p>
</div>
</div>
<div class=sect4>
<h5 id=__2><a class=link href=#__2></a></h5>
</div>
<div class=sect4>
<h5 id=__2><a class=link href=#__2></a></h5>
<div class="olist arabic">
<ol class=arabic>
<li>
<p> <br>
Session Server   Domain  IP   . (  <a href=#architecture_decision-session-deployment></a> ) WAS  Secondary Session Server 
 Session  .</p>
</li>
<li>
<p> <br>
Session Server      .<br></p>
<div class=ulist>
<ul>
<li>
<p>Http (TCP) Port 5180* : Session    <br></p>
</li>
</ul>
</div>
<div class=paragraph>
<p>  LENA Image  ,     LENA Image
 Container     Port Mapping  
.</p>
</div>
</li>
</ol>
</div>
<div class="admonitionblock note">
<div class=table-wrap> <table>
<tr>
<td class=icon>
<i class="fa icon-note" title=Note></i>
</td>
<td class=content>
<div class=paragraph>
<p>Session Server Service    Server  Port  ,     Server   /   .</p>
</div>
</td>
</tr>
</table> </div>
</div>
</div>
<div class=sect4>
<h5 id=architecture_decision_session_env><a class=link href=#architecture_decision_session_env></a></h5>
<div class=paragraph>
<p>Session Container      .</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<col style=width:25%>
<col style=width:50%>
<col style=width:12.5%>
<col style=width:12.5%>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top"> </th>
<th class="tableblock halign-left valign-top"><br>
</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_JVM_HEAP_SIZE</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Heap Memory  </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>1024m</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_MANAGER_ADDRESS</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>  (Server ) Manager </p>
</li>
<li>
<p> : IP / Domain :  <br>
) Kubernetes  : Service Domain</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_CONFIG_TEMPLATE_ID</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Service Cluster  : Revision No</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>JAVA_DOMAIN_CACHE_TTL</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Domain  Cache  ()</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>0</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_SESSION_0_ADDRESS</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Primary Session  , StatefulSet  </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_SESSION_1_ADDRESS</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Secondary Session  , StatefulSet  </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_SECONDARY_SESSION_NO</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>LENA_SESSION_0_ADDRESS / LENA_SESSION_1_ADDRESS  mirror     (0, 1   )</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_SESSION_EXPIRE_SEC</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Session   ()</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>1800</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_CONFIG_SHARE_SESSION</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Application  Session </p>
</li>
<li>
<p>Y  N  </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>N</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_SERVER_TYPE</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Server </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>session</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_HOME</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>LENA </p>
</li>
<li>
<p>  : /usr/local/lena</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>()</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_SERVER_HOME</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Session Server  </p>
</li>
<li>
<p>  : /usr/local/lena/server/sessionServer</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>()</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>X</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LOG_OUTPUT_TYPE</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>   (file/console)</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>console</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_AGENT_RUN</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>LENA Agent </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>N</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_USER</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Manager   OS </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>root</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_USER_GROUP</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Manager   OS </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>root</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<div class=table-wrap> <table>
<tr>
<td class=icon>
<i class="fa icon-note" title=Note></i>
</td>
<td class=content>
<div class=paragraph>
<p>JAVA_DOMAIN_CACHE_TTL    ${JAVA_HOME}/jre/lib/security/java.security
 networkaddress.cache.ttl  .</p>
</div>
</td>
</tr>
</table> </div>
</div>
</div>
<div class=sect4>
<h5 id=_directory__2><a class=link href=#_directory__2>Directory </a></h5>
<div class=paragraph>
<p>LENA Image     /usr/local/lena ,  
  .</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<col style=width:28.5714%>
<col style=width:57.1428%>
<col style=width:14.2858%>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><br>
(${LENA_HOME} )</th>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top"></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>bin</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Session Server Start/Stop scripts</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>depot</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>  Local Repository</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>etc</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>     </p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>license</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>License  </p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>modules</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA    Home</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>servers/sessionServer<br>
lib<br>
logs<br></p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Session Server   (${LENA_SERVER_HOME})<br>
Session Server Library <br>
Log  </p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>tmp</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class=sect4>
<h5 id=_log><a class=link href=#_log>Log</a></h5>
<div class=paragraph>
<p>Session Server File Log  . 
${LENA_SERVER_HOME}/logs   
lena-sessionServer-YYYYMMDD.log   Log  </p>
</div>
</div>
<div class=sect4>
<h5 id=_health_check><a class=link href=#_health_check>Health Check</a></h5>
<div class=paragraph>
<p>Health Check     <a href=#architecture_decision-manager-healthcheck>Manger Health Check</a>  .</p>
</div>
<div class=paragraph>
<p>Kubernetes  Session Server Health Check   Command Exec
(ExecAction) , ${LENA_SERVER_HOME}/ health.sh .</p>
</div>
<div class="olist arabic">
<ol class=arabic>
<li>
<p>Readiness Check</p>
<div class=ulist>
<ul>
<li>
<p>exec : ${LENA_SERVER_HOME}/ health.sh</p>
</li>
<li>
<p>initialDelaySeconds : 20</p>
</li>
</ul>
</div>
</li>
<li>
<p>Liveness Check</p>
<div class=ulist>
<ul>
<li>
<p>exec : ${LENA_SERVER_HOME}/ health.sh</p>
</li>
<li>
<p>initialDelaySeconds : 30</p>
</li>
<li>
<p>periodSeconds : 5</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class=sect2>
<h3 id=_server___was><a class=link href=#_server___was>2.6. Server    WAS</a></h3>
<div class=sect3>
<h4 id=architecture_decision-was-deployment><a class=link href=#architecture_decision-was-deployment>2.6.1. </a></h4>
<div class=paragraph>
<p>WAS Container ,   Container 
(Kubernetes, ECS)    Instance  .</p>
</div>
<div class="olist arabic">
<ol class=arabic>
<li>
<p>Service <br>
WAS  / Container ,  
Front-End Service    L/B  Service
   . Kubernetes   Node
 Port  NodePort,  L/B  LoadBalancer, 
 IP  ClusterIp    , ECS
 ALB   .  Application 
 Service   .</p>
</li>
<li>
<p>Instance  (Replica)<br>
 Service   WAS   
,    Instance   , 
  .</p>
</li>
<li>
<p>Service Mapping<br>
ECS  Service  L/B   , Kubernetes
 Key-Value   label  Mapping   
Service .    ,   Mapping
     .</p>
</li>
</ol>
</div>
</div>
<div class=sect3>
<h4 id=__3><a class=link href=#__3>2.6.2. </a></h4>
<div class=paragraph>
<p>WAS      .</p>
</div>
<div class=sect4>
<h5 id=_memory_3><a class=link href=#_memory_3>Memory</a></h5>
<div class=paragraph>
<p>WAS Heap Memory Size  512Mbyte  
Image      .</p>
</div>
<div class=ulist>
<ul>
<li>
<p>Heap Memory : 1024 Mbyte</p>
</li>
<li>
<p>Metaspace Memory : 128 Mbyte</p>
</li>
</ul>
</div>
<div class=paragraph>
<p>       .</p>
</div>
<div class=ulist>
<ul>
<li>
<p>LENA_JVM_HEAP_SIZE</p>
</li>
<li>
<p>LENA_JVM_METASPACE_SIZE</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<div class=table-wrap> <table>
<tr>
<td class=icon>
<i class="fa icon-note" title=Note></i>
</td>
<td class=content>
<div class=paragraph>
<p>    MByte  +m   ( : 1024m)   .     .</p>
</div>
</td>
</tr>
</table> </div>
</div>
</div>
<div class=sect4>
<h5 id=_disk_3><a class=link href=#_disk_3>Disk</a></h5>
<div class=paragraph>
<p>LENA Image   Image   900 Mbyte  OS + JDK + LENA + Library  Image  Layer   .<br>
   Disk Log     Log
Application   (Artifact)   .</p>
</div>
</div>
</div>
<div class=sect3>
<h4 id=__3><a class=link href=#__3>2.6.3. </a></h4>
<div class=sect4>
<h5 id=architecture_decision-app-network><a class=link href=#architecture_decision-app-network></a></h5>
<div class="olist arabic">
<ol class=arabic>
<li>
<p> <br>
WAS     . N/W
Manager Session Server      
.</p>
</li>
<li>
<p> <br>
WAS      .</p>
<div class=ulist>
<ul>
<li>
<p>HTTP  Port : 8180</p>
</li>
</ul>
</div>
<div class=paragraph>
<p>  LENA Image  ,     
 LENA Image  Container    Port 
    .</p>
</div>
</li>
</ol>
</div>
</div>
<div class=sect4>
<h5 id=architecture_decision_application_env><a class=link href=#architecture_decision_application_env></a></h5>
<div class=paragraph>
<p>WAS Container      .</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<col style=width:25%>
<col style=width:50%>
<col style=width:12.5%>
<col style=width:12.5%>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top"> </th>
<th class="tableblock halign-left valign-top"><br>
</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_SERVICE_PORT</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>WAS  Port</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>8180</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_JVM_HEAP_SIZE</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Heap Memory  </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>1024m</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_JVM_METASPACE_SIZE</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Metaspace Memory</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>128m</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_JVM_OPTIONS</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>  JVM OPTION</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_MANAGER_ADDRESS</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Manager </p>
</li>
<li>
<p> : IP / Domain :  </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_MANAGER_MONITORING_PORT</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Manager  Port </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>16100</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_MANAGER_KEY</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Manager Open API  </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_CONFIG_TEMPLATE_DOWNLOAD</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Manager    </p>
</li>
<li>
<p> : Y  N</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_CONFIG_TEMPLATE_ID</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>  ID</p>
</li>
<li>
<p> : Service Cluster :Revision </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_LICENSE_DOWNLOAD_URL</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>License  URL</p>
</li>
<li>
<p> : manager   License URI</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>manager</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_CONTRACT_CODE</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>License     .</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>JAVA_DOMAIN_CACHE_TTL</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Domain  Cache  ()</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>3</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LOG_OUTPUT_TYPE</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>LOG  </p>
</li>
<li>
<p>  : console  file</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>console</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_LOG_OUTPUT_DIR</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Log   </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>/usr/local/lena/servers/appServer/logs</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_DUMP_OUTPUT_DIR</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Dump   </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_SERVER_TYPE</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Server </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>WAS</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_HOME</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>LENA  Home</p>
</li>
<li>
<p> : /usr/local/lena</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>()</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_SERVER_HOME</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>LENA   </p>
</li>
<li>
<p> : /usr/local/lena/servers/appServer</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>()</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_SERVICE_ENDPOINT</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>WAS    </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_AGENT_RUN</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>LENA Agent </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>N</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_USER</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Manager   OS </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>root</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_USER_GROUP</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Manager   OS </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>root</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_HEALTH_CHECK</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Health Check </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>N</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_HEALTH_CHECK_WAS_URL</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Health Check   </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>/tie/lenaHealthCheck.jsp</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_HEALTH_CHECK_INITIAL_DELAY_MILLISEC</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>LENA Agent   Health Check  , Server   </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>60000 (milliseconds)</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_HEALTH_CHECK_TIMEOUT_MILLISEC</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Health Check  Timeout</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>5000 (milliseconds)</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_HEALTH_CHECK_FAILURE_THRESHOLD</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Health Check  </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>5</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_HEALTH_CHECK_TERM_EXECUTION</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Health Check   ,  </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>true</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_HEALTH_CHECK_TERM_EXECUTION_SCRIPT</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Health Check   ,  script </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>stop-container</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_HEALTH_CHECK_TERM_EXECUTION_INTERVAL</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Health Check   ,   </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>300 (seconds)</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<div class=table-wrap> <table>
<tr>
<td class=icon>
<i class="fa icon-note" title=Note></i>
</td>
<td class=content>
<div class=ulist>
<ul>
<li>
<p>LENA_CONFIG_TEMPLATE_ID: Revision  ,  Default Revision  .</p>
</li>
<li>
<p>LENA_CONTRACT_CODE: License   ,        .</p>
</li>
<li>
<p>JAVA_DOMAIN_CACHE_TTL:     ${JAVA_HOME}/jre/lib/security/java.security
 networkaddress.cache.ttl  .</p>
</li>
<li>
<p>LOG_OUTPUT_TYPE: Server        Log .</p>
</li>
</ul>
</div>
</td>
</tr>
</table> </div>
</div>
</div>
<div class=sect4>
<h5 id=_directory__3><a class=link href=#_directory__3>Directory </a></h5>
<div class=paragraph>
<p>LENA Image     /usr/local/lena ,   
 .</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<col style=width:28.5714%>
<col style=width:57.1428%>
<col style=width:14.2858%>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><br>
(${LENA_HOME} )</th>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top"></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>bin</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Node Agent Start/Stop scripts</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>depot</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>  Local Repository</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>etc</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>     </p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>license</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>License   </p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>logs</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA    </p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>modules</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA    Home</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock> lena-agent</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Node Agent     </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>servers/webServer</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Server  Home, ${LENA_SERVER_HOME}</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>bin</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Server Start / Stop /   Script </p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>conf</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Server  </p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>dumps</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Dump  </p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>hook</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Life-Cycle Hook Shell  </p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>lib</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Server  Library </p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>logs</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Log  </p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>temp</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>  </p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>webapps</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock> Application Deployment </p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>work</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>JSP Servlet      </p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>tmp</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA   </p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class=sect4>
<h5 id=architecture_decision_app-logoutput><a class=link href=#architecture_decision_app-logoutput>Log & Dump </a></h5>
<div class=paragraph>
<p>Log Standard Out / Error  console  File 
file  ,  LOG_OUTPUT_TYPE  console 
file      .</p>
</div>
<div class="olist arabic">
<ol class=arabic>
<li>
<p>Console <br>
 Container    . Server
Application Log, Access Log, GC Log  Standard Out .
Docker  Log Driver  Node(Host)  (Docker 
Log   :
/var/lib/docker/containers/[container-id]/[container-id]-json.log)
 FluentD  Log Aggregator   / 
   .</p>
</li>
<li>
<p> <br>
    Log  Dump 
${LENA_HOME}/servers/appServer/logs   
,  Log  logrotate  Daily rolling .<br>
 Log       .</p>
</li>
</ol>
</div>
<table class="tableblock frame-all grid-all stretch">
<col style=width:50%>
<col style=width:50%>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Log </th>
<th class="tableblock halign-left valign-top"> </th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Access Log</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>access_appServer_${HOSTNAME}.log</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>GC Log</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>gc_appServer_${HOSTNAME}.log</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Application Log</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>appServer_lena-${HOSTNAME}.out.log</p></td>
</tr>
</tbody>
</table>
<div class=paragraph>
<p> Log Guest OS  logrotate   Rolling .<br>
  Log  ,  Log Aggregator  Log  /
 Log Stack (ELK, EFK Stack)   .
  Fluent-Bit Side-car Container  Log
  .</p>
</div>
<div class=paragraph>
<p>Dump   .</p>
</div>
<div class=ulist>
<ul>
<li>
<p>Dump Home : ${LENA_HOME}/servers/appServer/dumps/ ${HOSTNAME}</p>
</li>
</ul>
</div>
<div class=paragraph>
<p>${HOSTNAME}   Volume Dump   Container
  .</p>
</div>
<div class=paragraph>
<p>Dump     .</p>
</div>
<div class=ulist>
<ul>
<li>
<p>Heap Dump : ${DUMP_HOME}/hdump</p>
</li>
<li>
<p>Thread Dump : ${DUMP_HOME}/tdump</p>
</li>
<li>
<p>Service Dump : ${DUMP_HOME}/sdump</p>
</li>
</ul>
</div>
</div>
<div class=sect4>
<h5 id=_health_check_2><a class=link href=#_health_check_2>Health Check</a></h5>
<div class=paragraph>
<p>Health Check    <a href=#architecture_decision-manager-healthcheck>Manager Health Check</a>  .</p>
</div>
<div class=paragraph>
<p> WAS Http Get Health Check ,
LENA WAS  Health Check TCP Port 
 .   LENA Image Business Application 
 , Biz Application   
Application  Http Get Health Check   
.  Kubernetes Manifest     .</p>
</div>
<div class="olist arabic">
<ol class=arabic>
<li>
<p>Readiness Check</p>
<div class=ulist>
<ul>
<li>
<p>TCPSocketAction : port 8180</p>
</li>
<li>
<p>initialDelaySeconds : xx (Application    )</p>
</li>
<li>
<p>timeoutSeconds : xx (Application    )</p>
</li>
</ul>
</div>
</li>
<li>
<p>Liveness Check</p>
<div class=ulist>
<ul>
<li>
<p>TCPSocketAction : port 8180</p>
</li>
<li>
<p>initialDelaySeconds : xx (Application    )</p>
</li>
<li>
<p>periodSeconds : xx (Application    )</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="admonitionblock note">
<div class=table-wrap> <table>
<tr>
<td class=icon>
<i class="fa icon-note" title=Note></i>
</td>
<td class=content>
<div class=ulist>
<ul>
<li>
<p>LENA WAS  Server    Service Port Listen  .</p>
</li>
<li>
<p>Health Check  Page Check       ,  Back-end ( : Database)     Page   .</p>
</li>
</ul>
</div>
</td>
</tr>
</table> </div>
</div>
</div>
<div class=sect4>
<h5 id=architecture_decision-app-config><a class=link href=#architecture_decision-app-config>Server Configuration </a></h5>
<div class=paragraph>
<p>Container WAS    .</p>
</div>
<div class=paragraph>
<p>Server  WAS   
,    1) Base Image  2)
Container   3) Application Artifact 
 .</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<col style=width:33.3333%>
<col style=width:33.3333%>
<col style=width:33.3334%>
<thead>
<tr>
<th class="tableblock halign-left valign-top">  </th>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top">LENA<br>
</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Base Image </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Base Image   COPY Image </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>  </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Container ,  Repository  
COPY</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Application Artifact </p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=paragraph>
<p>Spring Boot   Application Artifact Server 
   Application Artifact   </p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock><br>
WAS(Embedded)   </p></td>
</tr>
</tbody>
</table>
<div class=paragraph>
<p>LENA Manager    Server  Image
Build, Container     ,  
Application / WEB Server Container  Manager , Server
  .     .</p>
</div>
<div class=imageblock>
<div class=content>
<img src=/resources/static/images/installation/container/achitecture_decision_6_service_cluster.png alt=servicecluster width=623 height=276>
</div>
<div class=title>Figure 16. Service Cluster   Container  </div>
</div>
<div class=paragraph>
<p>LENA Server Cluster   Server   ,
 Image    .</p>
</div>
<div class=paragraph>
<p>Server        .</p>
</div>
</div>
<div class=sect4>
<h5 id=architecture_decision-app-imageBuild><a class=link href=#architecture_decision-app-imageBuild>Container Image Build</a></h5>
<div class=paragraph>
<p>LENA Base Image  Project /    Architecture
  Base Image    Build    
 . Architecture  LENA Image 
, Image   /   .</p>
</div>
<div class=paragraph>
<p>  Base Image Build  .</p>
</div>
<div class=ulist>
<ul>
<li>
<p>OS LENA   Image </p>
</li>
<li>
<p>LENA    ( : /usr/local/lena)</p>
</li>
<li>
<p>   Architecture  LENA   Image 
    </p>
</li>
</ul>
</div>
<div class=paragraph>
<p>  LENA  Base Image   .</p>
</div>
<div class=paragraph>
<p>      , LENA Image  Base
Image (Build).</p>
</div>
<div class=ulist>
<ul>
<li>
<p>Application Artifact </p>
</li>
<li>
<p> Library </p>
</li>
<li>
<p>JDK  ( Image      )</p>
</li>
<li>
<p> Command Script </p>
</li>
<li>
<p>   Architecture  LENA   Image      </p>
</li>
</ul>
</div>
<div class=paragraph>
<p>    <a href=#installation_prerequistes-baseImage>Base Image </a>  .</p>
</div>
</div>
<div class=sect4>
<h5 id=_application_><a class=link href=#_application_>Application </a></h5>
<div class=paragraph>
<p>Container  Server  Application Artifact  
   . Project   ,
Kubernetes Deployment Manifest ECS Task 
   .</p>
</div>
<div class=paragraph>
<p>WAS  Application Deployment  
  .</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<col style=width:50%>
<col style=width:50%>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Server   </th>
<th class="tableblock halign-left valign-top"></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock> Deployment  </p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=paragraph>
<p>${LENA_SERVER_HOME}/webapps WAR  Directory </p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock> Application   </p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=paragraph>
<p>Manager   Application </p>
</div>
<div class=paragraph>
<p>Application  DocBase  WAR  Directory </p>
</div></div></td>
</tr>
</tbody>
</table>
<div class=paragraph>
<p>Container  Deployment    .</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<col style=width:50%>
<col style=width:50%>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Container  </th>
<th class="tableblock halign-left valign-top"></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock> Container Image   </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Base Image Application
Artifact   / </p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Init Container     </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Init Container 
 Artifact    (Volume)  Artifact  
 Container </p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class=sect2>
<h3 id=_server___embedded_was><a class=link href=#_server___embedded_was>2.7. Server    Embedded WAS</a></h3>
<div class=sect3>
<h4 id=architecture_decision-was-deployment><a class=link href=#architecture_decision-was-deployment>2.7.1. </a></h4>
<div class=paragraph>
<p>Embedded WAS Container ,   Container 
(Kubernetes, ECS)    Instance  .</p>
</div>
<div class="olist arabic">
<ol class=arabic>
<li>
<p>Service <br>
Embedded WAS  / Container ,  
Front-End Service    L/B  Service
   . Kubernetes   Node
 Port  NodePort,  L/B  LoadBalancer, 
 IP  ClusterIp    , ECS
 ALB   .  Application 
 Service   .</p>
</li>
<li>
<p>Instance  (Replica)<br>
 Service   Embedded WAS   
,    Instance   , 
  .</p>
</li>
<li>
<p>Service Mapping<br>
ECS  Service  L/B   , Kubernetes
 Key-Value   label  Mapping   
Service .    ,   Mapping
     .</p>
</li>
</ol>
</div>
</div>
<div class=sect3>
<h4 id=__4><a class=link href=#__4>2.7.2. </a></h4>
<div class=paragraph>
<p>Embedded WAS      .</p>
</div>
<div class=sect4>
<h5 id=_memory_4><a class=link href=#_memory_4>Memory</a></h5>
<div class=paragraph>
<p>Embedded WAS Heap Memory Size  512Mbyte  
Image      .</p>
</div>
<div class=ulist>
<ul>
<li>
<p>Heap Memory : 1024 Mbyte</p>
</li>
<li>
<p>Metaspace Memory : 128 Mbyte</p>
</li>
</ul>
</div>
<div class=paragraph>
<p>       .</p>
</div>
<div class=ulist>
<ul>
<li>
<p>LENA_JVM_HEAP_SIZE</p>
</li>
<li>
<p>LENA_JVM_METASPACE_SIZE</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<div class=table-wrap> <table>
<tr>
<td class=icon>
<i class="fa icon-note" title=Note></i>
</td>
<td class=content>
<div class=paragraph>
<p>    MByte  +m   ( : 1024m)   .     .</p>
</div>
</td>
</tr>
</table> </div>
</div>
</div>
<div class=sect4>
<h5 id=_disk_4><a class=link href=#_disk_4>Disk</a></h5>
<div class=paragraph>
<p>LENA Image   Image   700 Mbyte  OS + JDK + LENA + Library  Image  Layer   .<br>
   Disk Log     Log
Application   (Artifact)   .</p>
</div>
</div>
</div>
<div class=sect3>
<h4 id=__4><a class=link href=#__4>2.7.3. </a></h4>
<div class=sect4>
<h5 id=architecture_decision-app-network><a class=link href=#architecture_decision-app-network></a></h5>
<div class="olist arabic">
<ol class=arabic>
<li>
<p> <br>
Embedded WAS     . N/W
Manager Session Server      
.</p>
</li>
<li>
<p> <br>
Embedded WAS      .</p>
<div class=ulist>
<ul>
<li>
<p>HTTP  Port : 8180</p>
</li>
</ul>
</div>
<div class=paragraph>
<p>  LENA Image  ,     
 LENA Image  Container    Port 
    .</p>
</div>
</li>
</ol>
</div>
</div>
<div class=sect4>
<h5 id=architecture_decision_embedded_application_env><a class=link href=#architecture_decision_embedded_application_env></a></h5>
<div class=paragraph>
<p>Embedded WAS Container      .</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<col style=width:25%>
<col style=width:50%>
<col style=width:12.5%>
<col style=width:12.5%>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top"> </th>
<th class="tableblock halign-left valign-top"><br>
</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_SERVICE_PORT</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>WAS  Port</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>8180</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_JVM_HEAP_SIZE</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Heap Memory  </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>1024m</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_JVM_METASPACE_SIZE</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Metaspace Memory</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>128m</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_JVM_OPTIONS</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>  JVM OPTION</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_MANAGER_ADDRESS</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Manager </p>
</li>
<li>
<p> : IP / Domain :  </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_MANAGER_MONITORING_PORT</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Manager  Port </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>16100</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_CONFIG_TEMPLATE_ID</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>  ID</p>
</li>
<li>
<p> : Service Cluster :Revision </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LOG_OUTPUT_TYPE</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>LOG  </p>
</li>
<li>
<p>  : console  file</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>console</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_LOG_OUTPUT_DIR</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Log   </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>/usr/local/lena/logs</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_SERVER_TYPE</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Server </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>embedded</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_HOME</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>LENA  Home</p>
</li>
<li>
<p> : /usr/local/lena</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>()</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_SERVICE_ENDPOINT</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>WAS    </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_HEALTH_CHECK</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Health Check </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>N</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_APP_FILE</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Application Jar  </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_APP_DIR</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Application Jar  </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>/usr/local/lena</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_EXCEPTION_ALERT_ENABLE</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Exception    </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>false</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_EXCEPTION_CLASS_PATTERNS</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p> Exception Class  ','   Class   </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_EXCEPTION_EXCLUDE_CLASS_PATTERNS</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p> Exception Class  ','   Class   </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_FULLSTACK_HOOKED_EXCEPTION_ENABLE</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Exception  Full Stack Trace </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>true</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_STUCKTHREAD_ALERT_ENABLE</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Thread Stuck    </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>false</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_OOM_ALERT_ENABLE</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Out Of Memory    </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>true</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_FULLGC_ALERT_ENABLE</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Full GC    </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>false</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_REVERSE_TCP_CONNECTION_ENABLE</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Reverse TCP Connection   Manager   </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>true</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
</tbody>
</table>
</div>
<div class=sect4>
<h5 id=_directory__4><a class=link href=#_directory__4>Directory </a></h5>
<div class=paragraph>
<p>LENA Image     /usr/local/lena ,   
 .</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<col style=width:28.5714%>
<col style=width:57.1428%>
<col style=width:14.2858%>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><br>
(${LENA_HOME} )</th>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top"></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>logs</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA    </p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>etc/info</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Image Build   </p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class=sect4>
<h5 id=architecture_decision_embedded_app-logoutput><a class=link href=#architecture_decision_embedded_app-logoutput>Log & Dump </a></h5>
<div class=paragraph>
<p>Log Standard Out / Error  console  File 
file  ,  LOG_OUTPUT_TYPE  console 
file      .</p>
</div>
<div class="olist arabic">
<ol class=arabic>
<li>
<p>Console <br>
 Container    . Server
Application Log, Access Log, GC Log  Standard Out .
Docker  Log Driver  Node(Host)  (Docker 
Log   :
/var/lib/docker/containers/[container-id]/[container-id]-json.log)
 FluentD  Log Aggregator   / 
   .</p>
</li>
<li>
<p> <br>
    Log  Dump 
${LENA_HOME}/servers/appServer/logs   
,  Log  logrotate  Daily rolling .<br>
 Log       .</p>
</li>
</ol>
</div>
<table class="tableblock frame-all grid-all stretch">
<col style=width:50%>
<col style=width:50%>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Log </th>
<th class="tableblock halign-left valign-top"> </th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Access Log</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>access_appServer_${HOSTNAME}.log</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>GC Log</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>gc_appServer_${HOSTNAME}.log</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Application Log</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>appServer_lena-${HOSTNAME}.out.log</p></td>
</tr>
</tbody>
</table>
<div class=paragraph>
<p> Log Guest OS  logrotate   Rolling .<br>
  Log  ,  Log Aggregator  Log  /
 Log Stack (ELK, EFK Stack)   .
  Fluent-Bit Side-car Container  Log
  .</p>
</div>
<div class=paragraph>
<p>Dump   .</p>
</div>
<div class=ulist>
<ul>
<li>
<p>Dump Home : ${LENA_HOME}/servers/appServer/dumps/ ${HOSTNAME}</p>
</li>
</ul>
</div>
<div class=paragraph>
<p>${HOSTNAME}   Volume Dump   Container
  .</p>
</div>
<div class=paragraph>
<p>Dump     .</p>
</div>
<div class=ulist>
<ul>
<li>
<p>Heap Dump : ${DUMP_HOME}/hdump</p>
</li>
<li>
<p>Thread Dump : ${DUMP_HOME}/tdump</p>
</li>
<li>
<p>Service Dump : ${DUMP_HOME}/sdump</p>
</li>
</ul>
</div>
</div>
<div class=sect4>
<h5 id=_health_check_3><a class=link href=#_health_check_3>Health Check</a></h5>
<div class=paragraph>
<p>Health Check    <a href=#architecture_decision-manager-healthcheck>Manager Health Check</a>  .</p>
</div>
<div class=paragraph>
<p> WAS Http Get Health Check ,
LENA WAS  Health Check TCP Port 
 .   LENA Image Business Application 
 , Biz Application   
Application  Http Get Health Check   
.  Kubernetes Manifest     .</p>
</div>
<div class="olist arabic">
<ol class=arabic>
<li>
<p>Readiness Check</p>
<div class=ulist>
<ul>
<li>
<p>TCPSocketAction : port 8180</p>
</li>
<li>
<p>initialDelaySeconds : xx (Application    )</p>
</li>
<li>
<p>timeoutSeconds : xx (Application    )</p>
</li>
</ul>
</div>
</li>
<li>
<p>Liveness Check</p>
<div class=ulist>
<ul>
<li>
<p>TCPSocketAction : port 8180</p>
</li>
<li>
<p>initialDelaySeconds : xx (Application    )</p>
</li>
<li>
<p>periodSeconds : xx (Application    )</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="admonitionblock note">
<div class=table-wrap> <table>
<tr>
<td class=icon>
<i class="fa icon-note" title=Note></i>
</td>
<td class=content>
<div class=ulist>
<ul>
<li>
<p>LENA WAS  Server    Service Port Listen  .</p>
</li>
<li>
<p>Health Check  Page Check       ,  Back-end ( : Database)     Page   .</p>
</li>
</ul>
</div>
</td>
</tr>
</table> </div>
</div>
</div>
<div class=sect4>
<h5 id=architecture_decision-app-imageBuild><a class=link href=#architecture_decision-app-imageBuild>Container Image Build</a></h5>
<div class=paragraph>
<p>LENA Base Image  Project /    Architecture
  Base Image    Build    
 . Architecture  LENA Image 
, Image   /   .</p>
</div>
<div class=paragraph>
<p>  Base Image Build  .</p>
</div>
<div class=ulist>
<ul>
<li>
<p>OS LENA   Image </p>
</li>
<li>
<p>LENA    ( : /usr/local/lena)</p>
</li>
<li>
<p>   Architecture  LENA   Image 
    </p>
</li>
</ul>
</div>
<div class=paragraph>
<p>  LENA  Base Image   .</p>
</div>
<div class=paragraph>
<p>      , LENA Image  Base
Image (Build).</p>
</div>
<div class=ulist>
<ul>
<li>
<p>Application Artifact </p>
</li>
<li>
<p> Library </p>
</li>
<li>
<p>JDK  ( Image      )</p>
</li>
<li>
<p> Command Script </p>
</li>
<li>
<p>   Architecture  LENA   Image      </p>
</li>
</ul>
</div>
<div class=paragraph>
<p>    <a href=#installation_prerequistes-baseImage>Base Image </a>  .</p>
</div>
</div>
<div class=sect4>
<h5 id=_application__2><a class=link href=#_application__2>Application </a></h5>
<div class=paragraph>
<p>Container  Server  Application Artifact  
   . Project   ,
Kubernetes Deployment Manifest ECS Task 
   .</p>
</div>
<div class=paragraph>
<p>WAS  Application Deployment  
  .</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<col style=width:50%>
<col style=width:50%>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Server   </th>
<th class="tableblock halign-left valign-top"></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock> Deployment  </p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=paragraph>
<p>${LENA_APP_FILE} <br>
${LENA_HOME} Jar  </p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock> Application   </p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=paragraph>
<p>${LENA_APP_FILE}  ${LENA_APP_DIR} 
${LENA_APP_DIR} Jar  </p>
</div></div></td>
</tr>
</tbody>
</table>
<div class=paragraph>
<p>Container  Deployment    .</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<col style=width:50%>
<col style=width:50%>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Container  </th>
<th class="tableblock halign-left valign-top"></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock> Container Image   </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Base Image Application
Artifact   / </p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Init Container     </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Init Container 
 Artifact    (Volume)  Artifact  
 Container </p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class=sect2>
<h3 id=_server___web_server><a class=link href=#_server___web_server>2.8. Server    Web Server</a></h3>
<div class=sect3>
<h4 id=_><a class=link href=#_>2.8.1. </a></h4>
<div class=paragraph>
<p>  <a href=#architecture_decision-was-deployment>WAS </a>   .</p>
</div>
</div>
<div class=sect3>
<h4 id=__5><a class=link href=#__5>2.8.2. </a></h4>
<div class=paragraph>
<p>Web Server      .</p>
</div>
<div class=sect4>
<h5 id=_memory_5><a class=link href=#_memory_5>Memory</a></h5>
<div class=paragraph>
<p>Web Server Heap Memory Size  512Mbyte  , Agent Heap Memory Size 64~256MB  .</p>
</div>
</div>
<div class=sect4>
<h5 id=_disk_5><a class=link href=#_disk_5>Disk</a></h5>
<div class=paragraph>
<p>LENA Image   Image   900 Mbyte  OS + JDK<br>
LENA + Library  Image  Layer   .</p>
</div>
<div class=paragraph>
<p>   Disk Log     Log
Web   (Artifact)   .</p>
</div>
</div>
</div>
<div class=sect3>
<h4 id=__5><a class=link href=#__5>2.8.3. </a></h4>
<div class=sect4>
<h5 id=__3><a class=link href=#__3></a></h5>
<div class="olist arabic">
<ol class=arabic>
<li>
<p> <br>
Web Server     . N/W
Manager WAS  WAS Service Endpoint       .</p>
</li>
<li>
<p> <br>
Web Server      .</p>
<div class=ulist>
<ul>
<li>
<p>HTTP  Port : 7180</p>
</li>
<li>
<p>HTTPS  Port : 7543</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class=paragraph>
<p>  LENA Image  ,     
 LENA Image  Container    Port 
    .</p>
</div>
</div>
<div class=sect4>
<h5 id=architecture_decision_web_env><a class=link href=#architecture_decision_web_env></a></h5>
<div class=paragraph>
<p>WEB Server Container      .</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<col style=width:25%>
<col style=width:50%>
<col style=width:12.5%>
<col style=width:12.5%>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top"> </th>
<th class="tableblock halign-left valign-top"><br>
</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_MANAGER_ADDRESS</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Manager </p>
</li>
<li>
<p> : IP / Domain :  </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_MANAGER_KEY</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Manager Open API  </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_SERVICE_PORT</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>WAS  Port</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>7180</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_CONFIG_TEMPLATE_DOWNLOAD</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Manager    </p>
</li>
<li>
<p> : Y  N</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_CONFIG_TEMPLATE_ID</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>  ID</p>
</li>
<li>
<p> : Service Cluster :Revision </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_LICENSE_DOWNLOAD_URL</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>License  URL</p>
</li>
<li>
<p> : manager   License URI</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>manager</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_CONTRACT_CODE</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>License     .</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LOG_OUTPUT_TYPE</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>LOG  </p>
</li>
<li>
<p>  : console  file</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>console</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_LOG_OUTPUT_DIR</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Log   </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>/usr/local/lenaw/servers/webServer/logs</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_AGENT_RUN</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Node Agent  </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Y</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_SERVER_TYPE</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Server </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>web</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_HOME</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>LENA  Home</p>
</li>
<li>
<p> : /usr/local/lena</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>()</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_SERVER_HOME</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>LENA   </p>
<div class=ulist>
<ul>
<li>
<p> : /usr/local/lenaw/servers/webServer</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>()</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_USER</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Manager   OS </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>root</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_USER_GROUP</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Manager   OS </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>root</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_HEALTH_CHECK</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Health Check </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>N</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_HEALTH_CHECK_FAILURE_THRESHOLD</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Health Check  </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>5</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_HEALTH_CHECK_TERM_EXECUTION</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Health Check   ,  </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>true</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_HEALTH_CHECK_TERM_EXECUTION_SCRIPT</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Health Check   ,  script </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>stop-container</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_HEALTH_CHECK_TERM_EXECUTION_INTERVAL</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Health Check   ,   </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>300 (seconds)</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<div class=table-wrap> <table>
<tr>
<td class=icon>
<i class="fa icon-note" title=Note></i>
</td>
<td class=content>
<div class=ulist>
<ul>
<li>
<p>LENA_CONFIG_TEMPLATE_ID: Revision  ,  Default Revision  .</p>
</li>
<li>
<p>LENA_CONTRACT_CODE: License   ,        .</p>
</li>
<li>
<p>LOG_OUTPUT_TYPE: Server        Log .</p>
</li>
<li>
<p>LENA_AGENT_RUN: Web Server Agent  Manager    .</p>
</li>
</ul>
</div>
</td>
</tr>
</table> </div>
</div>
</div>
<div class=sect4>
<h5 id=_directory__5><a class=link href=#_directory__5>Directory </a></h5>
<div class=paragraph>
<p>LENA Image     /usr/local/lenaw ,   
 .</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<col style=width:28.5714%>
<col style=width:57.1428%>
<col style=width:14.2858%>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><br>
(${LENA_HOME} )</th>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top"></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>bin</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Node Agent Start/Stop scripts</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>depot</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>  Local Repository</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>etc</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>     </p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>license</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>License   </p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>logs</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA    </p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>modules<br>
 lena-agent<br>
 lena-web-pe</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA    Home<br>
Node Agent     <br>
WEB Server Library</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>servers/webServer<br>
bin<br>
cache<br>
conf<br>
hook<br>
htdocs<br>
logs<br>
temp</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Server  Home, ${LENA_SERVER_HOME} <br>
Server Start / Stop /   Script <br>
Cache  <br>
Server  <br>
Life-Cycle Hook Shell  <br>
 Web   <br>
Log  <br>
  </p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>tmp</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA   </p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class=sect4>
<h5 id=_log_2><a class=link href=#_log_2>Log</a></h5>
<div class=paragraph>
<p>Log Standard Out / Error  console  File 
file  ,  LOG_OUTPUT_TYPE  console 
file      .</p>
</div>
<div class="olist arabic">
<ol class=arabic>
<li>
<p>Console <br>
  <a href=#architecture_decision_app-logoutput>Log & Dump </a> .</p>
</li>
<li>
<p> <br>
    Log  Dump 
${LENA_HOME}/servers/webServer/logs   
,  Log  logrotate  Daily rolling .</p>
</li>
</ol>
</div>
<div class=paragraph>
<p> Log       .</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<col style=width:25%>
<col style=width:25%>
<col style=width:50%>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Log </th>
<th class="tableblock halign-left valign-top"> </th>
<th class="tableblock halign-left valign-top"></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Error Log</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>error_webServer.log</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Web   </p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Access Log</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>access_webServer.log</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Access </p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Trace Log</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>trace_webServer.log</p></td>
<td class="tableblock halign-left valign-top" rowspan=3><p class=tableblock>  ,
Container   </p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>NTrace Log</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>ntrace_webServer.log</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LSC Log</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>lsc_webServer.log</p></td>
</tr>
</tbody>
</table>
</div>
<div class=sect4>
<h5 id=_health_check_4><a class=link href=#_health_check_4>Health Check</a></h5>
<div class=paragraph>
<p> WAS Http Get Health Check ,
LENA Web Server  Health Check TCP Port  
.   LENA Image Business Application  
, Biz Application    Application
 Http Get Health Check    .
 Kubernetes Manifest     .</p>
</div>
<div class="olist arabic">
<ol class=arabic>
<li>
<p>Readiness Check</p>
<div class=ulist>
<ul>
<li>
<p>TCPSocketAction : port 7180</p>
</li>
<li>
<p>initialDelaySeconds : xx (Application    )</p>
</li>
<li>
<p>timeoutSeconds : xx (Application    )</p>
</li>
</ul>
</div>
</li>
<li>
<p>Liveness Check</p>
<div class=ulist>
<ul>
<li>
<p>TCPSocketAction : port 7180</p>
</li>
<li>
<p>initialDelaySeconds : xx (Application    )</p>
</li>
<li>
<p>periodSeconds : xx (Application    )</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
<div class=sect4>
<h5 id=_server_configuration_><a class=link href=#_server_configuration_>Server Configuration </a></h5>
<div class=paragraph>
<p>  <a href=#architecture_decision-app-config>Server Configuration </a>  .</p>
</div>
</div>
<div class=sect4>
<h5 id=_container_image_build><a class=link href=#_container_image_build>Container Image Build</a></h5>
<div class=paragraph>
<p>  <a href=#architecture_decision-app-imageBuild>Container Image Build</a>  .</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class=sect1>
<h2 id=___><a class=link href=#___>3.   </a></h2>
<div class=sectionbody>
<div class=sect2>
<h3 id=__><a class=link href=#__>3.1.  </a></h3>
<div class=ulist>
<ul>
<li>
<p>&lt;Container  ><br>
  Kubernetes, ECS Container     
  . , CLI     
  Profile ( : Kubernetes Config)  , Manager
 Session Server VM     VM  
.</p>
</li>
<li>
<p>&lt;Network  ><br>
  Server    . Container N/W
       , VM 
   Manager Server, Web Server, WAS, Session
Server     .  LENA Image
 Service      N/W Port .</p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stretch">
<col style=width:25%>
<col style=width:25%>
<col style=width:25%>
<col style=width:25%>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Source</th>
<th class="tableblock halign-left valign-top">Target</th>
<th class="tableblock halign-left valign-top">Port</th>
<th class="tableblock halign-left valign-top"></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>WEB/WAS/Session Server</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Manager</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=paragraph>
<p>TCP 7700<br>
TCP 16100<br>
UDP 16100</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=paragraph>
<p>Manager  </p>
</div>
<div class=paragraph>
<p>, </p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Bastion,  PC</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Manager</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>TCP 7700</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Manager  </p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>L/B , Front End</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>WEB Server</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>TCP 7180</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock> </p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>L/B , Front End</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>WAS</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>TCP 8180</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock> </p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>WAS</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Session Server</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>TCP 5180</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock> </p></td>
</tr>
</tbody>
</table>
<div class=ulist>
<ul>
<li>
<p>&lt;Image   ><br>
LENA  Image   Container  Docker Hub
  .    ,   
LENA Image Pull  (docker pull),    (docker save)
      (docker load)  .
    .</p>
</li>
</ul>
</div>
<div class=listingblock>
<div class=content>
<pre class="CodeRay highlight"><code data-lang=bash>$ sudo docker pull lenacloud/lena-cluster: 1.3.1.0_3-jdk8-openjdk
... &lt; &gt;
$ sudo docker save -o lena-cluster.tar lenacloud/lena-cluster:1.3.1n.0_3-jdk8-openjdk
... &lt; &gt;
$ sudo docker load -i lena-cluster.tar
... &lt; &gt;</code></pre>
</div>
</div>
</div>
<div class=sect2>
<h3 id=installation_prerequistes-baseImage><a class=link href=#installation_prerequistes-baseImage>3.2. Base Image </a></h3>
<div class=paragraph>
<p>WAS  WEB Server  Base Image  
  .  LENA Image  Base Image
(Build)   . Base Image LENA Image 
Dockerfile ,   Docker Image  
Repository   .</p>
</div>
<div class=paragraph>
<p> Base Image      Case .</p>
</div>
<div class="olist arabic">
<ol class=arabic>
<li>
<p> Library <br>
OS   (yum, apt-get ) ,  .</p>
</li>
<li>
<p>JDK <br>
LENA Base Image JDK   ,     
 .</p>
</li>
<li>
<p>Application Deployment<br>
Application Deployment 
/usr/local/lena/server/appServer/webapps .<br>
  WAR   Exploded Directory  Deployment 
 .   WAR   Directory Context Path
.<br>
   Application    (DocBase)
WAR  Directory   Deploy   .  
  Context Path Application  .<br>
     Application  
.</p>
</li>
<li>
<p> Command Script <br>
LENA  Container  Command ${LENA_HOME}/docker-entrypoint.sh
.      Server  , License
, Server    Shell Script, Project 
      .</p>
</li>
</ol>
</div>
<div class=sect3>
<h4 id=_base_image__><a class=link href=#_base_image__>3.2.1. Base Image  </a></h4>
<div class=paragraph>
<p>Base Image    .</p>
</div>
<div class="olist arabic">
<ol class=arabic>
<li>
<p>Dockerfile </p>
</li>
<li>
<p>Docker Image </p>
</li>
<li>
<p>Docker Image </p>
</li>
</ol>
</div>
<div class=sect4>
<h5 id=_dockerfile_><a class=link href=#_dockerfile_>Dockerfile </a></h5>
<div class=paragraph>
<p>  Base Image   Dockerfile , CentOS
 Application Serve   .</p>
</div>
<div class=listingblock>
<div class=title>Dockerfile </div>
<div class=content>
<pre class="CodeRay highlight"><code data-lang=dockerfile># Before building it, you need to check the proper LENA image repository
&amp; tag.

FROM lenacloud/lena-cluster:1.3.1.0_3-jdk8-openjdk

# Change or add JDK &amp; packages as your own policy.

# RUN yum install -y new-lib-01 new-lib-02
java-1.8.0-openjdk-devel.x86_64

# RUN yum update -y

# The service address of LENA manager.

ENV LENA_MANAGER_ADDRESS lena-manager.default.svc.cluster.local:7700

# The key to access LENA manager.

ENV LENA_MANAGER_KEY you_manager_key_from_manager_user_admin_menu

# Id of template. Format is &lt;Service Container Name&gt;:&lt;Version&gt;.

ENV LENA_CONFIG_TEMPLATE_ID WAS-001:3

# To download and validate your license, LENA_CONTRACT_CODE is required.

# You can acquired it via LENA supplier.

ENV LENA_CONTRACT_CODE your_own_lena_contract_code

# Download &amp; change template files from manager.

RUN ${LENA_HOME}/docker-entrypoint.sh download_template

# If you have your own license file, copy it.

#COPY license.xml ${LENA_HOME}/license/

# If you uploaded container license file to manager, you can download it
from manager

# RUN ${LENA_HOME}/docker-entrypoint.sh download_license

# COPY license.xml ${LENA_HOME}/license/

# Copy your application source to deployment path.

#COPY application.war ${LENA_SERVER_HOME}/webapps/</code></pre>
</div>
</div>
<div class=paragraph>
<p>  Dockerfile   .</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class=title>Table 1.  Dockerfile  </caption>
<col style=width:25%>
<col style=width:75%>
<thead>
<tr>
<th class="tableblock halign-left valign-top"> </th>
<th class="tableblock halign-left valign-top"></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock> Layer Image </p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=paragraph>
<p>&lt;>FROM ${ Image}<br>
 Image LENA Image  LENA Image  Image<br>
 Project Base Image Repository/Tag .</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Library  </p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=paragraph>
<p>&lt;> RUN yum install ${ Library}<br>
OS       Library ,  
         Library
 .</p>
</div>
<div class=paragraph>
<p>&lt;JDK ><br>
JDK Library      . , LENA
Server JDK  ,    .<br>
* Symbolic Link /usr/lib/jvm/java  JDK   
 .<br>
     .</p>
</div>
<div class=ulist>
<ul>
<li>
<p> ${JAVA_HOME}</p>
</li>
<li>
<p>JDK  : ${LENA_HOME}/etc/info/ java-home.info </p>
</li>
<li>
<p>Server  : ${LENA_HOME}/env.sh JAVA_HOME </p>
</li>
<li>
<p>docker-entrypoint.sh domain cache TTL </p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock> </p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=paragraph>
<p>&lt;> ENV ${key} ${value}<br>
        .
   Container    .<br></p>
</div>
<div class=ulist>
<ul>
<li>
<p>LENA_MANAGER_ADDRESS :  Manager Service </p>
</li>
<li>
<p>LENA_MANAGER_KEY : Open API Manager   <br>
(Manager Admin > Users  )</p>
</li>
<li>
<p>LENA_CONFIG_TEMPLATE_ID :    , (Service Cluster
 + : + Revision )</p>
</li>
<li>
<p>ENV LENA_CONTRACT_CODE :     </p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock> </p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=paragraph>
<p>&lt;> RUN ${LENA_HOME}/docker-entrypoint.sh download_template</p>
</div>
<div class=paragraph>
<p>Manager   Download . curl / wget   Open
API .</p>
</div>
<div class=paragraph>
<p>Manager ,  , Mod/Owner/Group  .</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>   </p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=paragraph>
<p>&lt;> RUN curl -o \${LENA_HOME}/license/license.xml &#8230;&#8203;&lt;></p>
</div>
<div class=paragraph>
<p>Manager License  .   XML Validation 
Owner/Group  .</p>
</div>
<div class=paragraph>
<p>COPY license.xml ${LENA_HOME}/license/</p>
</div>
<div class=paragraph>
<p>  License   Container  .</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Application Artifact </p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=paragraph>
<p>&lt;> COPY application.war ${LENA_SERVER_HOME}/webapps/</p>
</div>
<div class=paragraph>
<p>Application Artifact ( application.war)  Deploy
.    .</p>
</div>
<div class=ulist>
<ul>
<li>
<p>WAS : ${LENA_SERVER_HOME}/webapps/</p>
</li>
<li>
<p>WEB Server : ${LENA_SERVER_HOME}/webapps/htdocs</p>
</li>
</ul>
</div>
<div class=paragraph>
<p>   Server  Application   .</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class=paragraph>
<p> Dockerfile  Image Build   (docker build),
Build  Docker Hub  ECR  Registry  (docker register)
Container Platform    .</p>
</div>
</div>
<div class=sect4>
<h5 id=_docker_image_><a class=link href=#_docker_image_>Docker Image </a></h5>
<div class=paragraph>
<p> Dockerfile Image Build .  Image
Repository  Tag Rule  ,   Dockerfile
   . (  Current Path Dockerfile
  .)</p>
</div>
<div class=listingblock>
<div class=title>Docker Image    ()</div>
<div class=content>
<pre class="CodeRay highlight"><code data-lang=bash>$ docker build --no-cache --rm --tag [REPOSITORY[:TAG]] .</code></pre>
</div>
</div>
<div class=paragraph>
<p>     .  Project 
 .</p>
</div>
<div class=ulist>
<ul>
<li>
<p>--no-cache :      </p>
</li>
<li>
<p>--rm :       </p>
</li>
</ul>
</div>
</div>
<div class=sect4>
<h5 id=_docker_image_><a class=link href=#_docker_image_>Docker Image </a></h5>
<div class=paragraph>
<p> Image Registry Image  .  Registry
         .</p>
</div>
<div class=listingblock>
<div class=title>Docker Image    ()</div>
<div class=content>
<pre class="CodeRay highlight"><code data-lang=bash>$ docker push [OPTIONS] [REPOSITORY[:TAG]]</code></pre>
</div>
</div>
<div class=paragraph>
<p>  Docker     Site .</p>
</div>
<div class=paragraph>
<p><a href=https://docs.docker.com/engine/reference/commandline/docker/ class=bare>https://docs.docker.com/engine/reference/commandline/docker/</a></p>
</div>
<div class=paragraph>
<p>docker commit   Docker Container Image  .</p>
</div>
<div class=listingblock>
<div class=title> Container Image  ()</div>
<div class=content>
<pre class="CodeRay highlight"><code data-lang=bash>$ docker commit [OPTIONS] CONTAINER [REPOSITORY[:TAG]]</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class=sect1>
<h2 id=_kubernetes__><a class=link href=#_kubernetes__>4. Kubernetes  </a></h2>
<div class=sectionbody>
<div class=sect2>
<h3 id=__><a class=link href=#__>4.1.  </a></h3>
<div class=sect3>
<h4 id=__><a class=link href=#__>4.1.1.  </a></h4>
<div class=paragraph>
<p>LENA   Kubernetes    .  
   .</p>
</div>
<div class="olist arabic">
<ol class=arabic>
<li>
<p>LENA  Kubernetes Cluster Namespace </p>
</li>
<li>
<p>kubectl  CLI   </p>
</li>
<li>
<p>Kubernetes Cluster   Kubernetes 
(~/.kube/config) </p>
</li>
<li>
<p>  Docker Repository ( : ECR, Docker Hub,  Docker
Repository )</p>
</li>
<li>
<p>() Kubernetes Config  : LENA Manager Log  Terminal 
 Manager  </p>
</li>
<li>
<p>LENA Container License  </p>
</li>
</ol>
</div>
</div>
<div class=sect3>
<h4 id=__><a class=link href=#__>4.1.2.  </a></h4>
<div class=paragraph>
<p>Kubernetes      , 
   kubectl    .</p>
</div>
<div class=paragraph>
<p>Kubernetes Resource  , ,   
YAML    // . 
 ${manifest-file.yaml}   .  
      ,  
 Kubernetes  .</p>
</div>
<div class=sect4>
<h5 id=__namespace_><a class=link href=#__namespace_> namespace </a></h5>
<div class=paragraph>
<p>    namespace  ,  
    namespace  .</p>
</div>
<div class=listingblock>
<div class=content>
<pre class="CodeRay highlight"><code data-lang=bash>$ kubectl config set-context --current --namespace=${namespace}</code></pre>
</div>
</div>
<div class=paragraph>
<p>         
--namespace=${namespace}   .   .</p>
</div>
<div class=listingblock>
<div class=content>
<pre class="CodeRay highlight"><code data-lang=bash>$ kubectl apply f ${manifest-file.yaml} --namespace=${namespace}</code></pre>
</div>
</div>
</div>
<div class=sect4>
<h5 id=_kubernetes_resource__><a class=link href=#_kubernetes_resource__>Kubernetes Resource  </a></h5>
<div class=paragraph>
<p>kubectl apply    ,    .</p>
</div>
<div class=listingblock>
<div class=content>
<pre class="CodeRay highlight"><code data-lang=bash>$ kubectl apply f ${manifest-file.yaml}</code></pre>
</div>
</div>
<div class=paragraph>
<p>   ,  namespace  name  Object
   Resource   .</p>
</div>
</div>
<div class=sect4>
<h5 id=_kubernetes_resource_><a class=link href=#_kubernetes_resource_>Kubernetes Resource </a></h5>
<div class=paragraph>
<p>kubectl delete   Resource .</p>
</div>
<div class=listingblock>
<div class=content>
<pre class="CodeRay highlight"><code data-lang=bash>$ kubectl delete f ${manifest-file.yaml}</code></pre>
</div>
</div>
</div>
<div class=sect4>
<h5 id=_workload___><a class=link href=#_workload___>Workload   </a></h5>
<div class=paragraph>
<p>Application, Web Server  Application Artifact   
 Workload    . Kubernetes  Rolling
   .</p>
</div>
<div class=paragraph>
<p>  Workload Rolling   .</p>
</div>
<div class=listingblock>
<div class=content>
<pre class="CodeRay highlight"><code data-lang=bash>$ kubectl rollout restart ${workloadType}/${workloadName}</code></pre>
</div>
</div>
<div class=paragraph>
<p>   Workload   (Revision) .
Revision     .</p>
</div>
<div class=listingblock>
<div class=content>
<pre class="CodeRay highlight"><code data-lang=bash>$ kubectl rollout history ${workloadType}/${workloadName}</code></pre>
</div>
</div>
<div class=paragraph>
<p>     .</p>
</div>
<div class=listingblock>
<div class=content>
<pre class="CodeRay highlight"><code data-lang=bash>$ kubectl rollout undo ${workloadType}/${workloadName}</code></pre>
</div>
</div>
<div class=paragraph>
<p>  Revision   .</p>
</div>
<div class=listingblock>
<div class=content>
<pre class="CodeRay highlight"><code data-lang=bash>$ kubectl rollout undo ${workloadType}/${workloadName}
--to-revision=${revisionNo}</code></pre>
</div>
</div>
<div class=paragraph>
<p>   ${workloadType} Workload   
statefulset, deployment, daemonset  .
${workloadName} Workload , ${revisionNo} (Revision)
.</p>
</div>
</div>
<div class=sect4>
<h5 id=__resource_><a class=link href=#__resource_> Resource </a></h5>
<div class=paragraph>
<p> Workload, Service Kubernetes Object   kubectl
get.</p>
</div>
<div class=listingblock>
<div class=content>
<pre class="CodeRay highlight"><code data-lang=bash>$ kubectl get ${resourceType}</code></pre>
</div>
</div>
<div class=paragraph>
<p>  ${resourceType} statefulsets, deployments,
daemonsets, services, configMaps  Kubernetes Resource  
.</p>
</div>
</div>
</div>
</div>
<div class=sect2>
<h3 id=_manager_><a class=link href=#_manager_>4.2. Manager </a></h3>
<div class=sect3>
<h4 id=__><a class=link href=#__>4.2.1.  </a></h4>
<div class=sect4>
<h5 id=___><a class=link href=#___>  </a></h5>
<div class=paragraph>
<p>Manager Container       .</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<col style=width:28.5714%>
<col style=width:57.1428%>
<col style=width:14.2858%>
<thead>
<tr>
<th class="tableblock halign-left valign-top">  </th>
<th class="tableblock halign-left valign-top">  / </th>
<th class="tableblock halign-left valign-top"></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Workload </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>StatefulSet</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Replica</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>1</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Container Port</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>TCP : 7700<br>
UDP : 16100<br>
TCP : 16100</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Volume Mount</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock> /usr/local/lena/repository  Volume 
(  persistentVolumeClaim  )</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Probe (Health Check)</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>HttpGetAction, /lena  </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>-</p></td>
</tr>
</tbody>
</table>
</div>
<div class=sect4>
<h5 id=____workload_><a class=link href=#____workload_>    Workload </a></h5>
<div class=paragraph>
<p>  Project        
 Manifest   Sample   .</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<col style=width:28.5714%>
<col style=width:57.1428%>
<col style=width:14.2858%>
<thead>
<tr>
<th class="tableblock halign-left valign-top">  </th>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top">Sample </th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Container Image</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Project Architecture    OS  JDK
  LENA Manager Image</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>lenacloud/lena-manager:1.5.0.1-jdk8-openjdk</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>namespace</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Kubernetes   </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>default</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>name</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Workload ,   Pod  / Hostname Prefix .</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>lena-manager</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>label</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Service ,   Label Key: Value
.</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>type: sample-lena-manager</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>imagePullPolicy</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=paragraph>
<p> Pull     .</p>
</div>
<div class=ulist>
<ul>
<li>
<p>Always : Repository  Pull</p>
</li>
<li>
<p>IfNotPresent : Local Image    Pull </p>
</li>
<li>
<p>Never : Pull  </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Always</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock> </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>  ENV  Config Map  </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>(configMap )</p></td>
</tr>
</tbody>
</table>
<div class=paragraph>
<p>    .
      <a href=./020.architecture_decision.html#architecture_decision_manager_env>Manager </a>  .</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<col style=width:25%>
<col style=width:50%>
<col style=width:25%>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top">Sample </th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_JVM_HEAP_SIZE</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Heap Memory  </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>1024m ()</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_JVM_METASPACE_SIZE</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Metaspace Memory</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>256m ()</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_MANAGER_DOMAIN_ENABLED</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Domain Name  </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Y</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_MANAGER_ADDRESS</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Service Domain  : </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>lena-manager.default.svc.cluster.local:7700</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>JAVA_DOMAIN_CACHE_TTL</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Domain  Cache  ()</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>3 ()</p></td>
</tr>
</tbody>
</table>
</div>
<div class=sect4>
<h5 id=____service><a class=link href=#____service>    Service</a></h5>
<table class="tableblock frame-all grid-all stretch">
<col style=width:28.5714%>
<col style=width:57.1428%>
<col style=width:14.2858%>
<thead>
<tr>
<th class="tableblock halign-left valign-top">  </th>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top">Sample </th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>namespace</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Kubernetes   </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>default</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>name</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Service  , namespace   
.   Service Domain .</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>lena-manager</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>type</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=paragraph>
<p> Service  ,    .<br></p>
</div>
<div class=ulist>
<ul>
<li>
<p>NodePort : k8s   Node  Port </p>
</li>
<li>
<p>LoadBalancer :  Loadbalancer  </p>
</li>
<li>
<p>ClusterIp : k8s Cluster ,  IP </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>NodePort</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class=sect3>
<h4 id=_manifest__><a class=link href=#_manifest__>4.2.2. Manifest  </a></h4>
<div class=sect4>
<h5 id=_workload><a class=link href=#_workload>Workload</a></h5>
<div class=paragraph>
<p>Kubernetes Container Pod  , Kubernetes Object
 YAML  Manifest     
.</p>
</div>
<div class=paragraph>
<p> Manager   Manifest  ,   
     Project     
.</p>
</div>
<div class=listingblock>
<div class=title>LENA Manager Workload (Manifest) </div>
<div class=content>
<pre class="CodeRay highlight"><code data-lang=yaml><span class=head><span class=head>---</span></span>
<span class=head><span class=head>---</span></span>
<span class=key>apiVersion</span>: <span class=string><span class=content>apps/v1</span></span>
<span class=key>kind</span>: <span class=string><span class=content>StatefulSet</span></span>
<span class=key>metadata</span>:
  <span class=key>name</span>: <span class=string><span class=content>lena-manager</span></span>
<span class=key>spec</span>:
  <span class=key>selector</span>:
    <span class=key>matchLabels</span>:
      <span class=key>type</span>: <span class=string><span class=content>lena-manager</span></span>
  <span class=key>serviceName</span>: <span class=string><span class=content>lena-manager</span></span>
  <span class=key>replicas</span>: <span class=string><span class=content>1</span></span>
  <span class=key>template</span>:
    <span class=key>metadata</span>:
      <span class=key>labels</span>:
        <span class=key>type</span>: <span class=string><span class=content>lena-manager</span></span>
    <span class=key>spec</span>:
      <span class=key>containers</span>:
      - <span class=string><span class=content>name: lena-manager</span></span>
        <span class=key>image</span>: <span class=string><span class=content>docker.io/lenasupport/lena-manager:1.5.0.1-jdk8-openjdk</span></span>
        <span class=key>imagePullPolicy</span>: <span class=string><span class=content>Always</span></span>
        <span class=key>ports</span>:
        - <span class=string><span class=content>containerPort: 7700</span></span>
        <span class=key>envFrom</span>:
        - <span class=string><span class=content>configMapRef:</span><span class=content>
            name: configmap-lena-manager</span></span>
        <span class=key>volumeMounts</span>:
        - <span class=string><span class=content>name: wsy-lena-manager-repository</span></span>
          <span class=key>mountPath</span>: <span class=string><span class=content>/usr/local/lena/repository</span></span>
        <span class=key>readinessProbe</span>:
          <span class=key>httpGet</span>:
            <span class=key>path</span>: <span class=string><span class=content>/lena</span></span>
            <span class=key>port</span>: <span class=string><span class=content>7700</span></span>
          <span class=key>initialDelaySeconds</span>: <span class=string><span class=content>20</span></span>
          <span class=key>timeoutSeconds</span>: <span class=string><span class=content>1</span></span>
        <span class=key>livenessProbe</span>:
          <span class=key>httpGet</span>:
            <span class=key>path</span>: <span class=string><span class=content>/lena</span></span>
            <span class=key>port</span>: <span class=string><span class=content>7700</span></span>
          <span class=key>initialDelaySeconds</span>: <span class=string><span class=content>30</span></span>
          <span class=key>periodSeconds</span>: <span class=string><span class=content>5</span></span>
      <span class=key>volumes</span>:
        - <span class=string><span class=content>name: wsy-lena-manager-repository</span></span>
          <span class=key>persistentVolumeClaim</span>:
            <span class=key>claimName</span>: <span class=string><span class=content>lena-manager-repository</span></span>
      <span class=key>terminationGracePeriodSeconds</span>: <span class=string><span class=content>0</span></span>

<span class=head><span class=head>---</span></span>
<span class=key>apiVersion</span>: <span class=string><span class=content>v1</span></span>
<span class=key>kind</span>: <span class=string><span class=content>ConfigMap</span></span>
<span class=key>metadata</span>:
  <span class=key>name</span>: <span class=string><span class=content>configmap-lena-manager</span></span>
<span class=key>data</span>:
  <span class=key>LENA_MANAGER_DOMAIN_ENABLED</span>: <span class=string><span class=delimiter>&quot;</span><span class=content>Y</span><span class=delimiter>&quot;</span></span>
  <span class=key>LENA_MANAGER_ADDRESS</span>: <span class=string><span class=delimiter>&quot;</span><span class=content>lena-manager.default.svc.cluster.local:7700</span><span class=delimiter>&quot;</span></span></code></pre>
</div>
</div>
<div class=ulist>
<ul>
<li>
<p><br>
 kubectl apply  . 
lena-manager-deployment-sample.yaml    .</p>
</li>
</ul>
</div>
<div class=listingblock>
<div class=content>
<pre class="CodeRay highlight"><code data-lang=bash>$ kubectl apply f lena-manager-deployment-sample.yaml</code></pre>
</div>
</div>
<div class=ulist>
<ul>
<li>
<p> <br>
 Workload kubectl get      .<br></p>
</li>
</ul>
</div>
<div class=listingblock>
<div class=content>
<pre>$ kubectl get statefulsets

NAME            READY   AGE
lena-manager    1/1     10s</pre>
</div>
</div>
</div>
<div class=sect4>
<h5 id=_service><a class=link href=#_service>Service</a></h5>
<div class=paragraph>
<p> Manager Service   Manifest   .</p>
</div>
<div class=listingblock>
<div class=title>LENA Manager Service (Manifest) </div>
<div class=content>
<pre class="CodeRay highlight"><code data-lang=yaml><span class=head><span class=head>---</span></span>
<span class=key>apiVersion</span>: <span class=string><span class=content>v1</span></span>
<span class=key>kind</span>: <span class=string><span class=content>Service</span></span>
<span class=key>metadata</span>:
  <span class=key>name</span>: <span class=string><span class=content>lena-manager</span></span>
<span class=key>spec</span>:
  <span class=key>selector</span>:
    <span class=key>type</span>: <span class=string><span class=content>lena-manager</span></span>
  <span class=key>ports</span>:
  - <span class=string><span class=content>name: manager-tcp</span></span>
    <span class=key>port</span>: <span class=string><span class=content>7700</span></span>
    <span class=key>targetPort</span>: <span class=string><span class=content>7700</span></span>
    <span class=key>nodePort</span>: <span class=string><span class=content>31848</span></span>
    <span class=key>protocol</span>: <span class=string><span class=content>TCP</span></span>
  - <span class=string><span class=content>name: monitoring-tcp</span></span>
    <span class=key>port</span>: <span class=string><span class=content>16100</span></span>
    <span class=key>targetPort</span>: <span class=string><span class=content>16100</span></span>
    <span class=key>protocol</span>: <span class=string><span class=content>TCP</span></span>
  - <span class=string><span class=content>name: monitoring-udp</span></span>
    <span class=key>port</span>: <span class=string><span class=content>16100</span></span>
    <span class=key>targetPort</span>: <span class=string><span class=content>16100</span></span>
    <span class=key>protocol</span>: <span class=string><span class=content>UDP</span></span>
  <span class=key>type</span>: <span class=string><span class=content>NodePort</span></span></code></pre>
</div>
</div>
<div class=ulist>
<ul>
<li>
<p><br>
 kubectl apply  . 
lena-manager-service-sample.yaml    .</p>
</li>
</ul>
</div>
<div class=listingblock>
<div class=content>
<pre class="CodeRay highlight"><code data-lang=bash>$ kubectl apply f lena-manager-service-sample.yaml</code></pre>
</div>
</div>
<div class=ulist>
<ul>
<li>
<p> <br>
 Workload kubectl get      .</p>
</li>
</ul>
</div>
<div class=listingblock>
<div class=content>
<pre class="CodeRay highlight"><code data-lang=bash>$ kubectl get services
NNAME TYPE CLUSTER-IP EXTERNAL-IP PORT(S) AGE
...
lena-manager NodePort 10.43.xx.xx &lt;none&gt; 7700:30770/TCP,16100:31610/UDP
10s</code></pre>
</div>
</div>
</div>
</div>
<div class=sect3>
<h4 id=_manager_><a class=link href=#_manager_>4.2.3. Manager </a></h4>
<div class=paragraph>
<p>Service  NodePort  http://[Node IP]: [Node Port] /   Manager .</p>
</div>
</div>
</div>
<div class=sect2>
<h3 id=_session_server_><a class=link href=#_session_server_>4.3. Session Server </a></h3>
<div class=sect3>
<h4 id=kubernetes_based_deployment-session-prepare><a class=link href=#kubernetes_based_deployment-session-prepare>4.3.1.  </a></h4>
<div class=paragraph>
<p>  Manager Session Server   Manager
Service Cluster  . Manager Cluster > Session
Cluster   Session Server   Service Cluster
.</p>
</div>
<div class=paragraph>
<p>Service Cluster        
 .</p>
</div>
</div>
<div class=sect3>
<h4 id=___2><a class=link href=#___2>4.3.2.  </a></h4>
<div class=sect4>
<h5 id=____2><a class=link href=#____2>  </a></h5>
<div class=paragraph>
<p>Session Server Container      
.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<col style=width:33.3333%>
<col style=width:50%>
<col style=width:16.6667%>
<thead>
<tr>
<th class="tableblock halign-left valign-top">  </th>
<th class="tableblock halign-left valign-top">  / </th>
<th class="tableblock halign-left valign-top"></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Workload </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>StatefulSet</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Replica</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>2 (Primary, Secondary Server 2)</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Container Port</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>TCP : 5180</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Probe</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>ExecAction, ${LENA_SERVER_HOME}/health.sh </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>-</p></td>
</tr>
</tbody>
</table>
</div>
<div class=sect4>
<h5 id=____workload__2><a class=link href=#____workload__2>    Workload </a></h5>
<div class=paragraph>
<p>  Project        
 Manifest   Sample   .</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<col style=width:16.6666%>
<col style=width:50%>
<col style=width:33.3334%>
<thead>
<tr>
<th class="tableblock halign-left valign-top">  </th>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top">Sample </th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Container Image</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Project Architecture    OS  JDK
  LENA Manager Image</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>lenacloud/lena-session:1.5.0.1-jdk8-openjdk</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>namespace</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Kubernetes   </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>default</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>name</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Workload ,   Pod  / Hostname Prefix .</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>lena- session</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>label</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Service ,   Label Key: Value
.</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>type: lena-session</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>imagePullPolicy</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock> Pull </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Always</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock> </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>  ENV  Config Map  </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>(configMap )</p></td>
</tr>
</tbody>
</table>
<div class=paragraph>
<p>    .
      <a href=./020.architecture_decision.html#architecture_decision_session_env>Session </a>  .</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<col style=width:20%>
<col style=width:60%>
<col style=width:20%>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top">Sample </th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_JVM_HEAP_SIZE</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Heap Memory  </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>1024m ()</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_CONFIG_TEMPLATE_ID</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Service Cluster  : Revision No</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>SESSION-001</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_MANAGER_ADDRESS</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Service Domain  : </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>sample-lena-manager.default.svc.cluster.local:7700</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>JAVA_DOMAIN_CACHE_TTL</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Domain  Cache  ()</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>0 ()</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_SESSION_0_ADDRESS</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Primary Session  , StatefulSet  </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>lena-session-0<br>
.default.svc.cluster.local</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_SESSION_1_ADDRESS</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Secondary Session  , StatefulSet  </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>lena-session-1<br>
.default.svc.cluster.local</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_SESSION_EXPIRE_SEC</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Session   ()</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>1800 ()</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_CONFIG_SHARE_SESSION</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Application  Session </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>N</p></td>
</tr>
</tbody>
</table>
</div>
<div class=sect4>
<h5 id=____service_2><a class=link href=#____service_2>    Service</a></h5>
<table class="tableblock frame-all grid-all stretch">
<col style=width:20%>
<col style=width:60%>
<col style=width:20%>
<thead>
<tr>
<th class="tableblock halign-left valign-top">  </th>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top">Sample </th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>namespace</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Kubernetes   </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>default</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>name</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Service  , namespace   
.   Service Domain .</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>lena-session</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>type</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock> Service  , Session Server 
.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class=sect3>
<h4 id=_manifest___2><a class=link href=#_manifest___2>4.3.3. Manifest  </a></h4>
<div class=sect4>
<h5 id=_workload_2><a class=link href=#_workload_2>Workload</a></h5>
<div class=paragraph>
<p>Kubernetes Container Pod  , Kubernetes Object
 YAML  Manifest     
.</p>
</div>
<div class=paragraph>
<p> Manager   Manifest  ,   
     Project     
.</p>
</div>
<div class=listingblock>
<div class=title>LENA Session Workload (Manifest)  </div>
<div class=content>
<pre class="CodeRay highlight"><code data-lang=yaml><span class=head><span class=head>---</span></span>
<span class=key>apiVersion</span>: <span class=string><span class=content>apps/v1</span></span>
<span class=key>kind</span>: <span class=string><span class=content>StatefulSet</span></span>
<span class=key>metadata</span>:
  <span class=key>name</span>: <span class=string><span class=content>lena-session</span></span>
<span class=key>spec</span>:
  <span class=key>selector</span>:
    <span class=key>matchLabels</span>:
      <span class=key>type</span>: <span class=string><span class=content>lena-session</span></span>
  <span class=key>serviceName</span>: <span class=string><span class=content>lena-session</span></span>
  <span class=key>replicas</span>: <span class=string><span class=content>2</span></span>
  <span class=key>template</span>:
    <span class=key>metadata</span>:
      <span class=key>labels</span>:
        <span class=key>type</span>: <span class=string><span class=content>lena-session</span></span>
    <span class=key>spec</span>:
      <span class=key>containers</span>:
      - <span class=string><span class=content>name: lena-session</span></span>
        <span class=key>image</span>: <span class=string><span class=content>docker.io/lenasupport/lena-session:1.5.0.1-jdk8-openjdk</span></span>
        <span class=key>imagePullPolicy</span>: <span class=string><span class=content>Always</span></span>
        <span class=key>ports</span>:
        - <span class=string><span class=content>containerPort: 5180</span></span>
        <span class=key>envFrom</span>:
        - <span class=string><span class=content>configMapRef:</span><span class=content>
            name: configmap-lena-session</span></span>
        <span class=key>tty</span>: <span class=string><span class=content>true</span></span>
        <span class=key>readinessProbe</span>:
          <span class=key>exec</span>:
            <span class=key>command</span>:
            - <span class=string><span class=content>/usr/local/lena/servers/sessionServer/health.sh</span></span>
          <span class=key>initialDelaySeconds</span>: <span class=string><span class=content>20</span></span>
          <span class=key>periodSeconds</span>: <span class=string><span class=content>5</span></span>
        <span class=key>livenessProbe</span>:
          <span class=key>exec</span>:
            <span class=key>command</span>:
            - <span class=string><span class=content>/usr/local/lena/servers/sessionServer/health.sh</span></span>
          <span class=key>initialDelaySeconds</span>: <span class=string><span class=content>30</span></span>
          <span class=key>periodSeconds</span>: <span class=string><span class=content>5</span></span>
      <span class=key>terminationGracePeriodSeconds</span>: <span class=string><span class=content>0</span></span>
<span class=head><span class=head>---</span></span>
<span class=key>apiVersion</span>: <span class=string><span class=content>v1</span></span>
<span class=key>kind</span>: <span class=string><span class=content>ConfigMap</span></span>
<span class=key>metadata</span>:
  <span class=key>name</span>: <span class=string><span class=content>configmap-lena-session</span></span>
<span class=key>data</span>:
  <span class=key>LENA_SESSION_0_ADDRESS</span>: <span class=string><span class=delimiter>&quot;</span><span class=content>lena-session-0.lena-session.default.svc.cluster.local:5180</span><span class=delimiter>&quot;</span></span>
  <span class=key>LENA_SESSION_1_ADDRESS</span>: <span class=string><span class=delimiter>&quot;</span><span class=content>lena-session-1.lena-session.default.svc.cluster.local:5180</span><span class=delimiter>&quot;</span></span>
  <span class=key>LENA_MANAGER_ADDRESS</span>: <span class=string><span class=delimiter>&quot;</span><span class=content>lena-manager.default.svc.cluster.local:7700</span><span class=delimiter>&quot;</span></span>
  <span class=key>LENA_SESSION_EXPIRE_SEC</span>: <span class=string><span class=delimiter>&quot;</span><span class=content>1800</span><span class=delimiter>&quot;</span></span>
  <span class=key>LENA_CONFIG_TEMPLATE_ID</span>: <span class=string><span class=delimiter>&quot;</span><span class=content>SESSION-001</span><span class=delimiter>&quot;</span></span>
  <span class=key>LENA_CONFIG_SHARE_SESSION</span>: <span class=string><span class=delimiter>&quot;</span><span class=content>N</span><span class=delimiter>&quot;</span></span></code></pre>
</div>
</div>
<div class=ulist>
<ul>
<li>
<p><br>
 kubectl apply  . 
lena-session-deployment-sample.yaml    .</p>
</li>
</ul>
</div>
<div class=listingblock>
<div class=content>
<pre class="CodeRay highlight"><code data-lang=bash>$ kubectl apply f lena-session-deployment-sample.yaml</code></pre>
</div>
</div>
<div class=ulist>
<ul>
<li>
<p> ><br>
 Workload kubectl get      .</p>
</li>
</ul>
</div>
<div class=listingblock>
<div class=content>
<pre class="CodeRay highlight"><code data-lang=bash>$ kubectl get statefulsets
NAME READY AGE
lena-manager 1/1 30m
lena-session 2/2 10s</code></pre>
</div>
</div>
</div>
<div class=sect4>
<h5 id=_service_2><a class=link href=#_service_2>Service</a></h5>
<div class=paragraph>
<p> Session Service   Manifest   .</p>
</div>
<div class=listingblock>
<div class=title>LENA Session Service (Manifest)  *</div>
<div class=content>
<pre class="CodeRay highlight"><code data-lang=yaml><span class=head><span class=head>---</span></span>
<span class=key>apiVersion</span>: <span class=string><span class=content>v1</span></span>
<span class=key>kind</span>: <span class=string><span class=content>Service</span></span>
<span class=key>metadata</span>:
  <span class=key>name</span>: <span class=string><span class=content>lena-session</span></span>
<span class=key>spec</span>:
  <span class=key>selector</span>:
    <span class=key>type</span>: <span class=string><span class=content>lena-session</span></span>
  <span class=key>clusterIP</span>: <span class=string><span class=content>None</span></span></code></pre>
</div>
</div>
<div class=ulist>
<ul>
<li>
<p><br>
 kubectl apply  . 
lena-session-service-sample.yaml    .</p>
</li>
</ul>
</div>
<div class=listingblock>
<div class=content>
<pre>$ kubectl apply f lena-session-service-sample.yaml</pre>
</div>
</div>
<div class=ulist>
<ul>
<li>
<p> <br>
 Workload kubectl get      .</p>
</li>
</ul>
</div>
<div class=listingblock>
<div class=content>
<pre>$ kubectl get services
NAME TYPE CLUSTER-IP EXTERNAL-IP PORT(S) AGE
...
lena-session ClusterIP None &lt;none&gt; &lt;none&gt; 10s
...</pre>
</div>
</div>
</div>
</div>
<div class=sect3>
<h4 id=_server__><a class=link href=#_server__>4.3.4. Server  </a></h4>
<div class=paragraph>
<p>Manager  Cluster > Service Cluster   Service
Cluster    .
<span class=button>ServerList</span>
   2 Session Server   .</p>
</div>
<div class="admonitionblock note">
<div class=table-wrap> <table>
<tr>
<td class=icon>
<i class="fa icon-note" title=Note></i>
</td>
<td class=content>
<div class=paragraph>
<p>Server Manager Scheduler  ,  15   .</p>
</div>
</td>
</tr>
</table> </div>
</div>
</div>
</div>
<div class=sect2>
<h3 id=_was_><a class=link href=#_was_>4.4. WAS </a></h3>
<div class=sect3>
<h4 id=kubernetes_based_deployment-application-prepare><a class=link href=#kubernetes_based_deployment-application-prepare>4.4.1.  </a></h4>
<div class=paragraph>
<p>  Manager WAS Server   Manager
Service Cluster  . Manager Cluster > Server
Cluster   WAS(Enterprise/SE)   Service
Cluster .</p>
</div>
<div class=paragraph>
<p>Service Cluster   Overview  Service Endpoint .
Kubernetes 
http://${Service}.${namespace}.svc.cluster.localhost:${Service
}  .   Web Server VirtualHost Proxy .</p>
</div>
<div class=paragraph>
<p> Service Cluster Template  WAS 
.    Template  Revision .
Service Cluster        
 .</p>
</div>
</div>
<div class=sect3>
<h4 id=___3><a class=link href=#___3>4.4.2.  </a></h4>
<div class=sect4>
<h5 id=____3><a class=link href=#____3>  </a></h5>
<div class=paragraph>
<p>WAS Container      
..</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<col style=width:33.3333%>
<col style=width:33.3333%>
<col style=width:33.3334%>
<thead>
<tr>
<th class="tableblock halign-left valign-top">  </th>
<th class="tableblock halign-left valign-top">  / </th>
<th class="tableblock halign-left valign-top"></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Workload </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Deployment</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Container Port</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>TCP : 8180</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class=sect4>
<h5 id=____workload__3><a class=link href=#____workload__3>    Workload </a></h5>
<div class=paragraph>
<p>  Project        
 Manifest   Sample   .</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<col style=width:16.6666%>
<col style=width:50%>
<col style=width:33.3334%>
<thead>
<tr>
<th class="tableblock halign-left valign-top">  </th>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top">Sample </th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Container Image</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Project Architecture    OS  JDK
  LENA Manager Image</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>lenacloud/lena-cluster:1.5.0.1-jdk8-openjdk</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>namespace</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Kubernetes   </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>default</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>name</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Workload ,   Pod  / Hostname Prefix .</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>lena-was</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>label</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Service ,   Label Key: Value
.</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>type: lena-was</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>strategy:type</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Deployment Update , RollingUpdate, Recreate 
Update </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>RollingUpdate</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>imagePullPolicy</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock> Pull </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Always</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>replica </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Container (Pod) </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Probe</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>HttpGetAction,  Page,  Delay ,  Application
   </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>/ </p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock> </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>  ENV  Config Map  </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>(configMap )</p></td>
</tr>
</tbody>
</table>
<div class=paragraph>
<p>    .
      <a href=./020.architecture_decision.html#architecture_decision_application_env>WAS </a>  .</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<col style=width:33.3333%>
<col style=width:50%>
<col style=width:16.6667%>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top">Sample </th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_CONFIG_TEMPLATE_ID</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Service Cluster  : Revision No</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>WAS-001:1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_MANAGER_ADDRESS</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Service Domain  : <br>
(  Manager Service )</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>lena-manager.default.svc.cluster.local:7700</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_MANAGER_KEY</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>LENA_MANAGER_KEY : Open API Manager   </p>
</li>
<li>
<p>Manager Admin > Users   </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>( Manager   )</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_CONFIG_TEMPLATE_DOWNLOAD</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>   </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Y</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_CONTRACT_CODE</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>    </p>
</li>
<li>
<p>     </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>(   )</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_LICENSE_DOWNLOAD_URL</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>manager</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>JAVA_DOMAIN_CACHE_TTL</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Domain  Cache  ()</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>3 ()</p></td>
</tr>
</tbody>
</table>
</div>
<div class=sect4>
<h5 id=____service_3><a class=link href=#____service_3>    Service</a></h5>
<table class="tableblock frame-all grid-all stretch">
<col style=width:20%>
<col style=width:60%>
<col style=width:20%>
<thead>
<tr>
<th class="tableblock halign-left valign-top">  </th>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top">Sample </th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>namespace</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Kubernetes   </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>default</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>name</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Service  , namespace   
.   Service Domain .</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>lena-was</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>type</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock> Service  ,     
 </p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class=sect3>
<h4 id=_manifest___3><a class=link href=#_manifest___3>4.4.3. Manifest  </a></h4>
<div class=sect4>
<h5 id=_workload_3><a class=link href=#_workload_3>Workload</a></h5>
<div class=paragraph>
<p>Kubernetes Container Pod  , Kubernetes Object
 YAML  Manifest     
.</p>
</div>
<div class=paragraph>
<p> Manager   Manifest  ,   
     Project     
.</p>
</div>
<div class=listingblock>
<div class=title>LENA Session Workload (Manifest)  *</div>
<div class=content>
<pre class="CodeRay highlight"><code data-lang=yaml><span class=head><span class=head>---</span></span>
<span class=key>apiVersion</span>: <span class=string><span class=content>apps/v1</span></span>
<span class=key>kind</span>: <span class=string><span class=content>Deployment</span></span>
<span class=key>metadata</span>:
  <span class=key>name</span>: <span class=string><span class=content>lena-was</span></span>
<span class=key>spec</span>:
  <span class=key>selector</span>:
    <span class=key>matchLabels</span>:
      <span class=key>type</span>: <span class=string><span class=content>lena-was</span></span>
  <span class=key>replicas</span>: <span class=string><span class=content>2</span></span>
  <span class=key>strategy</span>:
    <span class=key>type</span>: <span class=string><span class=content>RollingUpdate</span></span>
  <span class=key>minReadySeconds</span>: <span class=string><span class=content>10</span></span>
  <span class=key>revisionHistoryLimit</span>: <span class=string><span class=content>1</span></span>
  <span class=key>template</span>:
    <span class=key>metadata</span>:
      <span class=key>labels</span>:
        <span class=key>type</span>: <span class=string><span class=content>lena-was</span></span>
    <span class=key>spec</span>:
      <span class=key>containers</span>:
      - <span class=string><span class=content>name: lena-was</span></span>
        <span class=key>image</span>: <span class=string><span class=content>docker.io/lenasupport/lena-cluster:1.5.0.1-jdk8-openjdk</span></span>
        <span class=key>imagePullPolicy</span>: <span class=string><span class=content>Always</span></span>
        <span class=key>ports</span>:
        - <span class=string><span class=content>containerPort: 8180</span></span>
        <span class=key>envFrom</span>:
        - <span class=string><span class=content>configMapRef:</span><span class=content>
            name: configmap-lena-was</span></span>
        <span class=key>readinessProbe</span>:
          <span class=key>httpGet</span>:
            <span class=key>path</span>: <span class=string><span class=content>/</span></span>
            <span class=key>port</span>: <span class=string><span class=content>8180</span></span>
          <span class=key>initialDelaySeconds</span>: <span class=string><span class=content>10</span></span>
          <span class=key>periodSeconds</span>: <span class=string><span class=content>5</span></span>
        <span class=key>livenessProbe</span>:
          <span class=key>httpGet</span>:
            <span class=key>path</span>: <span class=string><span class=content>/</span></span>
            <span class=key>port</span>: <span class=string><span class=content>8180</span></span>
          <span class=key>initialDelaySeconds</span>: <span class=string><span class=content>15</span></span>
          <span class=key>periodSeconds</span>: <span class=string><span class=content>5</span></span>
      <span class=key>volumes</span>:
      <span class=key>terminationGracePeriodSeconds</span>: <span class=string><span class=content>0</span></span>

<span class=head><span class=head>---</span></span>
<span class=key>apiVersion</span>: <span class=string><span class=content>v1</span></span>
<span class=key>kind</span>: <span class=string><span class=content>ConfigMap</span></span>
<span class=key>metadata</span>:
  <span class=key>name</span>: <span class=string><span class=content>configmap-lena-was</span></span>
<span class=key>data</span>:
  <span class=key>LENA_CONFIG_TEMPLATE_DOWNLOAD</span>: <span class=string><span class=delimiter>&quot;</span><span class=content>Y</span><span class=delimiter>&quot;</span></span>
  <span class=key>LENA_CONFIG_TEMPLATE_ID</span>: <span class=string><span class=delimiter>&quot;</span><span class=content>WAS-001</span><span class=delimiter>&quot;</span></span>
  <span class=key>LENA_MANAGER_ADDRESS</span>: <span class=string><span class=delimiter>&quot;</span><span class=content>lena-manager.default.svc.cluster.local:7700</span><span class=delimiter>&quot;</span></span>
  <span class=key>LENA_MANAGER_KEY</span>: <span class=string><span class=delimiter>&quot;</span><span class=content>aSw7RMPSw15LeN%2FMZnrxzjgV0BzZe18iVHZbJ8CkdLlea2Ecd8AleK9oPCLXuw%3D%3D</span><span class=delimiter>&quot;</span></span>
  <span class=key>LENA_LICENSE_DOWNLOAD_URL</span>: <span class=string><span class=delimiter>&quot;</span><span class=content>manager</span><span class=delimiter>&quot;</span></span>
  <span class=key>LENA_CONTRACT_CODE</span>: <span class=string><span class=delimiter>&quot;</span><span class=content>pghzJJqTdzaGtTuASr8yfw==</span><span class=delimiter>&quot;</span></span>
<span class=key>JAVA_DOMAIN_CACHE_TTL</span>: <span class=string><span class=delimiter>&quot;</span><span class=content>3</span><span class=delimiter>&quot;</span></span></code></pre>
</div>
</div>
<div class=ulist>
<ul>
<li>
<p>><br>
 kubectl apply  . 
lena-was-deployment-sample.yaml    .</p>
</li>
</ul>
</div>
<div class=listingblock>
<div class=content>
<pre class="CodeRay highlight"><code data-lang=bash>$ kubectl apply f lena-was-deployment-sample.yaml</code></pre>
</div>
</div>
<div class=ulist>
<ul>
<li>
<p> ><br>
 Workload kubectl get      .</p>
</li>
</ul>
</div>
<div class=listingblock>
<div class=content>
<pre class="CodeRay highlight"><code data-lang=bash>$ kubectl get deployments
NAME READY AGE
lena-was 2/2 10s</code></pre>
</div>
</div>
</div>
<div class=sect4>
<h5 id=_service_3><a class=link href=#_service_3>Service</a></h5>
<div class=paragraph>
<p> Application Service   Manifest   .</p>
</div>
<div class=listingblock>
<div class=title>LENA Session Service (Manifest)  </div>
<div class=content>
<pre class="CodeRay highlight"><code data-lang=yaml><span class=head><span class=head>---</span></span>
<span class=key>apiVersion</span>: <span class=string><span class=content>v1</span></span>
<span class=key>kind</span>: <span class=string><span class=content>Service</span></span>
<span class=key>metadata</span>:
  <span class=key>name</span>: <span class=string><span class=content>lena-was</span></span>
<span class=key>spec</span>:
  <span class=key>selector</span>:
    <span class=key>type</span>: <span class=string><span class=content>lena-was</span></span>
<span class=key>ports</span>:
  - <span class=string><span class=content>port: 8180</span></span>
    <span class=key>targetPort</span>: <span class=string><span class=content>8180</span></span></code></pre>
</div>
</div>
<div class=ulist>
<ul>
<li>
<p><br>
 kubectl apply  . 
lena-was-service-sample.yaml    .</p>
</li>
</ul>
</div>
<div class=listingblock>
<div class=content>
<pre class="CodeRay highlight"><code data-lang=bash>$ kubectl apply f lena-was-service-sample.yaml</code></pre>
</div>
</div>
<div class=ulist>
<ul>
<li>
<p> <br>
 Workload kubectl get      .</p>
</li>
</ul>
</div>
<div class=listingblock>
<div class=content>
<pre class="CodeRay highlight"><code data-lang=bash>$ kubectl get services
NAME TYPE CLUSTER-IP EXTERNAL-IP PORT(S) AGE
...
lena-was ClusterIP 10.43.xx.xx &lt;none&gt; 8180/TCP 20s</code></pre>
</div>
</div>
</div>
</div>
<div class=sect3>
<h4 id=_server___2><a class=link href=#_server___2>4.4.4. Server  </a></h4>
<div class=paragraph>
<p>Manager  Cluster > Service Cluster   Service
Cluster    .
<span class=button>Server List </span>
   2 WAS   .</p>
</div>
<div class="admonitionblock note">
<div class=table-wrap> <table>
<tr>
<td class=icon>
<i class="fa icon-note" title=Note></i>
</td>
<td class=content>
<div class=paragraph>
<p>Server Manager Scheduler  ,  15   .</p>
</div>
</td>
</tr>
</table> </div>
</div>
</div>
</div>
<div class=sect2>
<h3 id=_embedded_was_><a class=link href=#_embedded_was_>4.5. Embedded WAS </a></h3>
<div class=sect3>
<h4 id=kubernetes_based_deployment-embedded-application-prepare><a class=link href=#kubernetes_based_deployment-embedded-application-prepare>4.5.1.  </a></h4>
<div class=paragraph>
<p>  Manager Embedded WAS Server   Manager
Service Cluster  . Manager Cluster > Server
Cluster   WAS(Embedded)   Service
Cluster .</p>
</div>
</div>
<div class=sect3>
<h4 id=___4><a class=link href=#___4>4.5.2.  </a></h4>
<div class=sect4>
<h5 id=____4><a class=link href=#____4>  </a></h5>
<div class=paragraph>
<p>WAS Container      
..</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<col style=width:33.3333%>
<col style=width:33.3333%>
<col style=width:33.3334%>
<thead>
<tr>
<th class="tableblock halign-left valign-top">  </th>
<th class="tableblock halign-left valign-top">  / </th>
<th class="tableblock halign-left valign-top"></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Workload </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Deployment</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Container Port</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>TCP : 8180</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class=sect4>
<h5 id=____workload__4><a class=link href=#____workload__4>    Workload </a></h5>
<div class=paragraph>
<p>  Project        
 Manifest   Sample   .</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<col style=width:16.6666%>
<col style=width:50%>
<col style=width:33.3334%>
<thead>
<tr>
<th class="tableblock halign-left valign-top">  </th>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top">Sample </th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Container Image</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Project Architecture    OS  JDK
  LENA Manager Image</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>lenacloud/lena-embedded:1.5.0.1-jdk8-openjdk</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>namespace</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Kubernetes   </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>default</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>name</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Workload ,   Pod  / Hostname Prefix .</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>lena-was</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>label</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Service ,   Label Key: Value
.</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>type: lena-was</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>strategy:type</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Deployment Update , RollingUpdate, Recreate 
Update </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>RollingUpdate</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>imagePullPolicy</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock> Pull </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Always</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>replica </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Container (Pod) </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Probe</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>HttpGetAction,  Page,  Delay ,  Application
   </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>/ </p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock> </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>  ENV  Config Map  </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>(configMap )</p></td>
</tr>
</tbody>
</table>
<div class=paragraph>
<p>    .
      <a href=./020.architecture_decision.html#architecture_decision_embedded_application_env>Embedded WAS </a>  .</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<col style=width:33.3333%>
<col style=width:50%>
<col style=width:16.6667%>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top">Sample </th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_CONFIG_TEMPLATE_ID</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Service Cluster  : Revision No</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>WAS-001:1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_MANAGER_ADDRESS</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Service Domain  : <br>
(  Manager Service )</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>lena-manager.default.svc.cluster.local:7700</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_MANAGER_MONITORING_PORT</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Manager  Port </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>16100</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_APP_FILE</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Application Jar  </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>sample-app.jar</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_APP_DIR</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Application Jar  </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>/usr/local/lena</p></td>
</tr>
</tbody>
</table>
</div>
<div class=sect4>
<h5 id=____service_4><a class=link href=#____service_4>    Service</a></h5>
<table class="tableblock frame-all grid-all stretch">
<col style=width:20%>
<col style=width:60%>
<col style=width:20%>
<thead>
<tr>
<th class="tableblock halign-left valign-top">  </th>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top">Sample </th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>namespace</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Kubernetes   </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>default</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>name</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Service  , namespace   
.   Service Domain .</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>lena-was</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>type</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock> Service  ,     
 </p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class=sect3>
<h4 id=_manifest___4><a class=link href=#_manifest___4>4.5.3. Manifest  </a></h4>
<div class=sect4>
<h5 id=_workload_4><a class=link href=#_workload_4>Workload</a></h5>
<div class=paragraph>
<p>Kubernetes Container Pod  , Kubernetes Object
 YAML  Manifest     
.</p>
</div>
<div class=paragraph>
<p> Manager   Manifest  ,   
     Project     
.</p>
</div>
<div class=listingblock>
<div class=title>LENA Embedded WAS Workload (Manifest)  *</div>
<div class=content>
<pre class="CodeRay highlight"><code data-lang=yaml><span class=head><span class=head>---</span></span>
<span class=key>apiVersion</span>: <span class=string><span class=content>apps/v1</span></span>
<span class=key>kind</span>: <span class=string><span class=content>Deployment</span></span>
<span class=key>metadata</span>:
  <span class=key>name</span>: <span class=string><span class=content>lena-was</span></span>
<span class=key>spec</span>:
  <span class=key>selector</span>:
    <span class=key>matchLabels</span>:
      <span class=key>type</span>: <span class=string><span class=content>lena-was</span></span>
  <span class=key>replicas</span>: <span class=string><span class=content>2</span></span>
  <span class=key>strategy</span>:
    <span class=key>type</span>: <span class=string><span class=content>RollingUpdate</span></span>
  <span class=key>minReadySeconds</span>: <span class=string><span class=content>10</span></span>
  <span class=key>revisionHistoryLimit</span>: <span class=string><span class=content>1</span></span>
  <span class=key>template</span>:
    <span class=key>metadata</span>:
      <span class=key>labels</span>:
        <span class=key>type</span>: <span class=string><span class=content>lena-was</span></span>
    <span class=key>spec</span>:
      <span class=key>containers</span>:
      - <span class=string><span class=content>name: lena-was</span></span>
        <span class=key>image</span>: <span class=string><span class=content>docker.io/lenasupport/lena-embedded:1.5.0.1-jdk8-openjdk</span></span>
        <span class=key>imagePullPolicy</span>: <span class=string><span class=content>Always</span></span>
        <span class=key>ports</span>:
        - <span class=string><span class=content>containerPort: 8180</span></span>
        <span class=key>envFrom</span>:
        - <span class=string><span class=content>configMapRef:</span><span class=content>
            name: configmap-lena-was</span></span>
        <span class=key>readinessProbe</span>:
          <span class=key>httpGet</span>:
            <span class=key>path</span>: <span class=string><span class=content>/</span></span>
            <span class=key>port</span>: <span class=string><span class=content>8180</span></span>
          <span class=key>initialDelaySeconds</span>: <span class=string><span class=content>10</span></span>
          <span class=key>periodSeconds</span>: <span class=string><span class=content>5</span></span>
        <span class=key>livenessProbe</span>:
          <span class=key>httpGet</span>:
            <span class=key>path</span>: <span class=string><span class=content>/</span></span>
            <span class=key>port</span>: <span class=string><span class=content>8180</span></span>
          <span class=key>initialDelaySeconds</span>: <span class=string><span class=content>15</span></span>
          <span class=key>periodSeconds</span>: <span class=string><span class=content>5</span></span>
      <span class=key>volumes</span>:
      <span class=key>terminationGracePeriodSeconds</span>: <span class=string><span class=content>0</span></span>

<span class=head><span class=head>---</span></span>
<span class=key>apiVersion</span>: <span class=string><span class=content>v1</span></span>
<span class=key>kind</span>: <span class=string><span class=content>ConfigMap</span></span>
<span class=key>metadata</span>:
  <span class=key>name</span>: <span class=string><span class=content>configmap-lena-was</span></span>
<span class=key>data</span>:
  <span class=key>LENA_CONFIG_TEMPLATE_ID</span>: <span class=string><span class=delimiter>&quot;</span><span class=content>WAS-001</span><span class=delimiter>&quot;</span></span>
  <span class=key>LENA_MANAGER_ADDRESS</span>: <span class=string><span class=delimiter>&quot;</span><span class=content>lena-manager.default.svc.cluster.local:7700</span><span class=delimiter>&quot;</span></span>
  <span class=key>LENA_APP_FILE</span>: <span class=string><span class=delimiter>&quot;</span><span class=content>sample-app.jar</span><span class=delimiter>&quot;</span></span></code></pre>
</div>
</div>
<div class=ulist>
<ul>
<li>
<p>><br>
 kubectl apply  . 
lena-was-deployment-sample.yaml    .</p>
</li>
</ul>
</div>
<div class=listingblock>
<div class=content>
<pre class="CodeRay highlight"><code data-lang=bash>$ kubectl apply f lena-was-deployment-sample.yaml</code></pre>
</div>
</div>
<div class=ulist>
<ul>
<li>
<p> ><br>
 Workload kubectl get      .</p>
</li>
</ul>
</div>
<div class=listingblock>
<div class=content>
<pre class="CodeRay highlight"><code data-lang=bash>$ kubectl get deployments
NAME READY AGE
lena-was 2/2 10s</code></pre>
</div>
</div>
</div>
<div class=sect4>
<h5 id=_service_4><a class=link href=#_service_4>Service</a></h5>
<div class=paragraph>
<p> Application Service   Manifest   .</p>
</div>
<div class=listingblock>
<div class=title>LENA Session Service (Manifest)  </div>
<div class=content>
<pre class="CodeRay highlight"><code data-lang=yaml><span class=head><span class=head>---</span></span>
<span class=key>apiVersion</span>: <span class=string><span class=content>v1</span></span>
<span class=key>kind</span>: <span class=string><span class=content>Service</span></span>
<span class=key>metadata</span>:
  <span class=key>name</span>: <span class=string><span class=content>lena-was</span></span>
<span class=key>spec</span>:
  <span class=key>selector</span>:
    <span class=key>type</span>: <span class=string><span class=content>lena-was</span></span>
<span class=key>ports</span>:
  - <span class=string><span class=content>port: 8180</span></span>
    <span class=key>targetPort</span>: <span class=string><span class=content>8180</span></span></code></pre>
</div>
</div>
<div class=ulist>
<ul>
<li>
<p><br>
 kubectl apply  . 
lena-was-service-sample.yaml    .</p>
</li>
</ul>
</div>
<div class=listingblock>
<div class=content>
<pre class="CodeRay highlight"><code data-lang=bash>$ kubectl apply f lena-was-service-sample.yaml</code></pre>
</div>
</div>
<div class=ulist>
<ul>
<li>
<p> <br>
 Workload kubectl get      .</p>
</li>
</ul>
</div>
<div class=listingblock>
<div class=content>
<pre class="CodeRay highlight"><code data-lang=bash>$ kubectl get services
NAME TYPE CLUSTER-IP EXTERNAL-IP PORT(S) AGE
...
lena-was ClusterIP 10.43.xx.xx &lt;none&gt; 8180/TCP 20s</code></pre>
</div>
</div>
</div>
</div>
<div class=sect3>
<h4 id=_server___3><a class=link href=#_server___3>4.5.4. Server  </a></h4>
<div class=paragraph>
<p>Manager  Cluster > Service Cluster   Service
Cluster    .
<span class=button>Server List </span>
   2 WAS   .</p>
</div>
<div class="admonitionblock note">
<div class=table-wrap> <table>
<tr>
<td class=icon>
<i class="fa icon-note" title=Note></i>
</td>
<td class=content>
<div class=paragraph>
<p>Server Manager Scheduler  ,  15   .</p>
</div>
</td>
</tr>
</table> </div>
</div>
</div>
</div>
<div class=sect2>
<h3 id=_web_server_><a class=link href=#_web_server_>4.6. Web Server </a></h3>
<div class=sect3>
<h4 id=kubernetes_based_deployment-web-prepare><a class=link href=#kubernetes_based_deployment-web-prepare>4.6.1.  </a></h4>
<div class=paragraph>
<p>  Manager Web Server   Manager
Service Cluster  . Manager Cluster > Server
Cluster   WEB server   Service
Cluster .</p>
</div>
<div class=paragraph>
<p> Service Cluster Template  Web Server . 
    WAS Web Server  
Virtual Host  Proxy  .</p>
</div>
<div class=paragraph>
<p>  Template  Revision . Revision 
  Download .</p>
</div>
<div class=paragraph>
<p>Service Cluster        
 .</p>
</div>
</div>
<div class=sect3>
<h4 id=___5><a class=link href=#___5>4.6.2.  </a></h4>
<div class=sect4>
<h5 id=____5><a class=link href=#____5>  </a></h5>
<div class=paragraph>
<p>Web Server Container       .</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<col style=width:33.3333%>
<col style=width:33.3333%>
<col style=width:33.3334%>
<thead>
<tr>
<th class="tableblock halign-left valign-top">  </th>
<th class="tableblock halign-left valign-top">  / </th>
<th class="tableblock halign-left valign-top"></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Workload </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Deployment</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Container Port</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>TCP : 5180</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
</tbody>
</table>
</div>
<div class=sect4>
<h5 id=____workload__5><a class=link href=#____workload__5>    Workload </a></h5>
<div class=paragraph>
<p>  Project        
 Manifest   Sample   .</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<col style=width:20%>
<col style=width:60%>
<col style=width:20%>
<thead>
<tr>
<th class="tableblock halign-left valign-top">  </th>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top">Sample </th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Container Image</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Project Architecture    OS  JDK
  LENA Manager Image</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>lenacloud/lena-web:1.5.0.1-jdk8-openjdk</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>namespace</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Kubernetes   </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>default</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>name</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Workload ,   Pod  / Hostname Prefix .</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>lena-web</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>label</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Service ,   Label Key: Value
.</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>type: lena-web</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>strategy:type</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Deployment Update </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>RollingUpdate</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>imagePullPolicy</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock> Pull </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Always</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>replica </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Container (Pod) </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Probe (Health Check)</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>HttpGetAction ,  Page,  Delay,
 Application    </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>/ , 5 , 15/20
Delay</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock> </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>  ENV  Config Map  </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>(configMap )</p></td>
</tr>
</tbody>
</table>
<div class=paragraph>
<p>    .
      <a href=./020.architecture_decision.html#architecture_decision_web_env>Web Server </a>  .</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<col style=width:20%>
<col style=width:60%>
<col style=width:20%>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top">Sample </th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_CONFIG_TEMPLATE_ID</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Service Cluster  : Revision No</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>WEB-001:1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_MANAGER_ADDRESS</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Service Domain  : <br>
(  Manager Service )</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>lena-manager.default.svc.cluster.local:7700</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_MANAGER_KEY</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>LENA_MANAGER_KEY : Open API Manager   </p>
</li>
<li>
<p>Manager Admin > Users  </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>( Manager   )</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_CONFIG_TEMPLATE_DOWNLOAD</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>   </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Y</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_CONTRACT_CODE</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>    </p>
</li>
<li>
<p>     </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>(   )</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_LICENSE_DOWNLOAD_URL</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>  </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>manager</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_RUN_AGENT</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Agent </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Y</p></td>
</tr>
</tbody>
</table>
</div>
<div class=sect4>
<h5 id=____service_5><a class=link href=#____service_5>    Service</a></h5>
<table class="tableblock frame-all grid-all stretch">
<col style=width:20%>
<col style=width:60%>
<col style=width:20%>
<thead>
<tr>
<th class="tableblock halign-left valign-top">  </th>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top">Sample </th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>namespace</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Kubernetes   </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>default</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>name</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Service  , namespace   
.   Service Domain .</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>lena-web</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>type</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock> Service  ,     
 </p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=paragraph>
<p>NodePort<br>
(port 31180)</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class=sect3>
<h4 id=_manifest___5><a class=link href=#_manifest___5>4.6.3. Manifest  </a></h4>
<div class=sect4>
<h5 id=_workload_5><a class=link href=#_workload_5>Workload</a></h5>
<div class=paragraph>
<p>Kubernetes Container Pod  , Kubernetes Object
 YAML  Manifest     
.</p>
</div>
<div class=paragraph>
<p> Manager   Manifest  ,   
     Project     
.</p>
</div>
<div class=listingblock>
<div class=title>LENA Web Workload (Manifest)  </div>
<div class=content>
<pre class="CodeRay highlight"><code data-lang=yaml><span class=head><span class=head>---</span></span>
<span class=key>apiVersion</span>: <span class=string><span class=content>apps/v1</span></span>
<span class=key>kind</span>: <span class=string><span class=content>Deployment</span></span>
<span class=key>metadata</span>:
  <span class=key>name</span>: <span class=string><span class=content>lena-web</span></span>
<span class=key>spec</span>:
  <span class=key>selector</span>:
    <span class=key>matchLabels</span>:
      <span class=key>type</span>: <span class=string><span class=content>lena-web</span></span>
  <span class=key>replicas</span>: <span class=string><span class=content>1</span></span>
  <span class=key>strategy</span>:
    <span class=key>type</span>: <span class=string><span class=content>RollingUpdate</span></span>
  <span class=key>minReadySeconds</span>: <span class=string><span class=content>10</span></span>
  <span class=key>revisionHistoryLimit</span>: <span class=string><span class=content>1</span></span>
  <span class=key>template</span>:
    <span class=key>metadata</span>:
      <span class=key>labels</span>:
        <span class=key>type</span>: <span class=string><span class=content>lena-web</span></span>
    <span class=key>spec</span>:
      <span class=key>containers</span>:
      - <span class=string><span class=content>name: lena-web</span></span>
        <span class=key>image</span>: <span class=string><span class=content>docker.io/lenasupport/lena-web:1.5.0.1-jdk8-openjdk</span></span>
        <span class=key>imagePullPolicy</span>: <span class=string><span class=content>Always</span></span>
        <span class=key>ports</span>:
        - <span class=string><span class=content>containerPort: 7180</span></span>
        <span class=key>readinessProbe</span>:
          <span class=key>httpGet</span>:
            <span class=key>path</span>: <span class=string><span class=content>/</span></span>
            <span class=key>port</span>: <span class=string><span class=content>7180</span></span>
          <span class=key>initialDelaySeconds</span>: <span class=string><span class=content>5</span></span>
          <span class=key>periodSeconds</span>: <span class=string><span class=content>5</span></span>
        <span class=key>livenessProbe</span>:
          <span class=key>httpGet</span>:
            <span class=key>path</span>: <span class=string><span class=content>/</span></span>
            <span class=key>port</span>: <span class=string><span class=content>7180</span></span>
          <span class=key>initialDelaySeconds</span>: <span class=string><span class=content>10</span></span>
          <span class=key>periodSeconds</span>: <span class=string><span class=content>10</span></span>
        <span class=key>envFrom</span>:
        - <span class=string><span class=content>configMapRef:</span><span class=content>
            name: configmap-lena-web</span></span>
      <span class=key>terminationGracePeriodSeconds</span>: <span class=string><span class=content>0</span></span>

<span class=head><span class=head>---</span></span>
<span class=key>apiVersion</span>: <span class=string><span class=content>v1</span></span>
<span class=key>kind</span>: <span class=string><span class=content>ConfigMap</span></span>
<span class=key>metadata</span>:
  <span class=key>name</span>: <span class=string><span class=content>configmap-lena-web</span></span>
<span class=key>data</span>:
  <span class=key>LENA_MANAGER_ADDRESS</span>: <span class=string><span class=delimiter>&quot;</span><span class=content>lena-manager.default.svc.cluster.local:7700</span><span class=delimiter>&quot;</span></span>
  <span class=key>LENA_AGENT_RUN</span>: <span class=string><span class=delimiter>&quot;</span><span class=content>Y</span><span class=delimiter>&quot;</span></span>
  <span class=key>LENA_CONFIG_TEMPLATE_ID</span>: <span class=string><span class=delimiter>&quot;</span><span class=content>WEB-001:1</span><span class=delimiter>&quot;</span></span>
  <span class=key>LENA_CONFIG_TEMPLATE_DOWNLOAD</span>: <span class=string><span class=delimiter>&quot;</span><span class=content>Y</span><span class=delimiter>&quot;</span></span>
  <span class=key>LENA_MANAGER_KEY</span>: <span class=string><span class=delimiter>&quot;</span><span class=content>aSw7RMPSw15LeN%2FMZnrxzjgV0BzZe18iVHZbJ8CkdLlea2Ecd8AleK9oPCLXuw%3D%3D</span><span class=delimiter>&quot;</span></span>
  <span class=key>LENA_LICENSE_DOWNLOAD_URL</span>: <span class=string><span class=delimiter>&quot;</span><span class=content>manager</span><span class=delimiter>&quot;</span></span>
  <span class=key>LENA_CONTRACT_CODE</span>: <span class=string><span class=delimiter>&quot;</span><span class=content>dX89RRxPk6/PBPqbUuYm7w==</span><span class=delimiter>&quot;</span></span></code></pre>
</div>
</div>
<div class=ulist>
<ul>
<li>
<p><br>
 kubectl apply  . 
lena-web-deployment-sample.yaml    .</p>
</li>
</ul>
</div>
<div class=listingblock>
<div class=content>
<pre class="CodeRay highlight"><code data-lang=bash>$ kubectl apply f lena-web-deployment-sample.yaml</code></pre>
</div>
</div>
<div class=ulist>
<ul>
<li>
<p> <br>
 Workload kubectl get      .</p>
</li>
</ul>
</div>
<div class=listingblock>
<div class=content>
<pre class="CodeRay highlight"><code data-lang=bash>$ kubectl get deployments
NAME READY AGE
lena-web 2/2 10m
lena-was 2/2 10s</code></pre>
</div>
</div>
</div>
<div class=sect4>
<h5 id=_service_5><a class=link href=#_service_5>Service</a></h5>
<div class=paragraph>
<p> Application Service   Manifest   .</p>
</div>
<div class=listingblock>
<div class=title>LENA Session Service (Manifest)  </div>
<div class=content>
<pre class="CodeRay highlight"><code data-lang=yaml><span class=head><span class=head>---</span></span>
<span class=key>apiVersion</span>: <span class=string><span class=content>v1</span></span>
<span class=key>kind</span>: <span class=string><span class=content>Service</span></span>
<span class=key>metadata</span>:
  <span class=key>name</span>: <span class=string><span class=content>lena-web</span></span>
<span class=key>spec</span>:
  <span class=key>selector</span>:
    <span class=key>type</span>: <span class=string><span class=content>lena-web</span></span>
  <span class=key>ports</span>:
  - <span class=string><span class=content>nodePort: 31180</span></span>
    <span class=key>port</span>: <span class=string><span class=content>7180</span></span>
    <span class=key>targetPort</span>: <span class=string><span class=content>7180</span></span>
  <span class=key>type</span>: <span class=string><span class=content>NodePort</span></span></code></pre>
</div>
</div>
<div class=ulist>
<ul>
<li>
<p><br>
 kubectl apply  . 
lena-web-service-sample.yaml    .</p>
</li>
</ul>
</div>
<div class=listingblock>
<div class=content>
<pre class="CodeRay highlight"><code data-lang=bash>$ kubectl apply f lena-web-service-sample.yaml</code></pre>
</div>
</div>
<div class=ulist>
<ul>
<li>
<p> <br>
 Workload kubectl get      .</p>
</li>
</ul>
</div>
<div class=listingblock>
<div class=content>
<pre class="CodeRay highlight"><code data-lang=bash>$ kubectl get services
NAME TYPE CLUSTER-IP EXTERNAL-IP PORT(S) AGE
...
lena-web NodePort 10.43.xx.xx &lt;none&gt; 7180:31180/TCP 13h
...</code></pre>
</div>
</div>
</div>
</div>
<div class=sect3>
<h4 id=_server___4><a class=link href=#_server___4>4.6.4. Server  </a></h4>
<div class=paragraph>
<p>Manager  Cluster > Service Cluster   Service
Cluster    .
<span class=button>Server List </span>
   2 Web Server   .</p>
</div>
<div class="admonitionblock note">
<div class=table-wrap> <table>
<tr>
<td class=icon>
<i class="fa icon-note" title=Note></i>
</td>
<td class=content>
<div class=paragraph>
<p>Server Manager Scheduler  ,  15   </p>
</div>
</td>
</tr>
</table> </div>
</div>
</div>
</div>
</div>
</div>
<div class=sect1>
<h2 id=_docker_swarm__><a class=link href=#_docker_swarm__>5. Docker Swarm  </a></h2>
<div class=sectionbody>
<div class=sect2>
<h3 id=___2><a class=link href=#___2>5.1.  </a></h3>
<div class=sect3>
<h4 id=___2><a class=link href=#___2>5.1.1.  </a></h4>
<div class=paragraph>
<p>LENA   Docker Swarm    .  
   .</p>
</div>
<div class="olist arabic">
<ol class=arabic>
<li>
<p>Docker     </p>
</li>
<li>
<p>LENA  Docker Swarm Overlay Network </p>
</li>
<li>
<p>  Docker Repository ( : ECR, Docker Hub,  Docker
Repository )</p>
</li>
<li>
<p>LENA Container License  </p>
</li>
</ol>
</div>
<div class=sect4>
<h5 id=_swarm_cluster_><a class=link href=#_swarm_cluster_>Swarm Cluster </a></h5>
<div class=paragraph>
<p>Swarm Cluster   (Node) Container   Orchestration Runtime, Manager Node Worker Node . Manager Node   docker swarm init  --advertise-addr  Manager Node  ( Manager   )  .</p>
</div>
<div class=listingblock>
<div class=title>Docker Swarm Init (Manager Node )</div>
<div class=content>
<pre class="CodeRay highlight"><code data-lang=bash>$ docker swarm init --advertise-addr $(hostname -i)

Swarm initialized: current node (y8ul9r3jq0rgt9k3vbvrayeyg) is now a manager.

To add a worker to this swarm, run the following command:

    docker swarm join --token SWMTKN-1-... 192.168.0.10:2377

To add a manager to this swarm, run 'docker swarm join-token manager' and follow the instructions</code></pre>
</div>
</div>
<div class=paragraph>
<p>Manager Node   docker swarm join  , Worker Node .</p>
</div>
<div class=listingblock>
<div class=title>Docker Swarm Worker Node </div>
<div class=content>
<pre class="CodeRay highlight"><code data-lang=bash>$ docker swarm join --token SWMTKN-1-... 192.168.0.10:2377</code></pre>
</div>
</div>
<div class=paragraph>
<p>Manager Node docker node ls  , Cluster  Node   .</p>
</div>
<div class=listingblock>
<div class=title>Docker Swarm Cluster Node </div>
<div class=content>
<pre class="CodeRay highlight"><code data-lang=bash>$ docker node ls
ID                         HOSTNAME  STATUS  AVAILABILITY  MANAGER STATUS  ENGINE VERSION
887c4dglmszt1afbgnucnokg   SERVER02  Ready   Active                        19.03.6-ce
qp9zh3zj5jlzpqhglf11v69y * SERVER01  Ready   Active        Leader          19.03.6-ce</code></pre>
</div>
</div>
</div>
<div class=sect4>
<h5 id=_overlay_network_><a class=link href=#_overlay_network_>Overlay Network </a></h5>
<div class=paragraph>
<p>Docker Service    Container Network . Docker Swarm Overlay Network   Service     Stack , Stack Overlay Network .</p>
</div>
<div class=listingblock>
<div class=title>Docker Swarm Network   Example (lena-net.yaml)</div>
<div class=content>
<pre class="CodeRay highlight"><code data-lang=yaml><span class=key>version</span>: <span class=string><span class=delimiter>&quot;</span><span class=content>3.8</span><span class=delimiter>&quot;</span></span>

<span class=key>networks</span>:
  <span class=key>lena-net</span>:
    <span class=key>driver</span>: <span class=string><span class=content>overlay</span></span>
    <span class=key>attachable</span>: <span class=string><span class=content>true</span></span></code></pre>
</div>
</div>
<div class=paragraph>
<p>Stack Network    lena-net.yaml Stack  'example&#8217;  .</p>
</div>
<div class=listingblock>
<div class=content>
<pre class="CodeRay highlight"><code data-lang=bash>docker stack deploy -c lena-net.yaml exmaple</code></pre>
</div>
</div>
<div class=paragraph>
<p> Docker Network   docker network ls [OPTIONS]  .</p>
</div>
<div class=listingblock>
<div class=title>Docker Network </div>
<div class=content>
<pre class="CodeRay highlight"><code data-lang=bash>$ docker network ls

NETWORK ID          NAME                DRIVER              SCOPE
x9loi84l78zu        example_lena-net    overlay             swarm
jhdd0mz8gtrh        ingress             overlay             swarm
.... ( )</code></pre>
</div>
</div>
</div>
</div>
<div class=sect3>
<h4 id=___2><a class=link href=#___2>5.1.2.  </a></h4>
<div class=paragraph>
<p> Docker  CLI  docker     .</p>
</div>
<div class=paragraph>
<p>Docker Service  ,   
YAML   Docker Compose   // . 
 ${docker-compose.yaml}   .  
      ,  
 <a href=https://docs.docker.com/>Docker</a>  .</p>
</div>
<div class=sect4>
<h5 id=_docker_service_><a class=link href=#_docker_service_>Docker Service </a></h5>
<div class=paragraph>
<p>Docker Load-balancing  Network  , Deployment    Container 'Service'  .
docker create service     ,    --replicas      , --publish    Port   .</p>
</div>
<div class=listingblock>
<div class=title>CLI Docker Service </div>
<div class=content>
<pre class="CodeRay highlight"><code data-lang=bash>$ docker service create --name lena-sample \
    --publish published=8180:8180/tcp \
    --replicas 2 \
    lenacloud/lena-cluster:1.5.0.1-centos7-jdk8-openjdk</code></pre>
</div>
</div>
<div class=paragraph>
<p>   ,  namespace  name  Object
   Resource   .</p>
</div>
</div>
<div class=sect4>
<h5 id=_docker_service_><a class=link href=#_docker_service_>Docker Service </a></h5>
<div class=paragraph>
<p>docker service scale        .</p>
</div>
<div class=listingblock>
<div class=content>
<pre>$ docker service scale lena-sample=3</pre>
</div>
</div>
<div class=paragraph>
<p>docker service update   Service   .</p>
</div>
<div class=listingblock>
<div class=title>Docker Update  </div>
<div class=content>
<pre class="CodeRay highlight"><code data-lang=bash>$ docker service update \
--update-parallelism 1 \
--update-delay 10s \
--update-order start-first \
--image lenacloud/lena-cluster:1.5.0.1-centos7-jdk8-openjdk \
lena-sample</code></pre>
</div>
</div>
<div class=paragraph>
<p>Service       .</p>
</div>
<div class=ulist>
<ul>
<li>
<p>--update-parallelism :     .</p>
</li>
<li>
<p>--update-delay :    .</p>
</li>
<li>
<p>--update-order : start-first        . stop-first         .</p>
</li>
<li>
<p>--update-failure-action :      pause  , continue  , rollback  .</p>
</li>
<li>
<p>--update-max-failure-ratio :        .</p>
</li>
</ul>
</div>
</div>
<div class=sect4>
<h5 id=_docker_service_rollback><a class=link href=#_docker_service_rollback>Docker Service Rollback</a></h5>
<div class=paragraph>
<p>Docker Service (Update)    (Rollback)  'docker service rollback &#8217;   .</p>
</div>
<div class=listingblock>
<div class=content>
<pre class="CodeRay highlight"><code data-lang=bash>$ docker service rollback [OPTIONS] SERVICE</code></pre>
</div>
</div>
</div>
<div class=sect4>
<h5 id=_docker_service_><a class=link href=#_docker_service_>Docker Service </a></h5>
<div class=paragraph>
<p>docker service rm   Service .</p>
</div>
<div class=listingblock>
<div class=content>
<pre class="CodeRay highlight"><code data-lang=bash>$ docker service rm [Service...]</code></pre>
</div>
</div>
</div>
<div class=sect4>
<h5 id=_docker_service_><a class=link href=#_docker_service_>Docker Service </a></h5>
<div class=paragraph>
<p>docker service ls   Service    .</p>
</div>
<div class=listingblock>
<div class=content>
<pre class="CodeRay highlight"><code data-lang=bash>$ docker service ls</code></pre>
</div>
</div>
<div class=paragraph>
<p>docker service ps    Service Container    .</p>
</div>
<div class=listingblock>
<div class=content>
<pre class="CodeRay highlight"><code data-lang=bash>$ docker service ps [OPTIONS] [Service...]</code></pre>
</div>
</div>
</div>
<div class=sect4>
<h5 id=_compose__service___><a class=link href=#_compose__service___>Compose  (Service )  </a></h5>
<div class=paragraph>
<p>   Command   , Service   (Compose)    .   Compose    .</p>
</div>
<div class=listingblock>
<div class=content>
<pre class="CodeRay highlight"><code data-lang=yaml><span class=key>version</span>: <span class=string><span class=delimiter>&quot;</span><span class=content>3.8</span><span class=delimiter>&quot;</span></span>

<span class=key>services</span>:
  <span class=key>lena-was-cluster</span>:
    <span class=key>image</span>: <span class=string><span class=content>lenacloud/lena-cluster:1.5.0.1-centos7-jdk8-openjdk</span></span>
    <span class=key>networks</span>:
      <span class=key>lena-net</span>:
        <span class=key>aliases</span>:
        - <span class=string><span class=content>was-cluster.example.local</span></span>
    <span class=key>ports</span>:
    - <span class=string><span class=content>target: 8180</span></span>
      <span class=key>published</span>: <span class=string><span class=content>8180</span></span>
      <span class=key>protocol</span>: <span class=string><span class=content>tcp</span></span>
      <span class=key>mode</span>: <span class=string><span class=content>ingress</span></span>
    <span class=key>environment</span>:
      <span class=key>LENA_MANAGER_ADDRESS</span>: <span class=string><span class=delimiter>&quot;</span><span class=content>lena-manager.example.local:7700</span><span class=delimiter>&quot;</span></span>
      <span class=key>LENA_MANAGER_MONITORING_PORT</span>: <span class=string><span class=delimiter>&quot;</span><span class=content>16100</span><span class=delimiter>&quot;</span></span>
      <span class=key>LENA_MANAGER_KEY</span>: <span class=string><span class=delimiter>&quot;</span><span class=content>C9PYwcu%3D%3D</span><span class=delimiter>&quot;</span></span>
      <span class=key>LENA_CONFIG_TEMPLATE_DOWNLOAD</span>: <span class=string><span class=delimiter>&quot;</span><span class=content>Y</span><span class=delimiter>&quot;</span></span>
      <span class=key>LENA_CONFIG_TEMPLATE_ID</span>: <span class=string><span class=delimiter>&quot;</span><span class=content>was-cluster</span><span class=delimiter>&quot;</span></span>
      <span class=key>LENA_LICENSE_DOWNLOAD_URL</span>: <span class=string><span class=delimiter>&quot;</span><span class=content>manager</span><span class=delimiter>&quot;</span></span>
      <span class=key>LENA_CONTRACT_CODE</span>: <span class=string><span class=delimiter>&quot;</span><span class=content>vvW7ebNFVjDdtasuvF1utQ==</span><span class=delimiter>&quot;</span></span>
      <span class=key>JAVA_DOMAIN_CACHE_TTL</span>: <span class=string><span class=delimiter>&quot;</span><span class=content>3</span><span class=delimiter>&quot;</span></span>
    <span class=key>deploy</span>:
      <span class=key>mode</span>: <span class=string><span class=content>replicated</span></span>
      <span class=key>replicas</span>: <span class=string><span class=content>3</span></span>
    <span class=key>healthcheck</span>:
      <span class=key>test</span>: <span class=string><span class=delimiter>&quot;</span><span class=content>curl -f http://localhost:8180/index.jsp</span><span class=delimiter>&quot;</span></span>
      <span class=key>interval</span>: <span class=string><span class=content>10s</span></span>
      <span class=key>timeout</span>: <span class=string><span class=content>5s</span></span>
      <span class=key>retries</span>: <span class=string><span class=content>3</span></span>
      <span class=key>start_period</span>: <span class=string><span class=content>20s</span></span></code></pre>
</div>
</div>
<div class=paragraph>
<p>   Field    .</p>
</div>
<div class=ulist>
<ul>
<li>
<p>services : Service  Service  </p>
</li>
<li>
<p>networks : Service  Container Network </p>
</li>
<li>
<p>networks > ${network} > aliases : Service  Network </p>
</li>
<li>
<p>ports : Service  Port   Port Container Mapping , L/B  </p>
</li>
<li>
<p>environments : Container    </p>
</li>
<li>
<p>deploy : Container   </p>
</li>
<li>
<p>healthcheck : Healthcheck  </p>
</li>
</ul>
</div>
</div>
<div class=sect4>
<h5 id=_stack_><a class=link href=#_stack_>Stack </a></h5>
<div class=paragraph>
<p>Stack Kubernetes namespace  ,  Application /   .     Stack  . Stack     ,  ${docker-compose.yaml}    Stack .   docker stack deploy [-c Compose Path&#8230;&#8203;] [OPTIONS] ,  Service   compose   Stack  .</p>
</div>
<div class=listingblock>
<div class=title>Docker stack </div>
<div class=content>
<pre class="CodeRay highlight"><code data-lang=bash>docker stack deploy \
       -c lena-net.yaml \
       -c lena-manager.yaml \
       -c lena-session-cluster.yaml \
       -c lena-was-cluster.yaml \
       -c lena-web-cluster.yaml \
       example</code></pre>
</div>
</div>
<div class=paragraph>
<p>Docker Stack   Service, Network   .   docker stack rm [OPTIONS] [Stack&#8230;&#8203;]' .</p>
</div>
<div class=listingblock>
<div class=title>Docker stack </div>
<div class=content>
<pre class="CodeRay highlight"><code data-lang=bash>docker stack rm example</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class=sect2>
<h3 id=_manager__2><a class=link href=#_manager__2>5.2. Manager </a></h3>
<div class=sect3>
<h4 id=___6><a class=link href=#___6>5.2.1.  </a></h4>
<div class=sect4>
<h5 id=____6><a class=link href=#____6>  </a></h5>
<div class=paragraph>
<p>Manager Service       .</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<col style=width:28.5714%>
<col style=width:57.1428%>
<col style=width:14.2858%>
<thead>
<tr>
<th class="tableblock halign-left valign-top">  </th>
<th class="tableblock halign-left valign-top">  / </th>
<th class="tableblock halign-left valign-top"></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>N/W </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Overlay Network - Host</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>End Point </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>dnsrr (DNS Round Robin)</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Replica</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>1</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Container Port</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>TCP : 7700, 16100  UDP : 16100</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Volume Mount</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock> /usr/local/lena/repository  Volume 
(  nfs  )</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Probe (Health Check)</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>HttpGetAction, /lena  </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>-</p></td>
</tr>
</tbody>
</table>
</div>
<div class=sect4>
<h5 id=____service_6><a class=link href=#____service_6>    Service</a></h5>
<table class="tableblock frame-all grid-all stretch">
<col style=width:25%>
<col style=width:50%>
<col style=width:25%>
<thead>
<tr>
<th class="tableblock halign-left valign-top">  </th>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top">Sample </th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Container Image</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Project Architecture    OS  JDK
  LENA Manager Image</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>lenacloud/lena-manager:1.5.0.1-centos7-jdk8-openjdk</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Stack </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>     Swarm Cluster   stack </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>example</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Service </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Service  , Stack   
.</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>lena-manager</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>network alias</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Docker N/W ()</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>lena-manager.example.local</p></td>
</tr>
</tbody>
</table>
<div class=paragraph>
<p>    .</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<col style=width:25%>
<col style=width:50%>
<col style=width:25%>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top">Sample </th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_JVM_HEAP_SIZE</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Heap Memory   (Template  Template  )</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>1024m ()</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_JVM_METASPACE_SIZE</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Metaspace Memory (Template  Template  )</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>256m ()</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_MANAGER_DOMAIN_ENABLED</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Domain Name  </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Y</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_MANAGER_ADDRESS</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Service Domain  : </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>lena-manager.example.local:7700</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>JAVA_DOMAIN_CACHE_TTL</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Domain  Cache  ()</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>3 ()</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class=sect3>
<h4 id=__compose___><a class=link href=#__compose___>5.2.2.  (Compose )  </a></h4>
<div class=paragraph>
<p>Docker Swarm Container Service  , Compose  Service     .</p>
</div>
<div class=paragraph>
<p> Manager   Compose  .   
     Project     
.</p>
</div>
<div class=listingblock>
<div class=title>LENA Manager Service  (lena-manager.yaml)  </div>
<div class=content>
<pre class="CodeRay highlight"><code data-lang=yaml><span class=key>version</span>: <span class=string><span class=delimiter>&quot;</span><span class=content>3.8</span><span class=delimiter>&quot;</span></span>
<span class=key>services</span>:
  <span class=key>lena-manager</span>:
    <span class=key>image</span>: <span class=string><span class=content>lenacloud/lena-manager:1.5.0.1-centos7-jdk8-openjdk</span></span>
    <span class=key>networks</span>:
      <span class=key>lena-net</span>:
        <span class=key>aliases</span>:
        - <span class=string><span class=delimiter>&quot;</span><span class=content>lena-manager.example.local</span><span class=delimiter>&quot;</span></span>
    <span class=key>ports</span>:
    - <span class=string><span class=content>target: 7700</span></span>
      <span class=key>published</span>: <span class=string><span class=content>7700</span></span>
      <span class=key>protocol</span>: <span class=string><span class=content>tcp</span></span>
      <span class=key>mode</span>: <span class=string><span class=content>host</span></span>
    <span class=key>environment</span>:
      <span class=key>LENA_MANAGER_DOMAIN_ENABLED</span>: <span class=string><span class=delimiter>&quot;</span><span class=content>Y</span><span class=delimiter>&quot;</span></span>
      <span class=key>LENA_MANAGER_ADDRESS</span>: <span class=string><span class=delimiter>&quot;</span><span class=content>lena-manager.example.local:7700</span><span class=delimiter>&quot;</span></span>
      <span class=key>LENA_MANAGER_MONITORING_PORT</span>: <span class=string><span class=delimiter>&quot;</span><span class=content>16100</span><span class=delimiter>&quot;</span></span>
    <span class=key>deploy</span>:
      <span class=key>mode</span>: <span class=string><span class=content>replicated</span></span>
      <span class=key>replicas</span>: <span class=string><span class=content>1</span></span>
      <span class=key>endpoint_mode</span>: <span class=string><span class=content>dnsrr</span></span>
    <span class=key>volumes</span>:
    - <span class=string><span class=content>lena-manager-repository:/usr/local/lena/repository</span></span>
    <span class=key>healthcheck</span>:
      <span class=key>test</span>: <span class=string><span class=delimiter>&quot;</span><span class=content>curl -f http://localhost:7700/lena</span><span class=delimiter>&quot;</span></span>
      <span class=key>interval</span>: <span class=string><span class=content>10s</span></span>
      <span class=key>timeout</span>: <span class=string><span class=content>3s</span></span>
      <span class=key>retries</span>: <span class=string><span class=content>3</span></span>
      <span class=key>start_period</span>: <span class=string><span class=content>30s</span></span>
<span class=key>volumes</span>:
  <span class=key>lena-manager-repository</span>:
    <span class=key>driver</span>: <span class=string><span class=content>local</span></span>
    <span class=key>driver_opts</span>:
      <span class=key>type</span>: <span class=string><span class=delimiter>&quot;</span><span class=content>nfs</span><span class=delimiter>&quot;</span></span>
      <span class=key>o</span>: <span class=string><span class=delimiter>&quot;</span><span class=content>nfsvers=4.1,addr=${FILE_STORAGE_ADDRESS}</span><span class=delimiter>&quot;</span></span>
      <span class=key>device</span>: <span class=string><span class=delimiter>&quot;</span><span class=content>${FILE_STORAGE_ADDRESS}:/example/lena-manager-repository</span><span class=delimiter>&quot;</span></span></code></pre>
</div>
</div>
<div class=ulist>
<ul>
<li>
<p><br>
docker-compose        ,   Service Stack    . 'docker stack deploy' </p>
</li>
</ul>
</div>
<div class=listingblock>
<div class=content>
<pre class="CodeRay highlight"><code data-lang=bash>$ docker stack deploy -c lena-manager.yaml example</code></pre>
</div>
</div>
<div class=ulist>
<ul>
<li>
<p> <br>
 Service docker service ls      .<br></p>
</li>
</ul>
</div>
<div class=listingblock>
<div class=content>
<pre class="CodeRay highlight"><code data-lang=bash>$ docker service ls
ID                  NAME                   MODE                REPLICAS            IMAGE                                                   PORTS
grhr01h2bgqc        example_lena-manager   replicated          0/1                 lenacloud/lena-manager:1.5.0.1-centos7-jdk8-openjdk</code></pre>
</div>
</div>
</div>
<div class=sect3>
<h4 id=_manager__2><a class=link href=#_manager__2>5.2.3. Manager </a></h4>
<div class=paragraph>
<p>Service   Browser http://[Node IP]: [Service Port] /lena  Manager .</p>
</div>
</div>
</div>
<div class=sect2>
<h3 id=_session_server__2><a class=link href=#_session_server__2>5.3. Session Server </a></h3>
<div class=sect3>
<h4 id=___3><a class=link href=#___3>5.3.1.  </a></h4>
<div class=paragraph>
<p> <a href=./040.kubernetes_based_deployment.html#kubernetes_based_deployment-session-prepare>Session Server  </a>   .</p>
</div>
</div>
<div class=sect3>
<h4 id=___7><a class=link href=#___7>5.3.2.  </a></h4>
<div class=sect4>
<h5 id=____7><a class=link href=#____7>  </a></h5>
<div class=paragraph>
<p>Session Server Container      
.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<col style=width:28.5714%>
<col style=width:57.1428%>
<col style=width:14.2858%>
<thead>
<tr>
<th class="tableblock halign-left valign-top">  </th>
<th class="tableblock halign-left valign-top">  / </th>
<th class="tableblock halign-left valign-top"></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>N/W </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Overlay Network - Host</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>End Point </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>dnsrr (DNS Round Robin)</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Replica</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Replica 1 * 2 Set (Primary, Secondary  )</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Container Port</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>TCP : 5180</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Health Check</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>${LENA_SERVER_HOME}/health.sh </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>-</p></td>
</tr>
</tbody>
</table>
</div>
<div class=sect4>
<h5 id=____service_><a class=link href=#____service_>    Service </a></h5>
<div class=paragraph>
<p>  Project        
 Docker Compose   Sample   .</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<col style=width:16.6666%>
<col style=width:50%>
<col style=width:33.3334%>
<thead>
<tr>
<th class="tableblock halign-left valign-top">  </th>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top">Sample </th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Stack </p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=paragraph>
<p>     Swarm Cluster   stack </p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=paragraph>
<p>example</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Service </p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=paragraph>
<p>Service  , Stack   
.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>lena-session-0 (Primary )</p>
</li>
<li>
<p>lena-session-1 (Secondary )</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Container Image</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=paragraph>
<p>Project Architecture    OS  JDK
  LENA Session Server Image</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=paragraph>
<p>lenacloud/lena-session:1.5.0.1-centos7-jdk8-openjdk</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Network alias</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=paragraph>
<p>Docker N/W ()</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>session-0.example.local (Primary )</p>
</li>
<li>
<p>session-1.example.local (Secondary )</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
<div class=paragraph>
<p>    .</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<col style=width:20%>
<col style=width:60%>
<col style=width:20%>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top">Sample </th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_JVM_HEAP_SIZE</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Heap Memory  </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>1024m ()</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_CONFIG_TEMPLATE_ID</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Service Cluster  : Revision No</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>SESSION-001</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_MANAGER_ADDRESS</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Service Domain  : </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>sample-lena-manager.example.local:7700</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>JAVA_DOMAIN_CACHE_TTL</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Domain  Cache  ()</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>0 ()</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_SESSION_0_ADDRESS</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Primary Session  , StatefulSet  </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>session-0.example.local:5180</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_SECONDARY_SESSION_NO</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Session Server   Session  </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Primary Session Server 1</p>
</li>
<li>
<p>Secondary Session Server 0</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_SESSION_1_ADDRESS</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Secondary Session  , StatefulSet  </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>session-1.example.local:5180</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_SESSION_EXPIRE_SEC</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Session   ()</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>1800 ()</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_CONFIG_SHARE_SESSION</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Application  Session </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>N</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class=sect3>
<h4 id=_docker_compose__><a class=link href=#_docker_compose__>5.3.3. Docker Compose  </a></h4>
<div class=paragraph>
<p>Docker Swarm Container Service  , Service
 YAML  Docker Compose      .</p>
</div>
<div class=paragraph>
<p> Manager   Docker Compose  ,         Project     
.</p>
</div>
<div class=listingblock>
<div class=title>LENA Session Cluster Service(lena-session-cluster.yaml)  </div>
<div class=content>
<pre class="CodeRay highlight"><code data-lang=yaml><span class=key>version</span>: <span class=string><span class=delimiter>&quot;</span><span class=content>3.8</span><span class=delimiter>&quot;</span></span>

<span class=key>services</span>:
  <span class=key>lena-session-0</span>:
    <span class=key>image</span>: <span class=string><span class=content>lenacloud/lena-session:1.5.0.1-centos7-jdk8-openjdk</span></span>
    <span class=key>networks</span>:
      <span class=key>lena-net</span>:
        <span class=key>aliases</span>:
        - <span class=string><span class=content>session-0.example.local</span></span>
    <span class=key>environment</span>:
      <span class=key>LENA_MANAGER_ADDRESS</span>: <span class=string><span class=delimiter>&quot;</span><span class=content>lena-manager.example.local:7700</span><span class=delimiter>&quot;</span></span>
      <span class=key>LENA_MANAGER_MONITORING_PORT</span>: <span class=string><span class=delimiter>&quot;</span><span class=content>16100</span><span class=delimiter>&quot;</span></span>
      <span class=key>LENA_CONFIG_TEMPLATE_ID</span>: <span class=string><span class=delimiter>&quot;</span><span class=content>session-cluster</span><span class=delimiter>&quot;</span></span>
      <span class=key>LENA_SESSION_0_ADDRESS</span>: <span class=string><span class=delimiter>&quot;</span><span class=content>session-0.example.local:5180</span><span class=delimiter>&quot;</span></span>
      <span class=key>LENA_SESSION_1_ADDRESS</span>: <span class=string><span class=delimiter>&quot;</span><span class=content>session-1.example.local:5180</span><span class=delimiter>&quot;</span></span>
      <span class=key>LENA_SECONDARY_SESSION_NO</span>: <span class=string><span class=content>1</span></span>
    <span class=key>deploy</span>:
      <span class=key>mode</span>: <span class=string><span class=content>replicated</span></span>
      <span class=key>replicas</span>: <span class=string><span class=content>1</span></span>
      <span class=key>endpoint_mode</span>: <span class=string><span class=content>dnsrr</span></span>
    <span class=key>healthcheck</span>:
      <span class=key>test</span>: <span class=string><span class=delimiter>&quot;</span><span class=content>sh /usr/local/lena/servers/sessionServer/health.sh</span><span class=delimiter>&quot;</span></span>
      <span class=key>interval</span>: <span class=string><span class=content>5s</span></span>
      <span class=key>timeout</span>: <span class=string><span class=content>3s</span></span>
      <span class=key>retries</span>: <span class=string><span class=content>3</span></span>
      <span class=key>start_period</span>: <span class=string><span class=content>5s</span></span>

  <span class=key>lena-session-1</span>:
    <span class=key>image</span>: <span class=string><span class=content>lenacloud/lena-session:1.5.0.1-centos7-jdk8-openjdk</span></span>
    <span class=key>networks</span>:
      <span class=key>lena-net</span>:
        <span class=key>aliases</span>:
        - <span class=string><span class=content>session-1.example.local</span></span>
    <span class=key>environment</span>:
      <span class=key>LENA_MANAGER_ADDRESS</span>: <span class=string><span class=delimiter>&quot;</span><span class=content>lena-manager.example.local:7700</span><span class=delimiter>&quot;</span></span>
      <span class=key>LENA_MANAGER_MONITORING_PORT</span>: <span class=string><span class=delimiter>&quot;</span><span class=content>16100</span><span class=delimiter>&quot;</span></span>
      <span class=key>LENA_CONFIG_TEMPLATE_ID</span>: <span class=string><span class=delimiter>&quot;</span><span class=content>session-cluster</span><span class=delimiter>&quot;</span></span>
      <span class=key>LENA_SESSION_0_ADDRESS</span>: <span class=string><span class=delimiter>&quot;</span><span class=content>session-0.example.local:5180</span><span class=delimiter>&quot;</span></span>
      <span class=key>LENA_SESSION_1_ADDRESS</span>: <span class=string><span class=delimiter>&quot;</span><span class=content>session-1.example.local:5180</span><span class=delimiter>&quot;</span></span>
      <span class=key>LENA_SECONDARY_SESSION_NO</span>: <span class=string><span class=content>0</span></span>
    <span class=key>deploy</span>:
      <span class=key>mode</span>: <span class=string><span class=content>replicated</span></span>
      <span class=key>replicas</span>: <span class=string><span class=content>1</span></span>
      <span class=key>endpoint_mode</span>: <span class=string><span class=content>dnsrr</span></span>
    <span class=key>healthcheck</span>:
      <span class=key>test</span>: <span class=string><span class=delimiter>&quot;</span><span class=content>sh /usr/local/lena/servers/sessionServer/health.sh</span><span class=delimiter>&quot;</span></span>
      <span class=key>interval</span>: <span class=string><span class=content>5s</span></span>
      <span class=key>timeout</span>: <span class=string><span class=content>3s</span></span>
      <span class=key>retries</span>: <span class=string><span class=content>3</span></span>
      <span class=key>start_period</span>: <span class=string><span class=content>5s</span></span></code></pre>
</div>
</div>
<div class=ulist>
<ul>
<li>
<p><br>
 docker stack deploy  . 
lena-session-cluster.yaml Stack example    .</p>
</li>
</ul>
</div>
<div class=listingblock>
<div class=content>
<pre>$ docker stack deploy \
    -c lena-net.yaml \
    -c lena-manager.yaml \
    -c lena-session-cluster.yaml \
    example</pre>
</div>
</div>
<div class="admonitionblock note">
<div class=table-wrap> <table>
<tr>
<td class=icon>
<i class="fa icon-note" title=Note></i>
</td>
<td class=content>
<div class=paragraph>
<p>docker stack    /   Network  Manager Service     .</p>
</div>
</td>
</tr>
</table> </div>
</div>
<div class=ulist>
<ul>
<li>
<p> <br>
 Workload docker stack services      .</p>
</li>
</ul>
</div>
<div class=listingblock>
<div class=content>
<pre>$ docker stack services example
ID                  NAME                     MODE                REPLICAS            IMAGE                                                   PORTS
............        example_lena-session-1   replicated          1/1                 lenacloud/lena-session:1.5.0.1-centos7-jdk8-openjdk
............        example_lena-session-0   replicated          1/1                 lenacloud/lena-session:1.5.0.1-centos7-jdk8-openjdk
... (  )</pre>
</div>
</div>
</div>
<div class=sect3>
<h4 id=_server___5><a class=link href=#_server___5>5.3.4. Server  </a></h4>
<div class=paragraph>
<p>Manager  Cluster > Service Cluster   Service
Cluster    .
<span class=button>ServerList</span>
   2 Session Server   .</p>
</div>
<div class="admonitionblock note">
<div class=table-wrap> <table>
<tr>
<td class=icon>
<i class="fa icon-note" title=Note></i>
</td>
<td class=content>
<div class=paragraph>
<p>Server Manager Scheduler  ,  15   .</p>
</div>
</td>
</tr>
</table> </div>
</div>
</div>
</div>
<div class=sect2>
<h3 id=_was__2><a class=link href=#_was__2>5.4. WAS </a></h3>
<div class=sect3>
<h4 id=___4><a class=link href=#___4>5.4.1.  </a></h4>
<div class=paragraph>
<p> <a href=./040.kubernetes_based_deployment.html#kubernetes_based_deployment-application-prepare>WAS </a>   .</p>
</div>
</div>
<div class=sect3>
<h4 id=___8><a class=link href=#___8>5.4.2.  </a></h4>
<div class=sect4>
<h5 id=____8><a class=link href=#____8>  </a></h5>
<div class=paragraph>
<p>WAS Container      
.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<col style=width:28.5714%>
<col style=width:57.1428%>
<col style=width:14.2858%>
<thead>
<tr>
<th class="tableblock halign-left valign-top">  </th>
<th class="tableblock halign-left valign-top">  / </th>
<th class="tableblock halign-left valign-top"></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>N/W </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Overlay Network - Ingress</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>End Point </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>VIP</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Container Port</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>TCP : 8180</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>-</p></td>
</tr>
</tbody>
</table>
</div>
<div class=sect4>
<h5 id=____service__2><a class=link href=#____service__2>    Service </a></h5>
<div class=paragraph>
<p>  Project        
 Docker Compose   Sample   .</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<col style=width:16.6666%>
<col style=width:50%>
<col style=width:33.3334%>
<thead>
<tr>
<th class="tableblock halign-left valign-top">  </th>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top">Sample </th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Container Image</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Project Architecture    OS  JDK
  LENA Manager Image</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>lenacloud/lena-cluster:1.5.0.1-centos7-jdk8-openjdk</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Stack</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Swarm Cluster   </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>example</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Service </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Service  , Stack   
.</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>lena-was-cluster</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>replica </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Container </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Health Check</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>HttpGetAction,  Page,  Delay ,  Application
   </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>/index.jsp </p></td>
</tr>
</tbody>
</table>
<div class=paragraph>
<p>    .</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<col style=width:33.3333%>
<col style=width:50%>
<col style=width:16.6667%>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top">Sample </th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_CONFIG_TEMPLATE_ID</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Service Cluster  : Revision No</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>WAS-001:1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_MANAGER_ADDRESS</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Service Domain  : <br>
(  Manager Service )</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>lena-manager.example.local:7700</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_MANAGER_KEY</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>LENA_MANAGER_KEY : Open API Manager   </p>
</li>
<li>
<p>Manager Admin > Users   </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>( Manager   )</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_CONFIG_TEMPLATE_DOWNLOAD</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>   </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Y</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_CONTRACT_CODE</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>    </p>
</li>
<li>
<p>      </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>(   )</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_LICENSE_DOWNLOAD_URL</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>License  </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>manager()</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>JAVA_DOMAIN_CACHE_TTL</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Domain  Cache  ()</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>3 ()</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class=sect3>
<h4 id=__compose____2><a class=link href=#__compose____2>5.4.3.  (Compose )  </a></h4>
<div class=paragraph>
<p> LENA WAS   Docker Compose  ,         Project     
.</p>
</div>
<div class=listingblock>
<div class=title>LENA WAS Service (lena-was-cluster.yaml)  Example</div>
<div class=content>
<pre class="CodeRay highlight"><code data-lang=yaml><span class=key>version</span>: <span class=string><span class=delimiter>&quot;</span><span class=content>3.8</span><span class=delimiter>&quot;</span></span>

<span class=key>services</span>:
  <span class=key>lena-was-cluster</span>:
    <span class=key>image</span>: <span class=string><span class=content>lenacloud/lena-cluster:1.5.0.1-centos7-jdk8-openjdk</span></span>
    <span class=key>networks</span>:
      <span class=key>lena-net</span>:
        <span class=key>aliases</span>:
        - <span class=string><span class=content>was-cluster.example.local</span></span>
    <span class=key>ports</span>:
    - <span class=string><span class=content>target: 8180</span></span>
      <span class=key>published</span>: <span class=string><span class=content>8180</span></span>
      <span class=key>protocol</span>: <span class=string><span class=content>tcp</span></span>
      <span class=key>mode</span>: <span class=string><span class=content>ingress</span></span>
    <span class=key>environment</span>:
      <span class=key>LENA_MANAGER_ADDRESS</span>: <span class=string><span class=delimiter>&quot;</span><span class=content>lena-manager.example.local:7700</span><span class=delimiter>&quot;</span></span>
      <span class=key>LENA_MANAGER_MONITORING_PORT</span>: <span class=string><span class=delimiter>&quot;</span><span class=content>16100</span><span class=delimiter>&quot;</span></span>
      <span class=key>LENA_MANAGER_KEY</span>: <span class=string><span class=delimiter>&quot;</span><span class=content>C9PYwcu%2FDcB12IyhTrD63o2mXtnCWqV0dvnhunznedBnpRUgjVr6QeLA9zvReQqWMzbgyIHNVajoSvSuE0jANQ%3D%3D</span><span class=delimiter>&quot;</span></span>
      <span class=key>LENA_CONFIG_TEMPLATE_DOWNLOAD</span>: <span class=string><span class=delimiter>&quot;</span><span class=content>Y</span><span class=delimiter>&quot;</span></span>
      <span class=key>LENA_CONFIG_TEMPLATE_ID</span>: <span class=string><span class=delimiter>&quot;</span><span class=content>was-cluster</span><span class=delimiter>&quot;</span></span>
      <span class=key>LENA_LICENSE_DOWNLOAD_URL</span>: <span class=string><span class=delimiter>&quot;</span><span class=content>manager</span><span class=delimiter>&quot;</span></span>
      <span class=key>LENA_CONTRACT_CODE</span>: <span class=string><span class=delimiter>&quot;</span><span class=content>vvW7ebNFVjDdtasuvF1utQ==</span><span class=delimiter>&quot;</span></span>
      <span class=key>JAVA_DOMAIN_CACHE_TTL</span>: <span class=string><span class=delimiter>&quot;</span><span class=content>3</span><span class=delimiter>&quot;</span></span>
    <span class=key>deploy</span>:
      <span class=key>mode</span>: <span class=string><span class=content>replicated</span></span>
      <span class=key>replicas</span>: <span class=string><span class=content>2</span></span>
    <span class=key>healthcheck</span>:
      <span class=key>test</span>: <span class=string><span class=delimiter>&quot;</span><span class=content>curl -f http://localhost:8180/index.jsp</span><span class=delimiter>&quot;</span></span>
      <span class=key>interval</span>: <span class=string><span class=content>10s</span></span>
      <span class=key>timeout</span>: <span class=string><span class=content>5s</span></span>
      <span class=key>retries</span>: <span class=string><span class=content>3</span></span>
      <span class=key>start_period</span>: <span class=string><span class=content>20s</span></span></code></pre>
</div>
</div>
<div class=ulist>
<ul>
<li>
<p><br>
 docker stack deploy  . 
lena-was-cluster.yaml    .</p>
</li>
</ul>
</div>
<div class=listingblock>
<div class=content>
<pre class="CodeRay highlight"><code data-lang=bash>$ docker stack deploy \
    -c lena-net.yaml \
    -c lena-manager.yaml \
    -c lena-session-cluster.yaml \
    -c lena-was-cluster.yaml \
    example</code></pre>
</div>
</div>
<div class=ulist>
<ul>
<li>
<p> <br>
 Workload docker stack services      .</p>
</li>
</ul>
</div>
<div class=listingblock>
<div class=content>
<pre>$ docker stack services example
ID                  NAME                       MODE                REPLICAS            IMAGE                                                   PORTS
............        example_lena-was-cluster   replicated          2/2                 lenacloud/lena-cluster:1.5.0.1-centos7-jdk8-openjdk   *:8180-&gt;8180/tcp
... (  )</pre>
</div>
</div>
</div>
<div class=sect3>
<h4 id=_server___6><a class=link href=#_server___6>5.4.4. Server  </a></h4>
<div class=paragraph>
<p>Manager  Cluster > Service Cluster   Service
Cluster    .
<span class=button>Server List </span>
   2 WAS   .</p>
</div>
<div class="admonitionblock note">
<div class=table-wrap> <table>
<tr>
<td class=icon>
<i class="fa icon-note" title=Note></i>
</td>
<td class=content>
<div class=paragraph>
<p>Server Manager Scheduler  ,  15   .</p>
</div>
</td>
</tr>
</table> </div>
</div>
</div>
</div>
<div class=sect2>
<h3 id=_embedded_was__2><a class=link href=#_embedded_was__2>5.5. Embedded WAS </a></h3>
<div class=sect3>
<h4 id=___5><a class=link href=#___5>5.5.1.  </a></h4>
<div class=paragraph>
<p> <a href=./040.kubernetes_based_deployment.html#kubernetes_based_deployment-embedded-application-prepare>Embedded WAS </a>   .</p>
</div>
</div>
<div class=sect3>
<h4 id=___9><a class=link href=#___9>5.5.2.  </a></h4>
<div class=sect4>
<h5 id=____9><a class=link href=#____9>  </a></h5>
<div class=paragraph>
<p>WAS Container      
.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<col style=width:28.5714%>
<col style=width:57.1428%>
<col style=width:14.2858%>
<thead>
<tr>
<th class="tableblock halign-left valign-top">  </th>
<th class="tableblock halign-left valign-top">  / </th>
<th class="tableblock halign-left valign-top"></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>N/W </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Overlay Network - Ingress</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>End Point </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>VIP</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Container Port</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>TCP : 8180</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>-</p></td>
</tr>
</tbody>
</table>
</div>
<div class=sect4>
<h5 id=____service__3><a class=link href=#____service__3>    Service </a></h5>
<div class=paragraph>
<p>  Project        
 Docker Compose   Sample   .</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<col style=width:16.6666%>
<col style=width:50%>
<col style=width:33.3334%>
<thead>
<tr>
<th class="tableblock halign-left valign-top">  </th>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top">Sample </th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Container Image</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Project Architecture    OS  JDK
  LENA Manager Image</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>lenacloud/lena-embedded:1.5.0.1-centos7-jdk8-openjdk</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Stack</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Swarm Cluster   </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>example</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Service </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Service  , Stack   
.</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>lena-was-cluster</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>replica </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Container </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Health Check</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>HttpGetAction,  Page,  Delay ,  Application
   </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>/index.jsp </p></td>
</tr>
</tbody>
</table>
<div class=paragraph>
<p>    .
      <a href=./020.architecture_decision.html#architecture_decision_embedded_application_env>Embedded WAS </a>  .</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<col style=width:33.3333%>
<col style=width:50%>
<col style=width:16.6667%>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top">Sample </th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_CONFIG_TEMPLATE_ID</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Service Cluster  : Revision No</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>WAS-001:1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_MANAGER_ADDRESS</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Service Domain  : <br>
(  Manager Service )</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>lena-manager.default.svc.cluster.local:7700</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_MANAGER_MONITORING_PORT</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Manager  Port </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>16100</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_APP_FILE</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Application Jar  </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>sample-app.jar</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_APP_DIR</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Application Jar  </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>/usr/local/lena</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class=sect3>
<h4 id=__compose____3><a class=link href=#__compose____3>5.5.3.  (Compose )  </a></h4>
<div class=paragraph>
<p> LENA Embedded WAS   Docker Compose  ,         Project     
.</p>
</div>
<div class=listingblock>
<div class=title>LENA Embedded WAS Service (lena-was-embedded.yaml)  Example</div>
<div class=content>
<pre class="CodeRay highlight"><code data-lang=yaml><span class=key>version</span>: <span class=string><span class=delimiter>&quot;</span><span class=content>3.8</span><span class=delimiter>&quot;</span></span>

<span class=key>services</span>:
  <span class=key>lena-was-cluster</span>:
    <span class=key>image</span>: <span class=string><span class=content>lenacloud/lena-embedded:1.5.0.1-centos7-jdk8-openjdk</span></span>
    <span class=key>networks</span>:
      <span class=key>lena-net</span>:
        <span class=key>aliases</span>:
        - <span class=string><span class=content>was-cluster.example.local</span></span>
    <span class=key>ports</span>:
    - <span class=string><span class=content>target: 8180</span></span>
      <span class=key>published</span>: <span class=string><span class=content>8180</span></span>
      <span class=key>protocol</span>: <span class=string><span class=content>tcp</span></span>
      <span class=key>mode</span>: <span class=string><span class=content>ingress</span></span>
    <span class=key>environment</span>:
      <span class=key>LENA_CONFIG_TEMPLATE_ID</span>: <span class=string><span class=delimiter>&quot;</span><span class=content>WAS-001</span><span class=delimiter>&quot;</span></span>
      <span class=key>LENA_MANAGER_ADDRESS</span>: <span class=string><span class=delimiter>&quot;</span><span class=content>lena-manager.example.local:7700</span><span class=delimiter>&quot;</span></span>
      <span class=key>LENA_APP_FILE</span>: <span class=string><span class=delimiter>&quot;</span><span class=content>sample-app.jar</span><span class=delimiter>&quot;</span></span>
    <span class=key>deploy</span>:
      <span class=key>mode</span>: <span class=string><span class=content>replicated</span></span>
      <span class=key>replicas</span>: <span class=string><span class=content>2</span></span>
    <span class=key>healthcheck</span>:
      <span class=key>test</span>: <span class=string><span class=delimiter>&quot;</span><span class=content>curl -f http://localhost:8180/index.jsp</span><span class=delimiter>&quot;</span></span>
      <span class=key>interval</span>: <span class=string><span class=content>10s</span></span>
      <span class=key>timeout</span>: <span class=string><span class=content>5s</span></span>
      <span class=key>retries</span>: <span class=string><span class=content>3</span></span>
      <span class=key>start_period</span>: <span class=string><span class=content>20s</span></span></code></pre>
</div>
</div>
<div class=ulist>
<ul>
<li>
<p><br>
 docker stack deploy  . 
lena-was-embedded.yaml    .</p>
</li>
</ul>
</div>
<div class=listingblock>
<div class=content>
<pre class="CodeRay highlight"><code data-lang=bash>$ docker stack deploy \
    -c lena-net.yaml \
    -c lena-manager.yaml \
    -c lena-session-cluster.yaml \
    -c lena-was-embedded.yaml \
    example</code></pre>
</div>
</div>
<div class=ulist>
<ul>
<li>
<p> <br>
 Workload docker stack services      .</p>
</li>
</ul>
</div>
<div class=listingblock>
<div class=content>
<pre>$ docker stack services example
ID                  NAME                       MODE                REPLICAS            IMAGE                                                   PORTS
............        example_lena-was-embedded   replicated          2/2                 lenacloud/lena-embedded:1.5.0.1-centos7-jdk8-openjdk   *:8180-&gt;8180/tcp
... (  )</pre>
</div>
</div>
</div>
<div class=sect3>
<h4 id=_server___7><a class=link href=#_server___7>5.5.4. Server  </a></h4>
<div class=paragraph>
<p>Manager  Cluster > Service Cluster   Service
Cluster    .
<span class=button>Server List </span>
   2 WAS   .</p>
</div>
<div class="admonitionblock note">
<div class=table-wrap> <table>
<tr>
<td class=icon>
<i class="fa icon-note" title=Note></i>
</td>
<td class=content>
<div class=paragraph>
<p>Server Manager Scheduler  ,  15   .</p>
</div>
</td>
</tr>
</table> </div>
</div>
</div>
</div>
<div class=sect2>
<h3 id=_web_server__2><a class=link href=#_web_server__2>5.6. Web Server </a></h3>
<div class=sect3>
<h4 id=___6><a class=link href=#___6>5.6.1.  </a></h4>
<div class=paragraph>
<p>  <a href=./040.kubernetes_based_deployment.html#kubernetes_based_deployment-web-prepare>Web Server  </a>   .</p>
</div>
</div>
<div class=sect3>
<h4 id=___10><a class=link href=#___10>5.6.2.  </a></h4>
<div class=sect4>
<h5 id=____10><a class=link href=#____10>  </a></h5>
<div class=paragraph>
<p>Web Server Container       .</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<col style=width:28.5714%>
<col style=width:57.1428%>
<col style=width:14.2858%>
<thead>
<tr>
<th class="tableblock halign-left valign-top">  </th>
<th class="tableblock halign-left valign-top">  / </th>
<th class="tableblock halign-left valign-top"></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>N/W </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Overlay Network - Ingress</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>End Point </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>VIP</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Container Port</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>TCP : 7180</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>-</p></td>
</tr>
</tbody>
</table>
</div>
<div class=sect4>
<h5 id=____service__4><a class=link href=#____service__4>    Service </a></h5>
<div class=paragraph>
<p>  Project        
 Docker Compose   Sample   .</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<col style=width:16.6666%>
<col style=width:50%>
<col style=width:33.3334%>
<thead>
<tr>
<th class="tableblock halign-left valign-top">  </th>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top">Sample </th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Container Image</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Project Architecture    OS  JDK
  LENA Manager Image</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>lenacloud/lena-web:1.5.0.1-centos7-jdk8-openjdk</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Stack</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Swarm Cluster   </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>example</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Service </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Service  , Stack   
.</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>lena-web-cluster</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Network Alias</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Swarm Cluster N/W (Domain )</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>web-cluster.example.local</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>replica </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Container </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Health Check</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>HttpGetAction,  Page,  Delay ,  Application
   </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>/index.html </p></td>
</tr>
</tbody>
</table>
<div class=paragraph>
<p>    .</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<col style=width:20%>
<col style=width:60%>
<col style=width:20%>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top">Sample </th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_CONFIG_TEMPLATE_ID</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Service Cluster  : Revision No</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>WEB-001:1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_MANAGER_ADDRESS</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Service Domain  : <br>
(  Manager Service )</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>lena-manager.example.local:7700</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_MANAGER_KEY</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>LENA_MANAGER_KEY : Open API Manager   </p>
</li>
<li>
<p>Manager Admin > Users  </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>( Manager   )</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_CONFIG_TEMPLATE_DOWNLOAD</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>   </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Y</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_CONTRACT_CODE</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>    </p>
</li>
<li>
<p>     </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>(   )</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_LICENSE_DOWNLOAD_URL</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>  </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>manager ()</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_RUN_AGENT</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Agent </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Y</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class=sect3>
<h4 id=__compose____4><a class=link href=#__compose____4>5.6.3.  (Compose )  </a></h4>
<div class=paragraph>
<p> LENA WEB Server   Docker Compose  ,         Project      .</p>
</div>
<div class=listingblock>
<div class=title>LENA Web Service (lena-web-cluster.yaml)  Example</div>
<div class=content>
<pre class="CodeRay highlight"><code data-lang=yaml><span class=key>version</span>: <span class=string><span class=delimiter>&quot;</span><span class=content>3.8</span><span class=delimiter>&quot;</span></span>

<span class=key>services</span>:
  <span class=key>lena-web-cluster</span>:
    <span class=key>image</span>: <span class=string><span class=content>lenacloud/lena-web:1.5.0.1-centos7-jdk8-openjdk</span></span>
    <span class=key>networks</span>:
      <span class=key>lena-net</span>:
        <span class=key>aliases</span>:
        - <span class=string><span class=content>web-cluster.example.local</span></span>
    <span class=key>ports</span>:
    - <span class=string><span class=content>target: 7180</span></span>
      <span class=key>published</span>: <span class=string><span class=content>7180</span></span>
      <span class=key>protocol</span>: <span class=string><span class=content>tcp</span></span>
      <span class=key>mode</span>: <span class=string><span class=content>ingress</span></span>
    <span class=key>environment</span>:
      <span class=key>LENA_MANAGER_ADDRESS</span>: <span class=string><span class=delimiter>&quot;</span><span class=content>lena-manager.example.local:7700</span><span class=delimiter>&quot;</span></span>
      <span class=key>LENA_MANAGER_MONITORING_PORT</span>: <span class=string><span class=delimiter>&quot;</span><span class=content>16100</span><span class=delimiter>&quot;</span></span>
      <span class=key>LENA_MANAGER_KEY</span>: <span class=string><span class=delimiter>&quot;</span><span class=content>C9PYwcu%2FDcB12IyhTrD63o2mXtnCWqV0dvnhunznedBnpRUgjVr6QeLA9zvReQqWMzbgyIHNVajoSvSuE0jANQ%3D%3D</span><span class=delimiter>&quot;</span></span>
      <span class=key>LENA_CONFIG_TEMPLATE_DOWNLOAD</span>: <span class=string><span class=delimiter>&quot;</span><span class=content>Y</span><span class=delimiter>&quot;</span></span>
      <span class=key>LENA_CONFIG_TEMPLATE_ID</span>: <span class=string><span class=delimiter>&quot;</span><span class=content>web-cluster</span><span class=delimiter>&quot;</span></span>
      <span class=key>LENA_LICENSE_DOWNLOAD_URL</span>: <span class=string><span class=delimiter>&quot;</span><span class=content>manager</span><span class=delimiter>&quot;</span></span>
      <span class=key>LENA_CONTRACT_CODE</span>: <span class=string><span class=delimiter>&quot;</span><span class=content>vvW7ebNFVjDdtasuvF1utQ==</span><span class=delimiter>&quot;</span></span>
      <span class=key>LENA_AGENT_RUN</span>: <span class=string><span class=delimiter>&quot;</span><span class=content>Y</span><span class=delimiter>&quot;</span></span>
    <span class=key>deploy</span>:
      <span class=key>mode</span>: <span class=string><span class=content>replicated</span></span>
      <span class=key>replicas</span>: <span class=string><span class=content>2</span></span>
    <span class=key>healthcheck</span>:
      <span class=key>test</span>: <span class=string><span class=delimiter>&quot;</span><span class=content>curl -f http://localhost:7180/index.html</span><span class=delimiter>&quot;</span></span>
      <span class=key>interval</span>: <span class=string><span class=content>10s</span></span>
      <span class=key>timeout</span>: <span class=string><span class=content>5s</span></span>
      <span class=key>retries</span>: <span class=string><span class=content>3</span></span>
      <span class=key>start_period</span>: <span class=string><span class=content>20s</span></span></code></pre>
</div>
</div>
<div class=ulist>
<ul>
<li>
<p><br>
 docker stack deploy  . 
lena-web-cluster.yaml    .</p>
</li>
</ul>
</div>
<div class=listingblock>
<div class=content>
<pre class="CodeRay highlight"><code data-lang=bash>$ docker stack deploy \
    -c lena-net.yaml \
    -c lena-manager.yaml \
    -c lena-session-cluster.yaml \
    -c lena-was-cluster.yaml \
    -c lena-web-cluster.yaml \
    example</code></pre>
</div>
</div>
<div class=ulist>
<ul>
<li>
<p> <br>
 Workload docker stack services      .</p>
</li>
</ul>
</div>
<div class=listingblock>
<div class=content>
<pre>$ docker stack services example
ID                  NAME                       MODE                REPLICAS            IMAGE                                                   PORTS
............        example_lena-web-cluster   replicated          2/2                 lenacloud/lena-web:1.5.0.1-centos7-jdk8-openjdk   *:7180-&gt;7180/tcp
... (  )</pre>
</div>
</div>
</div>
<div class=sect3>
<h4 id=_server___8><a class=link href=#_server___8>5.6.4. Server  </a></h4>
<div class=paragraph>
<p>Manager  Cluster > Service Cluster   Service
Cluster    .
<span class=button>Server List </span>
   2 Web Server   .</p>
</div>
<div class="admonitionblock note">
<div class=table-wrap> <table>
<tr>
<td class=icon>
<i class="fa icon-note" title=Note></i>
</td>
<td class=content>
<div class=paragraph>
<p>Server Manager Scheduler  ,  15   </p>
</div>
</td>
</tr>
</table> </div>
</div>
</div>
</div>
</div>
</div>
<div class=sect1>
<h2 id=_ecs__><a class=link href=#_ecs__>6. ECS  </a></h2>
<div class=sectionbody>
<div class=paragraph>
<p>  ECS LENA   LENA    Container   . AWS
Console    . ,  ECS 
  , ECS LENA     .</p>
</div>
<div class=sect2>
<h3 id=_ecs_><a class=link href=#_ecs_>6.1. ECS </a></h3>
<div class=paragraph>
<p>ECS AWS  Container  , Docker 
EC2   Container /,  Service  Container Task  
Replica, Service Discovery, L/B, Auto-scale       .</p>
</div>
</div>
<div class=sect2>
<h3 id=___2><a class=link href=#___2>6.2.  </a></h3>
<div class=paragraph>
<p>  ECS     .</p>
</div>
<div class=ulist>
<ul>
<li>
<p>ECS Cluster  ECS </p>
</li>
<li>
<p>ECS    Docker Registry ( : ECR, Docker Hub)</p>
</li>
</ul>
</div>
<div class=paragraph>
<p> Container  Manager     ,  Manager Container /         .</p>
</div>
<div class=ulist>
<ul>
<li>
<p>EFS      </p>
</li>
</ul>
</div>
<div class=paragraph>
<p>Container  Manager  Session Server   Service Discovery    (awsvpc  EC2, Fargate  
Region)   .</p>
</div>
<div class=ulist>
<ul>
<li>
<p>ECS Service Discovery   </p>
</li>
</ul>
</div>
</div>
<div class=sect2>
<h3 id=_manager__3><a class=link href=#_manager__3>6.3. Manager </a></h3>
<div class=paragraph>
<p>ECS Manager Instance     1)  2)  Volume   .   ECS Service Discovery ELB 
 ,  Volume EFS    . 
Service Discovery EFS  Manager   .</p>
</div>
<div class=sect3>
<h4 id=ecs_based_deployment-mgr_config><a class=link href=#ecs_based_deployment-mgr_config>6.3.1.  </a></h4>
<div class=sect4>
<h5 id=____11><a class=link href=#____11>  </a></h5>
<div class=paragraph>
<p>Manager Container       .</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class=title>Table 2. ECS Manager  -  </caption>
<col style=width:25%>
<col style=width:50%>
<col style=width:25%>
<thead>
<tr>
<th class="tableblock halign-left valign-top">  </th>
<th class="tableblock halign-left valign-top">  / </th>
<th class="tableblock halign-left valign-top"></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Service </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Replica</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Replica</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>1</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Service Discovery</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Service Discovery </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Volume Mount</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock> /usr/local/lena/repository EFS </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>-</p></td>
</tr>
</tbody>
</table>
</div>
<div class=sect4>
<h5 id=___><a class=link href=#___>  </a></h5>
<div class=paragraph>
<p>  Project            Sample   .</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class=title>Table 3. ECS Manager  -   </caption>
<col style=width:33.3333%>
<col style=width:33.3333%>
<col style=width:33.3334%>
<thead>
<tr>
<th class="tableblock halign-left valign-top">  </th>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top">Sample </th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Container Image</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Project Architecture    OS  JDK
  LENA Manager Image</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>lenacloud/lena-manager:1.3.1.0_3-jdk8-openjdk</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Probe (Health Check)</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>HttpGetAction, /lena  </p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Task  Service name</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Task  Service  </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>lena-manager</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Service Namespace</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Service Domain  Suffix </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>local</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Service Discovery Name</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Service Domain  Prefix </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>lena-manager</p></td>
</tr>
</tbody>
</table>
<div class=paragraph>
<p>    .        <a href=./020.architecture_decision.html#architecture_decision_manager_env>Manager </a>  .</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class=title>Table 4. ECS Manager  - </caption>
<col style=width:33.3333%>
<col style=width:33.3333%>
<col style=width:33.3334%>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top">Sample </th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_JVM_HEAP_SIZE</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Heap Memory  </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>1024m ()</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_JVM_METASPACE_SIZE</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Metaspace Memory</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>256m ()</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_MANAGER_DOMAIN_ENABLED</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Domain Name  </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Y</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_MANAGER_ADDRESS</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Service Domain  : </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>lena-manager.local:7700</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>JAVA_DOMAIN_CACHE_TTL</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Domain  Cache  ()</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>3 ()</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class=sect3>
<h4 id=_task_><a class=link href=#_task_>6.3.2. Task </a></h4>
<div class=paragraph>
<p>Task ,  Project    ,
 Container   LENA     .
    <a href=#ecs_based_deployment-mgr_config> </a>   .</p>
</div>
<div class=sect4>
<h5 id=_task_><a class=link href=#_task_>Task </a></h5>
<div class=paragraph>
<p>Container   Task .</p>
</div>
<div class=imageblock>
<div class=content>
<img src=/resources/static/images/installation/container/ecs_based_deployment_mgr_task_definition.png alt=image width=264 height=186>
</div>
<div class=title>Figure 17. ECS Manager  - Task </div>
</div>
</div>
<div class=sect4>
<h5 id=_volume_><a class=link href=#_volume_>Volume </a></h5>
<div class=paragraph>
<p>Task  Manager Repository  EFS   .</p>
</div>
<div class=imageblock>
<div class=content>
<img src=/resources/static/images/installation/container/ecs_based_deployment_mgr_task_repository.png alt=image width=264 height=260>
</div>
<div class=title>Figure 18. ECS Manager  - Volume </div>
</div>
</div>
<div class=sect4>
<h5 id=_container_><a class=link href=#_container_>Container </a></h5>
<div class=paragraph>
<p>,   Container .</p>
</div>
<div class=imageblock>
<div class=content>
<img src=/resources/static/images/installation/container/ecs_based_deployment_mgr_task_add_container.png alt=image width=529 height=103>
</div>
<div class=title>Figure 19. ECS Manager  - Container </div>
</div>
</div>
<div class=sect4>
<h5 id=__><a class=link href=#__> </a></h5>
<div class=paragraph>
<p>Container   . Manager  Manager Service
Discovery      LENA_MANAGER_ADDRESS
 .</p>
</div>
<div class=imageblock>
<div class=content>
<img src=/resources/static/images/installation/container/ecs_based_deployment_mgr_task_env.png alt=image width=529 height=116>
</div>
<div class=title>Figure 20. ECS Manager  -  </div>
</div>
</div>
<div class=sect4>
<h5 id=_health_check_><a class=link href=#_health_check_>Health Check </a></h5>
<div class=paragraph>
<p><a href=http://localhost:7700/lena/ class=bare>http://localhost:7700/lena/</a>   Health Check  .</p>
</div>
</div>
<div class=sect4>
<h5 id=_volume_><a class=link href=#_volume_>Volume </a></h5>
<div class=paragraph>
<p>  Volume Container Directory .</p>
</div>
<div class=imageblock>
<div class=content>
<img src=/resources/static/images/installation/container/ecs_based_deployment_task_volume_mapping.png alt=image width=463 height=160>
</div>
<div class=title>Figure 21. ECS Manager  - Volume </div>
</div>
</div>
</div>
<div class=sect3>
<h4 id=_service_><a class=link href=#_service_>6.3.3. Service </a></h4>
<div class=sect4>
<h5 id=__><a class=link href=#__> </a></h5>
<div class=paragraph>
<p>  Task  /  Service .</p>
</div>
<div class=imageblock>
<div class=content>
<img src=/resources/static/images/installation/container/ecs_based_deployment_svc_def.png alt=image width=401 height=333>
</div>
<div class=title>Figure 22. ECS Manager  - Service </div>
</div>
</div>
<div class=sect4>
<h5 id=___service_discovery_><a class=link href=#___service_discovery_>  (Service Discovery) </a></h5>
<div class=paragraph>
<p>AWS ECS        (Service
Discovery)  . Manager Service Discovery  
  ,  Server      .</p>
</div>
<div class=imageblock>
<div class=content>
<img src=/resources/static/images/installation/container/ecs_based_deployment_svc_disc_def.png alt=image width=453 height=182>
</div>
<div class=title>Figure 23. ECS Manager  - Service Discovery </div>
</div>
</div>
</div>
<div class=sect3>
<h4 id=_service___><a class=link href=#_service___>6.3.4. Service   </a></h4>
<div class=paragraph>
<p>Service  Service    . ECS Cluster
      Service Task 
.</p>
</div>
<div class=sect4>
<h5 id=_service__><a class=link href=#_service__>Service  </a></h5>
<div class=imageblock>
<div class=content>
<img src=/resources/static/images/installation/container/ecs_based_deployment_svc_status.png alt=image width=529 height=178>
</div>
<div class=title>Figure 24. ECS Manager  - Service  </div>
</div>
</div>
<div class=sect4>
<h5 id=_task__><a class=link href=#_task__>Task  </a></h5>
<div class=imageblock>
<div class=content>
<img src=/resources/static/images/installation/container/ecs_based_deployment_task_status.png alt=image width=529 height=224>
</div>
<div class=title>Figure 25. ECS Manager  - Task  </div>
</div>
</div>
</div>
</div>
<div class=sect2>
<h3 id=_session_server__3><a class=link href=#_session_server__3>6.4. Session Server </a></h3>
<div class=paragraph>
<p>ECS  Session Server    .   ECS Service Discovery ELB   .  Service Discovery   Session Server   .</p>
</div>
<div class=sect3>
<h4 id=___7><a class=link href=#___7>6.4.1.  </a></h4>
<div class=paragraph>
<p> <a href=./040.kubernetes_based_deployment.html#kubernetes_based_deployment-session-prepare>Session Server  </a>   .</p>
</div>
</div>
<div class=sect3>
<h4 id=ecs_based_deployment-ses_config><a class=link href=#ecs_based_deployment-ses_config>6.4.2.  </a></h4>
<div class=sect4>
<h5 id=____12><a class=link href=#____12>  </a></h5>
<div class=paragraph>
<p>Session Server Container      
.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class=title>Table 5. ECS  Session Server  </caption>
<col style=width:33.3333%>
<col style=width:33.3333%>
<col style=width:33.3334%>
<thead>
<tr>
<th class="tableblock halign-left valign-top">  </th>
<th class="tableblock halign-left valign-top">  / </th>
<th class="tableblock halign-left valign-top"></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Service </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Replica</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Service / Replica</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Service 2,  Service  Replica 1</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Container Port</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>TCP : 5180</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Probe</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>${LENA_SERVER_HOME}/health.sh </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>-</p></td>
</tr>
</tbody>
</table>
</div>
<div class=sect4>
<h5 id=____2><a class=link href=#____2>  </a></h5>
<div class=paragraph>
<p>  Project        
 Task  Service   Sample   .</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class=title>Table 6. ECS Session Server  -   </caption>
<col style=width:25%>
<col style=width:50%>
<col style=width:25%>
<thead>
<tr>
<th class="tableblock halign-left valign-top">  </th>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top">Sample </th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Container Image</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Project Architecture    OS  JDK
  LENA Manager Image</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>lenacloud/lena-session:1.3.1.0-jdk8-openjdk</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Task  Service name</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Task  Service  </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>lena-session</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Service Namespace</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Service Domain  Suffix </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>local</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Service Discovery Name</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Service Domain  Prefix </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>lena-session</p></td>
</tr>
</tbody>
</table>
<div class=paragraph>
<p>    .     
 <a href=./020.architecture_decision.html#architecture_decision_session_env>Session Server </a>  </p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class=title>Table 7. ECS Session Server  - </caption>
<col style=width:25%>
<col style=width:50%>
<col style=width:25%>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top">Sample </th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_JVM_HEAP_SIZE</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Heap Memory  </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>1024m ()</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_CONFIG_TEMPLATE_ID</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Service Cluster  : Revision No</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>SESSION-001</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_MANAGER_ADDRESS</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Service Domain  : </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>lena-manager.local:7700</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>JAVA_DOMAIN_CACHE_TTL</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Domain  Cache  ()</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>0 ()</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_SESSION_0_ADDRESS</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Primary Session   , Service   Service Discovery      </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>lena-session-0.local:5180</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_SESSION_1_ADDRESS</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Secondary Session   , Service   Service Discovery      </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>lena-session-1.local:5180</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_SESSION_EXPIRE_SEC</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Session   ()</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>1800 ()</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_CONFIG_SHARE_SESSION</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Application  Session </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>N</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class=sect3>
<h4 id=_task__2><a class=link href=#_task__2>6.4.3. Task </a></h4>
<div class=paragraph>
<p>Task ,  Project    ,
 Container   LENA     .
    <a href=#ecs_based_deployment-ses_config></a>   .</p>
</div>
<div class=sect4>
<h5 id=_task__2><a class=link href=#_task__2>Task </a></h5>
<div class=paragraph>
<p>Container   Task .</p>
</div>
<div class=imageblock>
<div class=content>
<img src=/resources/static/images/installation/container/ecs_based_deployment_ses_task_def.png alt=image width=349 height=252>
</div>
<div class=title>Figure 26. ECS Session Server  - Task </div>
</div>
</div>
<div class=sect4>
<h5 id=_container__2><a class=link href=#_container__2>Container </a></h5>
<div class=paragraph>
<p>,   Container .</p>
</div>
<div class=imageblock>
<div class=content>
<img src=/resources/static/images/installation/container/ecs_based_deployment_ses_task_con.png alt=image width=623 height=100>
</div>
<div class=title>Figure 27. ECS Session Server  - Container </div>
</div>
</div>
<div class=sect4>
<h5 id=___2><a class=link href=#___2> </a></h5>
<div class=paragraph>
<p>Container    .</p>
</div>
<div class=imageblock>
<div class=content>
<img src=/resources/static/images/installation/container/ecs_based_deployment_ses_task_env.png alt=image width=623 height=280>
</div>
<div class=title>Figure 28. ECS Session Server  -  </div>
</div>
<div class="admonitionblock important">
<div class=table-wrap> <table>
<tr>
<td class=icon>
<i class="fa icon-important" title=Important></i>
</td>
<td class=content>
<div class=paragraph>
<p>LENA_SESSION_1_ADDRESS   Secondary Session Service Service Discovery  .</p>
</div>
</td>
</tr>
</table> </div>
</div>
</div>
</div>
<div class=sect3>
<h4 id=_service__2><a class=link href=#_service__2>6.4.4. Service </a></h4>
<div class=sect4>
<h5 id=___2><a class=link href=#___2> </a></h5>
<div class=paragraph>
<p>  Task  /  Service .</p>
</div>
<div class=imageblock>
<div class=content>
<img src=/resources/static/images/installation/container/ecs_based_deployment_ses_svc_def.png alt=image width=396 height=341>
</div>
<div class=title>Figure 29. ECS Session Server  - Service </div>
</div>
</div>
<div class=sect4>
<h5 id=___service_discovery__2><a class=link href=#___service_discovery__2>  (Service Discovery) </a></h5>
<div class=paragraph>
<p>AWS ECS        (Service
Discovery)  . Manager Service Discovery  
  ,  Server      .</p>
</div>
<div class=imageblock>
<div class=content>
<img src=/resources/static/images/installation/container/ecs_based_deployment_ses_svc_disc.png alt=image width=473 height=249>
</div>
<div class=title>Figure 30. ECS Session Server  - Service Discovery </div>
</div>
</div>
</div>
<div class=sect3>
<h4 id=_service____2><a class=link href=#_service____2>6.4.5. Service   </a></h4>
<div class=paragraph>
<p>Service  Service    . ECS Cluster
      Service Task  </p>
</div>
<div class=sect4>
<h5 id=_service___2><a class=link href=#_service___2>Service  </a></h5>
<div class=imageblock>
<div class=content>
<img src=/resources/static/images/installation/container/ecs_based_deployment_ses_svc_status.png alt=image width=529 height=172>
</div>
<div class=title>Figure 31. ECS Session Server  - Service  </div>
</div>
</div>
<div class=sect4>
<h5 id=_task___2><a class=link href=#_task___2>Task  </a></h5>
<div class=imageblock>
<div class=content>
<img src=/resources/static/images/installation/container/ecs_based_deployment_ses_task_status.png alt=image width=527 height=245>
</div>
<div class=title>Figure 32. ECS Session Server  - Task </div>
</div>
</div>
</div>
</div>
<div class=sect2>
<h3 id=_was__3><a class=link href=#_was__3>6.5. WAS </a></h3>
<div class=sect3>
<h4 id=___8><a class=link href=#___8>6.5.1.  </a></h4>
<div class=paragraph>
<p> <a href=./040.kubernetes_based_deployment.html#kubernetes_based_deployment-application-prepare>WAS </a>   .</p>
</div>
</div>
<div class=sect3>
<h4 id=ecs_based_deployment_app_config><a class=link href=#ecs_based_deployment_app_config>6.5.2.  </a></h4>
<div class=sect4>
<h5 id=____13><a class=link href=#____13>  </a></h5>
<div class=paragraph>
<p>WAS Container      
..</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class=title>Table 8. ECS WAS  -  </caption>
<col style=width:25%>
<col style=width:50%>
<col style=width:25%>
<thead>
<tr>
<th class="tableblock halign-left valign-top">  </th>
<th class="tableblock halign-left valign-top">  / </th>
<th class="tableblock halign-left valign-top"></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Service </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Replica</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Container Port</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>TCP : 8180</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>-</p></td>
</tr>
</tbody>
</table>
</div>
<div class=sect4>
<h5 id=____3><a class=link href=#____3>  </a></h5>
<div class=paragraph>
<p>  Project        
 Task  Service   Sample   .</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class=title>Table 9. ECS WAS  -   </caption>
<col style=width:25%>
<col style=width:50%>
<col style=width:25%>
<thead>
<tr>
<th class="tableblock halign-left valign-top">  </th>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top">Sample </th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Container Image</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Project Architecture    OS  JDK
  LENA Manager Image</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>lenacloud/lena-cluster:1.5.0.1-jdk8-openjdk</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Task  Service name</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Task  Service  </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>lena-was</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>label</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Service ,   Label Key: Value
.</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>type: lena-was</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Service Namespace</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Service Domain  Suffix </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>local</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Service Discovery Name</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Service Domain  Prefix </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>lena-was</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Probe (Health Check)</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock> Page,  Delay ,  Application
   </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>/ </p></td>
</tr>
</tbody>
</table>
<div class=paragraph>
<p>    .
       <a href=./020.architecture_decision.html#architecture_decision_application_env>WAS </a>  .</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class=title>Table 10. ECS WAS  - </caption>
<col style=width:25%>
<col style=width:50%>
<col style=width:25%>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top">Sample </th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_CONFIG_TEMPLATE_ID</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Service Cluster  : Revision No</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>WAS-001:1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_MANAGER_ADDRESS</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Service Domain  : 
(  Manager Service )</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>lena-manager.local:7700</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_MANAGER_KEY</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>LENA_MANAGER_KEY : Open API Manager   </p>
</li>
<li>
<p>Manager Admin > Users   </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>( Manager Administration > IAM > Users     )</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_CONFIG_TEMPLATE_DOWNLOAD</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>   </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Y</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_CONTRACT_CODE</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>    </p>
</li>
<li>
<p>     </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>(   )</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_LICENSE_DOWNLOAD_URL</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>manager</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>JAVA_DOMAIN_CACHE_TTL</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Domain  Cache  ()</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>3 ()</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class=sect3>
<h4 id=_task__3><a class=link href=#_task__3>6.5.3. Task </a></h4>
<div class=paragraph>
<p>Task ,  Project    ,  Container   LENA     .      <a href=#ecs_based_deployment_app_config> </a>   .</p>
</div>
<div class=sect4>
<h5 id=_task><a class=link href=#_task>Task</a></h5>
<div class=paragraph>
<div class=title>ECS WAS  - Task</div>
<p>Container   Task .</p>
</div>
<div class=imageblock>
<div class=content>
<img src=/resources/static/images/installation/container/ecs_based_deployment_app_task_def.png alt=image width=340 height=252>
</div>
</div>
</div>
<div class=sect4>
<h5 id=_container__3><a class=link href=#_container__3>Container </a></h5>
<div class=paragraph>
<p>,   Container .</p>
</div>
<div class=imageblock>
<div class=content>
<img src=/resources/static/images/installation/container/ecs_based_deployment_app_task_con.png alt=image width=455 height=93>
</div>
<div class=title>Figure 33. ECS WAS  - Container </div>
</div>
</div>
<div class=sect4>
<h5 id=___3><a class=link href=#___3> </a></h5>
<div class=paragraph>
<p>Container   .</p>
</div>
<div class=imageblock>
<div class=content>
<img src=/resources/static/images/installation/container/ecs_based_deployment_app_task_env.png alt=image width=553 height=238>
</div>
<div class=title>Figure 34. ECS WAS  -  </div>
</div>
</div>
</div>
<div class=sect3>
<h4 id=_service__3><a class=link href=#_service__3>6.5.4. Service </a></h4>
<div class=sect4>
<h5 id=___3><a class=link href=#___3> </a></h5>
<div class=paragraph>
<p>  Task  /  Service .</p>
</div>
<div class=imageblock>
<div class=content>
<img src=/resources/static/images/installation/container/ecs_based_deployment_app_svc_def.png alt=image width=343 height=288>
</div>
<div class=title>Figure 35. ECS WAS  - Service </div>
</div>
</div>
<div class=sect4>
<h5 id=___service_discovery__3><a class=link href=#___service_discovery__3>  (Service Discovery) </a></h5>
<div class=paragraph>
<p>AWS ECS        (Service
Discovery)  . Manager Service Discovery  
  ,  Server      .</p>
</div>
<div class=imageblock>
<div class=content>
<img src=/resources/static/images/installation/container/ecs_based_deployment_app_svc_disc.png alt=image width=456 height=241>
</div>
<div class=title>Figure 36. ECS WAS  - Service Discovery </div>
</div>
</div>
</div>
<div class=sect3>
<h4 id=_service____3><a class=link href=#_service____3>6.5.5. Service   </a></h4>
<div class=paragraph>
<p>Service  Service    . ECS Cluster
      Service Task 
.</p>
</div>
<div class=sect4>
<h5 id=_service___3><a class=link href=#_service___3>Service  </a></h5>
<div class=imageblock>
<div class=content>
<img src=/resources/static/images/installation/container/ecs_based_deployment_app_svc_status.png alt=image width=504 height=159>
</div>
<div class=title>Figure 37. ECS WAS  - Service  </div>
</div>
</div>
<div class=sect4>
<h5 id=_task___3><a class=link href=#_task___3>Task  </a></h5>
<div class=imageblock>
<div class=content>
<img src=/resources/static/images/installation/container/ecs_based_deployment_app_task_status.png alt=image width=501 height=207>
</div>
<div class=title>Figure 38. ECS WAS  - Task  </div>
</div>
</div>
</div>
</div>
<div class=sect2>
<h3 id=_embedded_was__3><a class=link href=#_embedded_was__3>6.6. Embedded WAS </a></h3>
<div class=sect3>
<h4 id=___9><a class=link href=#___9>6.6.1.  </a></h4>
<div class=paragraph>
<p> <a href=./040.kubernetes_based_deployment.html#kubernetes_based_deployment-embedded-application-prepare>Embedded WAS </a>   .</p>
</div>
</div>
<div class=sect3>
<h4 id=ecs_based_deployment_embedded_app_config><a class=link href=#ecs_based_deployment_embedded_app_config>6.6.2.  </a></h4>
<div class=sect4>
<h5 id=____14><a class=link href=#____14>  </a></h5>
<div class=paragraph>
<p>Embedded WAS Container      
..</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class=title>Table 11. ECS Embedded WAS  -  </caption>
<col style=width:25%>
<col style=width:50%>
<col style=width:25%>
<thead>
<tr>
<th class="tableblock halign-left valign-top">  </th>
<th class="tableblock halign-left valign-top">  / </th>
<th class="tableblock halign-left valign-top"></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Service </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Replica</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Container Port</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>TCP : 8180</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>-</p></td>
</tr>
</tbody>
</table>
</div>
<div class=sect4>
<h5 id=____4><a class=link href=#____4>  </a></h5>
<div class=paragraph>
<p>  Project        
 Task  Service   Sample   .</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class=title>Table 12. ECS WAS  -   </caption>
<col style=width:25%>
<col style=width:50%>
<col style=width:25%>
<thead>
<tr>
<th class="tableblock halign-left valign-top">  </th>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top">Sample </th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Container Image</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Project Architecture    OS  JDK
  LENA Manager Image</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>lenacloud/lena-embedded:1.5.0.1-jdk8-openjdk</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Task  Service name</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Task  Service  </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>lena-was</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>label</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Service ,   Label Key: Value
.</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>type: lena-was</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Service Namespace</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Service Domain  Suffix </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>local</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Service Discovery Name</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Service Domain  Prefix </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>lena-was</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Probe (Health Check)</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock> Page,  Delay ,  Application
   </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>/ </p></td>
</tr>
</tbody>
</table>
<div class=paragraph>
<p>    .
      <a href=./020.architecture_decision.html#architecture_decision_embedded_application_env>Embedded WAS </a>  .</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<col style=width:33.3333%>
<col style=width:50%>
<col style=width:16.6667%>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top">Sample </th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_CONFIG_TEMPLATE_ID</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Service Cluster  : Revision No</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>WAS-001:1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_MANAGER_ADDRESS</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Service Domain  : <br>
(  Manager Service )</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>lena-manager.default.svc.cluster.local:7700</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_MANAGER_MONITORING_PORT</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Manager  Port </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>16100</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_APP_FILE</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Application Jar  </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>sample-app.jar</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_APP_DIR</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Application Jar  </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>/usr/local/lena</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class=sect3>
<h4 id=_task__4><a class=link href=#_task__4>6.6.3. Task </a></h4>
<div class=paragraph>
<p>Task ,  Project    ,  Container   LENA     .      <a href=#ecs_based_deployment_app_config> </a>   .</p>
</div>
<div class=sect4>
<h5 id=_task_2><a class=link href=#_task_2>Task</a></h5>
<div class=paragraph>
<div class=title>ECS Embedded WAS  - Task</div>
<p>Container   Task .</p>
</div>
<div class=imageblock>
<div class=content>
<img src=/resources/static/images/installation/container/ecs_based_deployment_app_task_def.png alt=image width=340 height=252>
</div>
</div>
</div>
<div class=sect4>
<h5 id=_container__4><a class=link href=#_container__4>Container </a></h5>
<div class=paragraph>
<p>,   Container .</p>
</div>
<div class=imageblock>
<div class=content>
<img src=/resources/static/images/installation/container/ecs_based_deployment_app_task_con.png alt=image width=455 height=93>
</div>
<div class=title>Figure 39. ECS Embedded WAS  - Container </div>
</div>
</div>
<div class=sect4>
<h5 id=___4><a class=link href=#___4> </a></h5>
<div class=paragraph>
<p>Container   .</p>
</div>
<div class=imageblock>
<div class=content>
<img src=/resources/static/images/installation/container/ecs_based_deployment_app_task_env.png alt=image width=553 height=238>
</div>
<div class=title>Figure 40. ECS Embedded WAS  -  </div>
</div>
</div>
</div>
<div class=sect3>
<h4 id=_service__4><a class=link href=#_service__4>6.6.4. Service </a></h4>
<div class=sect4>
<h5 id=___4><a class=link href=#___4> </a></h5>
<div class=paragraph>
<p>  Task  /  Service .</p>
</div>
<div class=imageblock>
<div class=content>
<img src=/resources/static/images/installation/container/ecs_based_deployment_app_svc_def.png alt=image width=343 height=288>
</div>
<div class=title>Figure 41. ECS WAS  - Service </div>
</div>
</div>
<div class=sect4>
<h5 id=___service_discovery__4><a class=link href=#___service_discovery__4>  (Service Discovery) </a></h5>
<div class=paragraph>
<p>AWS ECS        (Service
Discovery)  . Manager Service Discovery  
  ,  Server      .</p>
</div>
<div class=imageblock>
<div class=content>
<img src=/resources/static/images/installation/container/ecs_based_deployment_app_svc_disc.png alt=image width=456 height=241>
</div>
<div class=title>Figure 42. ECS Embedded WAS  - Service Discovery </div>
</div>
</div>
</div>
<div class=sect3>
<h4 id=_service____4><a class=link href=#_service____4>6.6.5. Service   </a></h4>
<div class=paragraph>
<p>Service  Service    . ECS Cluster
      Service Task 
.</p>
</div>
<div class=sect4>
<h5 id=_service___4><a class=link href=#_service___4>Service  </a></h5>
<div class=imageblock>
<div class=content>
<img src=/resources/static/images/installation/container/ecs_based_deployment_app_svc_status.png alt=image width=504 height=159>
</div>
<div class=title>Figure 43. ECS WAS  - Service  </div>
</div>
</div>
<div class=sect4>
<h5 id=_task___4><a class=link href=#_task___4>Task  </a></h5>
<div class=imageblock>
<div class=content>
<img src=/resources/static/images/installation/container/ecs_based_deployment_app_task_status.png alt=image width=501 height=207>
</div>
<div class=title>Figure 44. ECS WAS  - Task  </div>
</div>
</div>
</div>
</div>
<div class=sect2>
<h3 id=_web_server__3><a class=link href=#_web_server__3>6.7. Web Server </a></h3>
<div class=sect3>
<h4 id=_><a class=link href=#_>6.7.1. </a></h4>
<div class=paragraph>
<p>  <a href=#kubernetes_based_deployment-web-prepare>Web Server  </a>   .</p>
</div>
</div>
<div class=sect3>
<h4 id=ecs_based_deployment_web_config><a class=link href=#ecs_based_deployment_web_config>6.7.2.  </a></h4>
<div class=sect4>
<h5 id=____15><a class=link href=#____15>  </a></h5>
<div class=paragraph>
<p>Web Server Container       .</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class=title>Table 13. ECS Web Server  -  </caption>
<col style=width:25%>
<col style=width:50%>
<col style=width:25%>
<thead>
<tr>
<th class="tableblock halign-left valign-top">  </th>
<th class="tableblock halign-left valign-top">  / </th>
<th class="tableblock halign-left valign-top"></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Service </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Replica</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Container Port</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>TCP : 7180</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>-</p></td>
</tr>
</tbody>
</table>
</div>
<div class=sect4>
<h5 id=____5><a class=link href=#____5>  </a></h5>
<div class=paragraph>
<p>  Project        
 ECS Task  Service   Sample   .</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class=title>Table 14. ECS Web Server  -   </caption>
<col style=width:25%>
<col style=width:50%>
<col style=width:25%>
<thead>
<tr>
<th class="tableblock halign-left valign-top">  </th>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top">Sample </th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Container Image</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Project Architecture    OS  JDK
  LENA Manager Image</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>lenacloud/lena-web:1.3.1.0_3-jdk8-openjdk</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Task  Service name</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Task ,   Task  / Hostname
Prefix .</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>lena-web</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>replica </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Container (Task) </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Probe (Health Check)</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock> Delay,  Application  
 </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>/ </p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Service Namespace</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Service Domain  Suffix </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>local</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Service Discovery Name</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Service Domain  Prefix </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>lena-web</p></td>
</tr>
</tbody>
</table>
<div class=paragraph>
<p>    .       <a href=./020.architecture_decision.html#architecture_decision_web_env>Web Server </a>  .</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class=title>Table 15. ECS Web Server  - </caption>
<col style=width:25%>
<col style=width:50%>
<col style=width:25%>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top">Sample </th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_CONFIG_TEMPLATE_ID</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Service Cluster  : Revision No</p>
</li>
<li>
<p>Revision No   Default Revision  </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>WEB-001:1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_MANAGER_ADDRESS</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Service Domain  : 
(  Manager Service )</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>lena-manager.local:7700</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_MANAGER_KEY</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>LENA_MANAGER_KEY : Open API Manager   </p>
</li>
<li>
<p>Manager Admin > Users  </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>( Manager   )</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_CONFIG_TEMPLATE_DOWNLOAD</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>   </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Y</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_CONTRACT_CODE</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>    </p>
</li>
<li>
<p>     </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>(   )</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_LICENSE_DOWNLOAD_URL</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>  </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>manager</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_RUN_AGENT</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=ulist>
<ul>
<li>
<p>Agent </p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Y</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class=sect3>
<h4 id=_task__5><a class=link href=#_task__5>6.7.3. Task </a></h4>
<div class=paragraph>
<p>Task ,  Project   , Container  
LENA     .    
 <a href=#ecs_based_deployment_web_config></a>   .</p>
</div>
<div class=sect4>
<h5 id=_task_3><a class=link href=#_task_3>Task</a></h5>
<div class=paragraph>
<p>Container   Task .</p>
</div>
<div class=imageblock>
<div class=content>
<img src=/resources/static/images/installation/container/ecs_based_deployment_web_task_def.png alt=image width=336 height=241>
</div>
<div class=title>Figure 45. ECS Web Server  - Task </div>
</div>
</div>
<div class=sect4>
<h5 id=_container__5><a class=link href=#_container__5>Container </a></h5>
<div class=paragraph>
<p>,   Container </p>
</div>
<div class=imageblock>
<div class=content>
<img src=/resources/static/images/installation/container/ecs_based_deployment_web_task_con.png alt=image width=469 height=96>
</div>
<div class=title>Figure 46. ECS Web Server  - Container </div>
</div>
</div>
<div class=sect4>
<h5 id=___5><a class=link href=#___5> </a></h5>
<div class=paragraph>
<p>Container   .</p>
</div>
<div class=imageblock>
<div class=content>
<img src=/resources/static/images/installation/container/ecs_based_deployment_web_task_env.png alt=image width=623 height=269>
</div>
<div class=title>Figure 47. ECS Web Server  -  </div>
</div>
</div>
</div>
<div class=sect3>
<h4 id=_service__5><a class=link href=#_service__5>6.7.4. Service </a></h4>
<div class=sect4>
<h5 id=___5><a class=link href=#___5> </a></h5>
<div class=paragraph>
<p>  Task  /  Service .</p>
</div>
<div class=imageblock>
<div class=content>
<img src=/resources/static/images/installation/container/ecs_based_deployment_web_svc_def.png alt=image width=341 height=252>
</div>
<div class=title>Figure 48. ECS Web Server  - Service </div>
</div>
</div>
<div class=sect4>
<h5 id=___service_discovery__5><a class=link href=#___service_discovery__5>  (Service Discovery) </a></h5>
<div class=paragraph>
<p>Web Server ELB  Service Discovery    
     Web    .</p>
</div>
<div class=imageblock>
<div class=content>
<img src=/resources/static/images/installation/container/ecs_based_deployment_web_svc_disc.png alt=image width=342 height=181>
</div>
<div class=title>Figure 49. ECS Web Server  - Service Discovery </div>
</div>
</div>
</div>
<div class=sect3>
<h4 id=_service____5><a class=link href=#_service____5>6.7.5. Service   </a></h4>
<div class=paragraph>
<p>Service  Service    . ECS Cluster
      Service Task 
.</p>
</div>
<div class=sect4>
<h5 id=_service___5><a class=link href=#_service___5>Service  </a></h5>
<div class=imageblock>
<div class=content>
<img src=/resources/static/images/installation/container/ecs_based_deployment_web_svc_status.png alt=image width=454 height=131>
</div>
<div class=title>Figure 50. ECS Web Server  - Service  </div>
</div>
</div>
<div class=sect4>
<h5 id=_task___5><a class=link href=#_task___5>Task  </a></h5>
<div class=imageblock>
<div class=content>
<img src=/resources/static/images/installation/container/ecs_based_deployment_web_task_status.png alt=image width=454 height=196>
</div>
<div class=title>Figure 51. ECS Web Server  - Task  </div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class=sect1>
<h2 id=_vmhost__><a class=link href=#_vmhost__>7. VM/Host  </a></h2>
<div class=sectionbody>
<div class=sect2>
<h3 id=_><a class=link href=#_>7.1. </a></h3>
<div class=paragraph>
<p>      , Manager  Node
Agent   .    Manager Web UI 
 ,   Web UI    , 
   .</p>
</div>
</div>
<div class=sect2>
<h3 id=_lena_><a class=link href=#_lena_>7.2. LENA </a></h3>
<div class=paragraph>
<p>LENA  gzip ,      
 (${LENA_HOME} )  .   
/engn001/lena/1.3/ .</p>
</div>
<div class=listingblock>
<div class=title>LENA </div>
<div class=content>
<pre class="CodeRay highlight"><code data-lang=bash>[engn001]#
[engn001]# tar -xzvf lena-1.3.x.tar.gz</code></pre>
</div>
</div>
<div class=paragraph>
<p>       .</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class=title>Table 16. LENA   </caption>
<col style=width:25%>
<col style=width:50%>
<col style=width:25%>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Scripts</th>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top"></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>lena-[].tar.gz</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Web/Application    Application
Server, Web Server, Session Server    </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>lena-1.3.x.tar.gz</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>lena-enterprise-[].tar.gz</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=paragraph>
<p>Enterprise  WAS </p>
</div>
<div class=paragraph>
<p>Enterprise  Session Server </p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>lena-enterprise-1.3.x.tar.gz</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>lena-standard-[].tar.gz</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Standard  WAS
</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>lena-standard-1.3.x.tar.gz</p></td>
</tr>
</tbody>
</table>
</div>
<div class=sect2>
<h3 id=__><a class=link href=#__>7.3.  </a></h3>
<div class=paragraph>
<p>LENA    . LENA    .</p>
</div>
<div class=paragraph>
<p>${LENA_HOME}    .</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class=title>Table 17.  </caption>
<col style=width:25%>
<col style=width:50%>
<col style=width:25%>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong></strong></th>
<th class="tableblock halign-left valign-top"><strong></strong></th>
<th class="tableblock halign-left valign-top"><strong></strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>bin</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=paragraph>
<p>Node Agent Manager Start/Stop scripts,</p>
</div>
<div class=paragraph>
<p>install scripts </p>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>conf</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Node Agent, Manager  </p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>database</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>     </p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>depot</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>  Local Repository</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>etc</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>     </p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>license</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>License   </p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>logs</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Node Agent / Manager </p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>modules</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=paragraph>
<p>    </p>
</div>
<div class=paragraph>
<p>(lena-node-agent, lena-installer, lena-manager )</p>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>servers</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Server  </p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>tmp</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
<div class=paragraph>
<p>  Scripts   . (${LENA_HOME}/bin  )</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class=title>Table 18.  Script </caption>
<col style=width:25%>
<col style=width:50%>
<col style=width:25%>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Scripts</th>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top"></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>install.sh</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>    script</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>web-compile.sh</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Web Server   script</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>web-package-install.sh</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Web Server     
 script</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Linux only, root  </p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>crypt.sh</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=paragraph>
<p>Datasource  Password   </p>
</div>
<div class=paragraph>
<p>(    )</p>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>env-manager.sh</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Manager  </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Manager </p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>start-manager.sh</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Manager </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Manager </p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>stop-manager.sh</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Manager </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Manager </p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>ps-manager.sh</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Manager  </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Manager </p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>start-agent.sh</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Node Agent </p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>stop-agent.sh</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Node Agent </p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>ps-agent.sh</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Node Agent  </p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
<div class=paragraph>
<p>   . (${LENA_HOME}/conf  )</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class=title>Table 19.   </caption>
<col style=width:25%>
<col style=width:50%>
<col style=width:25%>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Config File</th>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top"></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>manager.conf</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Manager  </p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>agent.conf</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Node Agent  </p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class=sect2>
<h3 id=_manager_><a class=link href=#_manager_>7.4. Manager </a></h3>
<div class=paragraph>
<p> LENA Web Server, WAS Session Server,
Node/Server    Status  Agent 
 Manager .</p>
</div>
<div class=sect3>
<h4 id=_manager__2><a class=link href=#_manager__2>7.4.1. Manager </a></h4>
<div class=paragraph>
<p>Manager install.sh     .</p>
</div>
<div class="olist arabic">
<ol class=arabic start=1>
<li>
<p>${LENA_HOME}/bin/install.sh create lena-manager</p>
</li>
<li>
<p>Service Port  . (default: 7700)</p>
</li>
<li>
<p>    port  .   , Manager    port . (default: 16100)</p>
</li>
<li>
<p>Manager  OS . (default:  
)</p>
</li>
</ol>
</div>
<div class=listingblock>
<div class=title>LENA Manager </div>
<div class=content>
<pre class="CodeRay highlight"><code data-lang=bash>[bin]$ ./install.sh create lena-manager
*******************************
* LENA Server Install !       *
*******************************
+-------------------------------------------------------------------------------------
| 1. SERVICE_PORT is the port number used by Manager.
|    ex : 7700
| 2. MONITORING_PORT is the port number used by Manager for monitoring.
|    ex : 16100
| 3. RUN_USER is user running Argo Manager.
|    ex : tomat
+-------------------------------------------------------------------------------------
Input SERVICE_PORT for installation. (q:quit)
Default value is '7700'

Input MONITORING_PORT for installation. (q:quit)
Default value is '16100'

Input RUN_USER for installation. (q:quit)
Default value is 'lena'

========================= Execution Result ========================
LENA_HOME : /engn001/lena/1.3
JAVA_HOME : /engn001/java/jdk1.8.0_191
SERVER_ID : lena-manager
SERVICE_PORT : 7700
MONITORING_PORT : 16100
INSTALL_PATH : /engn001/lena/1.3/modules/lena-manager
RESULT : Success
MESSAGE : create succeeded
===================================================================

Execution is completed.!!
[bin]$</code></pre>
</div>
</div>
<div class="admonitionblock note">
<div class=table-wrap> <table>
<tr>
<td class=icon>
<i class="fa icon-note" title=Note></i>
</td>
<td class=content>
<div class=paragraph>
<p>     , Manager   .</p>
</div>
</td>
</tr>
</table> </div>
</div>
</div>
<div class=sect3>
<h4 id=_manager_><a class=link href=#_manager_>7.4.2. Manager </a></h4>
<div class=paragraph>
<p>Manager    .</p>
</div>
<div class="olist arabic">
<ol class=arabic>
<li>
<p>start-manager.sh  .</p>
</li>
</ol>
</div>
<div class=listingblock>
<div class=title>LENA Manager </div>
<div class=content>
<pre class="CodeRay highlight"><code data-lang=bash>[bin]$ ./start-manager.sh
--------------------------------
            LENA Manager
--------------------------------
Using LENA_HOME :   /engn001/lena/1.3
Using JRE_HOME :    /engn001/java/jdk1.8.0_191
Using SERVER_PID :  /engn001/lena/1.3/modules/lena-manager/lena-manager_solmanager.pid
Using SERVER_HOME : /engn001/lena/1.3/modules/lena-manager
Using SERVER_ID :   lena-manager
Using INSTANCE_NAME : lena-manager_solmanager
LENA started.
[bin]$</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class=arabic start=2>
<li>
<p>http://[Manager IP]:7700     .(: admin/!admin1234)</p>
</li>
</ol>
</div>
<div class=imageblock>
<div class=content>
<img src=/resources/static/images/installation/container/vmhost_based_deployment_login.png alt=image width=535 height=307>
</div>
<div class=title>Figure 52. LENA Manager </div>
</div>
<div class="olist arabic">
<ol class=arabic start=3>
<li>
<p>stop-manager.sh      .</p>
</li>
</ol>
</div>
<div class=listingblock>
<div class=title>LENA Manager </div>
<div class=content>
<pre class="CodeRay highlight"><code data-lang=bash>[bin]$ ./stop-manager.sh
--------------------------------
           LENA Manager
--------------------------------
Using LENA_HOME : /engn001/lena/1.3
Using JRE_HOME: /engn001/java/jdk1.8.0_191
Using SERVER_PID: /engn001/lena/1.3/modules/lena-manager/lena-manager_solmanager.pid
Using SERVER_HOME : /engn001/lena/1.3/modules/lena-manager
Using SERVER_ID : lena-manager
Using INSTANCE_NAME : lena-manager_solmanager
LENA stopped.
##### lena-manager_solmanager successfully shut down ######
[bin]$</code></pre>
</div>
</div>
</div>
</div>
<div class=sect2>
<h3 id=_node_agent_><a class=link href=#_node_agent_>7.5. Node Agent </a></h3>
<div class=paragraph>
<p>Node Agent Node, Server      Agent .
Node Agent LENA   , Node  
  Agent  . Node Agent
Web/Application/Session Server       
.</p>
</div>
<div class=sect3>
<h4 id=_node_agent__2><a class=link href=#_node_agent__2>7.5.1. Node Agent </a></h4>
<div class=paragraph>
<p>${LENA_HOME}/bin/start-agent.sh  . JAVA_HOME 
 , terminal JAVA_HOME    .
, JAVA_HOME   agent .</p>
</div>
<div class=listingblock>
<div class=content>
<pre class="CodeRay highlight"><code data-lang=bash>[bin]# ./start-agent.sh
Input JAVA_HOME path for LENA. ( q: quit )
JAVA_HOME PATH :
/engn001/java/jdk1.8.0_191
Input Agent port for LENA Agent. ( q: quit )
Agent port (Default : 16800):
Input Agent user for LENA Agent. ( q: quit )
Agent user (Default : root):
root

--------------------------------
            LENA Agent
--------------------------------
Using LENA_HOME : /engn001/lena/1.3
Using JAVA_HOME : /engn001/java/jdk1.8.0_191/jre
Using CONF_FILE : /engn001/lena/1.3/conf/agent.conf
Using LOG_HOME : /engn001/lena/1.3/logs/lena-agent
Using RUN_USER : root
Using PORT : 16800
Using UUID : d03ddd60-de12-35df-9ea1-a409a3085eeb
LENA Agent is started.
[bin]#</code></pre>
</div>
</div>
</div>
<div class=sect3>
<h4 id=_node_agent___><a class=link href=#_node_agent___>7.5.2. Node Agent   </a></h4>
<div class=paragraph>
<p>${LENA_HOME}/bin/ps-agent.sh     Process
 .</p>
</div>
<div class=listingblock>
<div class=content>
<pre class="CodeRay highlight"><code data-lang=bash>[bin]$ ./ps-agent.sh
lena     24208      1 62 14:00 ?      00:00:03 /engn001/java/jdk1.8.0_191/bin/java -Xms64m -Xmx256m -Dlena.home=/engn001/lena/1.3 -Dlog.home=/engn001/lena/1.3/logs/lena-agent -Dpatch.log.home=/engn001/lena/1.3/logs/lena-patcher -Djava.library.path=:/engn001/lena/1.3/modules/lena-agent/lib/sigar -Djava.net.preferIPv4Stack=true -cp .::/engn001/lena/1.3/modules/lena-agent/lib/bcprov-jdk15on-1.55.jar:/engn001/lena/1.3/modules/lena-agent/lib/lena-agent-1.3.0.jar:/engn001/lena/1.3/modules/lena-agent/lib:/engn001/java/jdk1.8.0_191/lib/tools.jar argo.node.agent.server.NodeAgentServer -start
[bin]$</code></pre>
</div>
</div>
</div>
<div class=sect3>
<h4 id=_node_agent_><a class=link href=#_node_agent_>7.5.3. Node Agent </a></h4>
<div class=paragraph>
<p>stop-agent.sh    .</p>
</div>
<div class=listingblock>
<div class=content>
<pre class="CodeRay highlight"><code data-lang=bash>[bin]$ ./stop-agent.sh
--------------------------------
            LENA Agent
--------------------------------
Using LENA_HOME : /engn001/lena/1.3
Using JAVA_HOME : /engn001/java/jdk1.8.0_191/jre
Using CONF_FILE : /engn001/lena/1.3/conf/agent.conf
Using LOG_HOME : /engn001/lena/1.3/logs/lena-agent
Using RUN_USER : lena
Using PORT : 16800
Using UUID : 0d5f6a4a-1084-4bac-ad8c-70b67bf3e495
LENA Agent is stopped normally.
[bin]$</code></pre>
</div>
</div>
</div>
</div>
<div class=sect2>
<h3 id=_session_server__web_ui_><a class=link href=#_session_server__web_ui_>7.6. Session Server  (WEB UI )</a></h3>
<div class=paragraph>
<p>Session Server    . Node  Session
Server , ,  ,   Shell  
.</p>
</div>
<div class=imageblock>
<div class=content>
<img src=/resources/static/images/installation/container/vmhost_based_deployment_session.png alt=image width=623 height=147>
</div>
<div class=title>Figure 53. Session Server </div>
</div>
<div class=paragraph>
<p>Session Server   . (*)  </p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class=title>Table 20. Session Server </caption>
<col style=width:25%>
<col style=width:50%>
<col style=width:25%>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top"></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Status</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Session Server </p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Name(*)</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Session Server </p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>IP(*)</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Session Server IP</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Server ID</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Session Server Identifier</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Port</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Service </p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Server Type</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Session Server </p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Start/Stop</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Server   </p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock><span class=icon>+ </span></p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock><span class=button>Register </span>  <span class=button>() </span>    Server    </p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock><span class=icon>- </span></p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock><span class=button>() </span>   
Server  </p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
<div class=sect3>
<h4 id=_session_server_><a class=link href=#_session_server_>7.6.1. Session Server </a></h4>
<div class="olist arabic">
<ol class=arabic start=1>
<li>
<p><span class=button>Install </span>  .</p>
</li>
</ol>
</div>
<div class=imageblock>
<div class=content>
<img src=/resources/static/images/installation/container/vmhost_based_deployment_ses_install.png alt=image width=413 height=304>
</div>
<div class=title>Figure 54. Session Server   </div>
</div>
<div class="olist arabic">
<ol class=arabic start=2>
<li>
<p>Server ID Service Port, Secondary Server IP/Port .</p>
</li>
<li>
<p>'Save'   .</p>
</li>
</ol>
</div>
<div class="admonitionblock note">
<div class=table-wrap> <table>
<tr>
<td class=icon>
<i class="fa icon-note" title=Note></i>
</td>
<td class=content>
<div class=ulist>
<ul>
<li>
<p>Node     Manager       . (console  )</p>
</li>
<li>
<p>ID  , Register    .</p>
</li>
<li>
<p>Manager IP Node host IP  .      IP   IP     .  Manager IP   .</p>
</li>
</ul>
</div>
</td>
</tr>
</table> </div>
</div>
</div>
<div class=sect3>
<h4 id=_server_><a class=link href=#_server_>7.6.2. Server </a></h4>
<div class="olist arabic">
<ol class=arabic>
<li>
<p><span class=button>Stop </span>   Server .</p>
</li>
<li>
<p><span class=button>Start </span>   Server .</p>
</li>
</ol>
</div>
<div class="admonitionblock note">
<div class=table-wrap> <table>
<tr>
<td class=icon>
<i class="fa icon-note" title=Note></i>
</td>
<td class=content>
<div class=paragraph>
<p>      .</p>
</div>
</td>
</tr>
</table> </div>
</div>
</div>
<div class=sect3>
<h4 id=_server_><a class=link href=#_server_>7.6.3. Server </a></h4>
<div class="olist arabic">
<ol class=arabic>
<li>
<p><span class=button>() </span>   Server    .</p>
</li>
<li>
<p><span class=button>Save </span>  .</p>
</li>
<li>
<p>OK  Manager DB    , Cancel  Manager DB  .</p>
</li>
</ol>
</div>
</div>
<div class=sect3>
<h4 id=_server_><a class=link href=#_server_>7.6.4. Server </a></h4>
<div class=paragraph>
<p>Console    Manager  , Server   .</p>
</div>
<div class="olist arabic">
<ol class=arabic>
<li>
<p><span class=button>+Register </span>  .</p>
</li>
<li>
<p>  .</p>
</li>
</ol>
</div>
<div class=imageblock>
<div class=content>
<img src=/resources/static/images/installation/container/vmhost_based_deployment_ses_regist.png alt=image width=623 height=146>
</div>
<div class=title>Figure 55. Session Server  Server  </div>
</div>
<div class="olist arabic">
<ol class=arabic start=3>
<li>
<p><span class=button>Save </span>   ..</p>
</li>
</ol>
</div>
</div>
</div>
<div class=sect2>
<h3 id=_session_server__cli_><a class=link href=#_session_server__cli_>7.7. Session Server  (CLI )</a></h3>
<div class=sect3>
<h4 id=_session_server__2><a class=link href=#_session_server__2>7.7.1. Session Server </a></h4>
<div class=paragraph>
<p>Session Server Embedded Standalone . Embedded 
 Application        ,
Standalone    install.sh     .</p>
</div>
<div class="olist arabic">
<ol class=arabic>
<li>
<p>${LENA_HOME}/bin/install.sh create lena-session</p>
</li>
</ol>
</div>
<div class=listingblock>
<div class=title>Session Server </div>
<div class=content>
<pre class="CodeRay highlight"><code data-lang=bash>[bin]$ ./install.sh create lena-session
*******************************
* LENA Server Install !       *
*******************************
+-------------------------------------------------------------------------------------
| 1. SERVER_ID means business code of system and its number of letter is
from 3 to 5.
|    ex : tom1, tc01, svr01
| 2. SERVICE_PORT is the port number used by Session Server.
|    ex : 8080
| 3. SECONDARY_SERVER_IP is the ip number communicate with Secondary Session Server
|    ex : 127.0.0.1
| 4. SECONDARY_SERVICE_PORT is the port number used by Secondary Session
Server.
|    ex : 8080
| 5. RUN_USER is user running Session Server
|    ex : tomat, apahe
| 6. INSTALL_ROOT_PATH is is server root directory in filesystem.
|    ex : /ssw, /sw/server, /ssw/was
+-------------------------------------------------------------------------------------</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class=arabic start=2>
<li>
<p> </p>
<div class=ulist>
<ul>
<li>
<p> default ,         .</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class=listingblock>
<div class=title>Session Server    </div>
<div class=content>
<pre class="CodeRay highlight"><code data-lang=bash>Input SERVER_ID for installation. (q:quit)
tm-session1
Input SERVICE_PORT for installation. (q:quit)
Default value is '5000'
5005
Input SECONDARY_SERVER_IP for installation. (q:quit)
127.0.0.1
Input SECONDARY_SERVICE_PORT for installation. (q:quit)
Default value is '5001'
5006
Input RUN_USER for installation. (q:quit)
Default value is 'lena'

Input INSTALL_ROOT_PATH for installation. (q:quit)
Default value is '/engn001/lena-1.3.0/tmservers'

 ========================= Execution Result =======================
LENA_HOME : /engn001/lena/1.3
JAVA_HOME : /engn001/java/jdk1.8.0_191/jre
SERVER_ID : tm-session1
SERVICE_PORT : 5005
SECONDARY_SERVER_IP : 127.0.01
SECONDARY_SERVICE_PORT : 5006
RUN_USER : lena
INSTALL_PATH : /engn001/lena/1.2/servers/session1
RESULT : Success
MESSAGE : create succeeded
 ===================================================================

create is completed.!!
[bin]$</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class=title>Table 21. Session Server   </caption>
<col style=width:25%>
<col style=width:50%>
<col style=width:25%>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top"></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>SERVER_ID</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Session Server ID</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>SERVICE_PORT</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Session Server </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Default: 5000</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>SECONDARY_SERVER_IP</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Secondary Server IP</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>SECONDARY_SERVICE_PORT</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Secondary Server </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Default: 5001</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>RUN_USER</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Session Server   </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Default: 
 </p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>INSTALL_ROOT_PATH</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Session Server   </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Default:
${LENA_HOME}/tmservers</p></td>
</tr>
</tbody>
</table>
<div class=ulist>
<ul>
<li>
<p>$INSTALL_ROOT_PATH/tmservers/SERVICE_ID Directory .</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<div class=table-wrap> <table>
<tr>
<td class=icon>
<i class="fa icon-note" title=Note></i>
</td>
<td class=content>
<div class=paragraph>
<p>install.sh    Session Server , N     install.sh N  .</p>
</div>
</td>
</tr>
</table> </div>
</div>
</div>
<div class=sect3>
<h4 id=_session_server_><a class=link href=#_session_server_>7.7.2. Session Server </a></h4>
<div class=paragraph>
<p>Session Server    .</p>
</div>
<div class="olist arabic">
<ol class=arabic>
<li>
<p>Session Server   start.sh  .</p>
</li>
</ol>
</div>
<div class=listingblock>
<div class=title>Session Server </div>
<div class=content>
<pre class="CodeRay highlight"><code data-lang=bash>[tm-session1]$ ./start.sh
--------------------------------
Start Session Server
--------------------------------
Using LENA_HOME : /engn001/lena/1.3
Using SERVER_HOME : /engn001/lena/1.3/servers/tm-session1
Using SERVER_ID : tm-session1
Using JAVA_HOME : /engn001/java/jdk1.8.0_191

Session Server Started..
[tm-session1]$</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class=arabic start=2>
<li>
<p>ps.sh     .</p>
</li>
</ol>
</div>
<div class=listingblock>
<div class=title>Session Server   </div>
<div class=content>
<pre class="CodeRay highlight"><code data-lang=bash>[tm-session1]$ ./ps.sh

lena 16232     1     1 09:56 pts/7 00:00:00 /engn001/java/jdk1.8.0_191/bin/java -Xmx1024m -Dzodiac.name=session_5105 -Dzodiac.logdir=/engn001/lena/1.3/logs/session-server -cp .::/engn001/lena/leesyong/1.2/servers/tm-session1/lib/lena-session-common-1.2.0.jar:/engn001/lena/leesyong/1.2/servers/tm-session1/lib/lena-session-server-1.2.0.jar -Dzodiac.config=session.conf zodiac.server.Main

[tm-session1]$</code></pre>
</div>
</div>
<div class="olist arabic">
<div class=title>Session Server </div>
<ol class=arabic start=3>
<li>
<p>stop.sh     .</p>
</li>
</ol>
</div>
<div class=listingblock>
<div class=content>
<pre>[tm-session1]$ ./stop.sh
--------------------------------
Stop Session Server
--------------------------------
Using LENA_HOME : /engn001/lena/1.3
Using SERVER_HOME : /engn001/lena/1.3/servers/tm-session1
Using SERVER_ID : tm-session1
Using JAVA_HOME : /engn001/java/jdk1.8.0_191

Session Server Stoped..
[tm-session1]$</pre>
</div>
</div>
</div>
<div class=sect3>
<h4 id=_session_server_><a class=link href=#_session_server_>7.7.3. Session Server </a></h4>
<div class=paragraph>
<p>     Uninstall  .</p>
</div>
<div class=paragraph>
<p>LENA     xml  . ,
directory   , install.sh   Uninstall
 .</p>
</div>
<div class="olist arabic">
<ol class=arabic>
<li>
<p>install.sh  </p>
<div class=ulist>
<ul>
<li>
<p>Session Server : ${LENA_HOME}/bin/install.sh delete lena-session</p>
</li>
<li>
<p>Manager : ${LENA_HOME}/bin/install.sh delete lena-manager</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class=listingblock>
<div class=title>Session Server </div>
<div class=content>
<pre class="CodeRay highlight"><code data-lang=bash>[lena@RNDTOMCAT1V bin]$ ./install.sh delete tm-session
*******************************
* LENA Server Install !       *
*******************************
+-------------------------------------------------------------------------------------
| 1. SERVER_ID : Server'id to delete
+-------------------------------------------------------------------------------------
Input SERVER_ID for installation. (q:quit)
tm-session
========================= Execution Result ========================
LENA_HOME : /engn001/lena/1.3
JAVA_HOME : /engn001/java/jdk1.8.0_191/jre
SERVER_ID : lenawas2
DELETE_PATH : /engn001/lena/1.3/servers/tm-session
RESULT : Success
MESSAGE : delete succeeded
===================================================================

delete is completed.!!

[bin]$</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class=arabic start=2>
<li>
<p> </p>
</li>
</ol>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class=title>Table 22. Session Server   </caption>
<col style=width:20%>
<col style=width:40%>
<col style=width:40%>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top"></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>SERVER_ID</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Uninstall Server ID</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Manager  id lena-manager
 ,  Server ID   .</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock important">
<div class=table-wrap> <table>
<tr>
<td class=icon>
<i class="fa icon-important" title=Important></i>
</td>
<td class=content>
<div class=paragraph>
<p>LENA     xml  .
, directory   , install.sh   Uninstall .</p>
</div>
</td>
</tr>
</table> </div>
</div>
</div>
</div>
</div>
</div>
<div class=sect1>
<h2 id=_><a class=link href=#_>8. </a></h2>
<div class=sectionbody>
<div class=sect2>
<h3 id=_lena__spec_><a class=link href=#_lena__spec_>8.1. LENA  Spec </a></h3>
<table class="tableblock frame-all grid-all stretch">
<caption class=title>Table 23. LENA  Spec</caption>
<col style=width:60%>
<col style=width:20%>
<col style=width:20%>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>Specification</strong></th>
<th class="tableblock halign-left valign-top"><strong>Version</strong></th>
<th class="tableblock halign-left valign-top"><strong></strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Java Development Kit (JDK)</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>1.8~</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Java Servlet</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>3.1</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Java Server Pages (JSP)</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Expression Language (EL)</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>2.2</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>JavaServer Pages Standard Tag Library (JSTL)</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>1.2</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Enterprise JavaBeans (EJB)</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>3.2</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Java Message Service (JMS)</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>1.1</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Java Transaction API (JTA)</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>1.2</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Java API for RESTful Services (JAX-RS)</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>2.0</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Java API for XML Web Services (JAX-WS)</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>2.2</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class=sect2>
<h3 id=_manager_db_><a class=link href=#_manager_db_>8.2. Manager DB </a></h3>
<div class=paragraph>
<p>Manager    HSQL DB  (1)
  . 
${LENA_HOME}/repository/backup/lena-manager/script .</p>
</div>
<div class=paragraph>
<p> 30      
  , ${LENA_HOME}/conf   manager.conf 
, dbbackup.size=    Manager   
  .</p>
</div>
</div>
<div class=sect2>
<h3 id=_manager___><a class=link href=#_manager___>8.3. Manager   </a></h3>
<div class=paragraph>
<p>Manager       
.   Action Trace  Server History .</p>
</div>
<div class=paragraph>
<p> Action Trace 30 , Server History 
90  .     
${LENA_HOME}/repository/conf   manager.conf  ,
actiontrace.size=, serverhistory.size=  
Manager      .</p>
</div>
</div>
<div class=sect2>
<h3 id=_manager__admin__><a class=link href=#_manager__admin__>8.4. Manager  admin  </a></h3>
<div class=paragraph>
<p>Manager admin    
  console    .</p>
</div>
<div class="olist arabic">
<ol class=arabic>
<li>
<p>Manager   console(telnet or ssh) .</p>
</li>
<li>
<p>$LENA_HOME/bin/reset_manager_pw.sh  .</p>
</li>
<li>
<p>   user admin .</p>
</li>
<li>
<p>  . ,  8,
//  .   
console  .</p>
</li>
</ol>
</div>
<div class=listingblock>
<div class=title>Manager admin  </div>
<div class=content>
<pre class="CodeRay highlight"><code data-lang=bash>[bin]$ ./reset-manager-pw.sh
*******************************
* LENA Server Install !       *
*******************************
+-------------------------------------------------------------------------------
| 1. USER_ID is the user id to reset
| ex : admin
| 2. NEW_PASSWORD is the password to change
| - password rule #1 : more than 8 length
| - password rule #2 : inclusion of one or more alphabet characters
| - password rule #3 : inclusion of one or more numerical digits
| - password rule #4 : inclusion of one or more special characters
+-------------------------------------------------------------------------------
Input USER_ID for installation. (q:quit)
administrator
Input NEW_PASSWORD for installation. (q:quit)

The password has been changed successfuly.
Execution is completed.!!s</code></pre>
</div>
</div>
</div>
<div class=sect2>
<h3 id=_lena___oscentos><a class=link href=#_lena___oscentos>8.5. LENA   OS(CentOS)</a></h3>
<div class=paragraph>
<p>LENA   OS max user processes  8192 
 .</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class=title>Table 24.  OS (CentOS )</caption>
<col style=width:33.3333%>
<col style=width:33.3333%>
<col style=width:33.3334%>
<thead>
<tr>
<th class="tableblock halign-left valign-top">parameter</th>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top"></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>max user processes</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>8192<br></p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>1024</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>open files</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>8192<br></p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>1024</p></td>
</tr>
</tbody>
</table>
<div class=paragraph>
<p>CentOS max user processes    ulimit a
     .</p>
</div>
<div class=listingblock>
<div class=title>OS  max user processes  (CentOS )</div>
<div class=content>
<pre class="CodeRay highlight"><code data-lang=bash>$ ulimit -a +
core file size (blocks, -c) 0 +
data seg size (kbytes, -d) unlimited +
scheduling priority (-e) 0 +
file size (blocks, -f) 8192 +
pending signals (-i) 14891 +
max locked memory (kbytes, -l) 64 +
max memory size (kbytes, -m) unlimited +
open files (-n) 1024 +
pipe size (512 bytes, -p) 8 +
POSIX message queues (bytes, -q) 819200 +
real-time priority (-r) 0 +
stack size (kbytes, -s) 10240 +
cpu time (seconds, -t) unlimited +
max user processes (-u) 1024 +
virtual memory (kbytes, -v) unlimited +
file locks (-x) unlimited</code></pre>
</div>
</div>
<div class=paragraph>
<p>CentOS   ulimit u ulimit n  
    .    
   profile (.profile, .bash_profile) ulimit 
,     (CentOS ).</p>
</div>
<div class=listingblock>
<div class=title>OS   -      (CentOS )</div>
<div class=content>
<pre class="CodeRay highlight"><code data-lang=bash>$ cat $HOME/.bash_profile*
.. ()*
ulimit -u 8192*
ulimit -n 8192*</code></pre>
</div>
</div>
<div class=paragraph>
<p>    /etc/security/limits.conf (CentOS ) 
  (nproc)  (nofile) .</p>
</div>
<div class=listingblock>
<div class=title>OS   -      (CentOS )</div>
<div class=content>
<pre class="CodeRay highlight"><code data-lang=bash>$ cat /etc/security/limits.conf*
.. ()*
*     soft nproc 8192*
*     hard nproc 8192*
*     soft nofile 8192*
*     hard nofile 8192*</code></pre>
</div>
</div>
</div>
<div class=sect2>
<h3 id=_lena___><a class=link href=#_lena___>8.6. LENA   </a></h3>
<table class="tableblock frame-all grid-all stretch">
<caption class=title>Table 25.   </caption>
<col style=width:28.5714%>
<col style=width:28.5714%>
<col style=width:14.2857%>
<col style=width:14.2857%>
<col style=width:14.2858%>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top">  </th>
<th class="tableblock halign-left valign-top"></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Manager</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_HOME/repository/monitoringDB</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>N/A</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>10MB ~
120MB</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Manager, </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_HOME/repository/monitoringDB</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>7</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>N/A</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Manager</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_HOME/repository/monitoringDB</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>1MB </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Manager</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_HOME/repository/backup/lena-manager</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>300MB
</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Manager Server </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_HOME/repository/container</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>10MB /
Service Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>Service Cluster   </p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Manager</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_HOME/logs/lena-manager</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>30</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>10MB ~ 100MB</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Agent</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_HOME/logs/lena-agent</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>30</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>N/A</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>Installer</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>LENA_HOME/logs/lena-installer</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>1MB </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock><br>
LENA_HOME/servers/server_id/logs</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock>  </p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock></p></td>
</tr>
</tbody>
</table>
</div>
<div class=sect2>
<h3 id=_was_image_os_><a class=link href=#_was_image_os_>8.7. WAS Image OS </a></h3>
<div class=paragraph>
<p> WAS     OS  .</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class=title>Table 26.  WAS     (2020 )</caption>
<col style=width:50%>
<col style=width:50%>
<thead>
<tr>
<th class="tableblock halign-left valign-top">WAS Image</th>
<th class="tableblock halign-left valign-top">OS Image</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>jboss/<strong>wildfly</strong></p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock><strong>centos</strong>:7</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>open-<strong>liberty</strong>:full-java8-openj9</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock><strong>debian</strong>:buster<br>
(from adoptopenjdk/openjdk8-openj9)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>store/oracle/<strong>weblogic</strong>:12.2.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock><strong>Oracle Linux</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>ibmcom/<strong>websphere</strong>-traditional</p></td>
<td class="tableblock halign-left valign-top"><p class=tableblock><strong>ubuntu</strong>:16.04</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class=tableblock>tomcat  <br>
) tomcat:9-jdk8</p></td>
<td class="tableblock halign-left valign-top"><div class=content><div class=paragraph>
<p> Image Tag openJdk  Tag</p>
</div>
<div class=paragraph>
<p>FROM openjdk:8-jdk
(FROM <strong>debian</strong>:buster)</p>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<col style=width:100%>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class=content><div class=paragraph>
<p><strong></strong></p>
</div>
<div class=ulist>
<ul>
<li>
<p><strong></strong> : LG CNS </p>
</li>
<li>
<p><strong></strong> :   10 10  E13 [07796]</p>
</li>
<li>
<p><strong></strong>: (02) 2099-6136</p>
</li>
<li>
<p><strong></strong> : <a href=mailto:lena-support@lgcns.com>lena-support@lgcns.com</a></p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div id=footer>
<div id=footer-text>
Version 1.5.0.1<br>
Last updated 2021-07-27 14:39:34 +0900
</div>
</div>
</body>
</html></div>
</article>
<div class="gdoc-page__footer flex flex-wrap justify-between">
<span class=gdoc-page__nav>
<a class="gdoc-page__nav--prev flex align-center" href=/docs/1.3.1.2/installation/ title=installation> installation</a>
</span>
<span class=gdoc-page__nav>
<a class="gdoc-page__nav--next flex align-center" href=/docs/1.3.1.2/installation3/ title=installation3>installation3 </a>
</span>
</div>
</div>
</main>
<footer class=gdoc-footer>
<div class="container flex">
<div class="flex flex-wrap">
<span class="gdoc-footer__item gdoc-footer__item--row">
Built with <a href=https://gohugo.io/ class=gdoc-footer__link>Hugo</a> and<svg class="icon gdoc_heart"><use xlink:href="#gdoc_heart"/></svg>
</span>
</div>
<div class="flex flex-25 justify-end">
<span class=gdoc-footer__item>
<a class="gdoc-footer__link fake-link" href=# aria-label="Back to top"><svg class="icon gdoc_keyborad_arrow_up"><use xlink:href="#gdoc_keyborad_arrow_up"/></svg> <span class=hidden-mobile>Back to top</span>
</a>
</span>
</div>
</div>
</footer>
</div>
<script defer src=/js/en.search.min.dd11fe9592abe2585c1fbd6e505e89a56e02137e8d9fa50a46a01083b7682837.js></script>
<script defer src=/js/clipboard-27784b7376.min.js></script>
<script defer src=/js/clipboard-loader-f0b5fbd5f6.min.js></script>
</body>
</html>